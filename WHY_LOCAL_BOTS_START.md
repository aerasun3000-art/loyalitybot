# ü§î –ü–æ—á–µ–º—É –±–æ—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ?

## –û—Ç–≤–µ—Ç: –û–Ω–∏ –ù–ï –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

–ë–æ—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ **—Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤—ã –∏—Ö —è–≤–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ**. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–µ—Ç.

## üîç –ö–∞–∫ –±–æ—Ç—ã –º–æ–≥—É—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ:

### 1. –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç `start_beta.sh`
```bash
./start_beta.sh
```
**–ö–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –í—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ 3 –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ

### 2. –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Python
```bash
python bot.py
# –∏–ª–∏
python client_handler.py
# –∏–ª–∏
python admin_bot.py
```
**–ö–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –í—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤—Ä—É—á–Ω—É—é –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- –ò–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —á–µ—Ä–µ–∑ IDE (VS Code, PyCharm –∏ —Ç.–¥.)

### 3. –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è —Å –æ–ø—Ü–∏–µ–π `local`
```bash
./deploy.sh local
```
**–ö–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –í—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –¥–µ–ø–ª–æ–π –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ‚ùå –ß—Ç–æ –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- ‚úÖ –ù–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ù–µ—Ç cron –∑–∞–¥–∞—á –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–æ–≤
- ‚úÖ –ù–µ—Ç launchd/launchctl –∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ –ù–µ—Ç systemd —Å–µ—Ä–≤–∏—Å–æ–≤ (–Ω–∞ macOS)
- ‚úÖ –ù–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –≤ IDE

## üéØ –ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞ 409?

**–°—Ü–µ–Ω–∞—Ä–∏–π:**
1. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Fly.io ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
2. –í—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ `./start_beta.sh` –∏–ª–∏ `python bot.py` –ª–æ–∫–∞–ª—å–Ω–æ ‚ùå
3. –¢–µ–ø–µ—Ä—å –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ **–î–í–£–• –º–µ—Å—Ç–∞—Ö** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
4. Telegram API –≤–∏–¥–∏—Ç –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å –æ–¥–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º
5. –í–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ **409: Conflict**

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ Fly.io (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

**–ù–ï –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –±–æ—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ!** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ Fly.io:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
flyctl status --app loyalitybot-partner

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
flyctl logs --app loyalitybot-partner

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
flyctl machine restart <machine_id> --app loyalitybot-partner
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ:**

1. **–°–Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç –Ω–∞ Fly.io:**
   ```bash
   flyctl machine stop <machine_id> --app loyalitybot-partner
   ```

2. **–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ:**
   ```bash
   ./start_beta.sh
   # –∏–ª–∏
   python bot.py
   ```

3. **–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
   ```bash
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ
   pkill -f bot.py
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ Fly.io
   flyctl machine start <machine_id> --app loyalitybot-partner
   ```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω—ã –ª–∏ –±–æ—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
./check_bot_status.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
ps aux | grep -E "bot.py|client_handler.py|admin_bot.py" | grep -v grep
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã - –±–æ—Ç—ã –∑–∞–ø—É—â–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ!

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:

- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —Å—Ç–∞—Ç—É—Å: `./check_bot_status.sh`
- [ ] –£–±–µ–¥–∏–ª—Å—è, —á—Ç–æ –±–æ—Ç—ã –ù–ï –∑–∞–ø—É—â–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –£–±–µ–¥–∏–ª—Å—è, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (Fly.io –ò–õ–ò –ª–æ–∫–∞–ª—å–Ω–æ)

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û Fly.io.**

–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è:
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –û—Ç–ª–∞–¥–∫–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –±–æ—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Fly.io!
