# üîß –®–∞–≥–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor Supabase —Ñ–∞–π–ª `check_partner_applications.sql`:
- –ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
- –ü–æ–∫–∞–∂–µ—Ç PRIMARY KEY –∏ constraints
- –ü–æ–∫–∞–∂–µ—Ç RLS policies
- –ü–æ–∫–∞–∂–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø–∏—Å–µ–π

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ —Ç–∞–±–ª–∏—Ü–µ

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor Supabase —Ñ–∞–π–ª `fix_partner_applications.sql`:

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç:**
1. ‚úÖ –ü–µ—Ä–µ–∏–º–µ–Ω—É–µ—Ç `company_nam` ‚Üí `company_name` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—á–∞—Ç–∫–∏)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç –ø–æ–ª–µ `created_at`, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è `city` –∏ `district`
4. ‚úÖ –°–æ–∑–¥–∞—Å—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ `chat_id`
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç RLS policies –¥–ª—è –¥–æ—Å—Ç—É–ø–∞

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –í Table Editor —Ç–∞–±–ª–∏—Ü–∞ `partner_applications` –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –ø–æ–ª–µ `company_name` (–Ω–µ `company_nam`)
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–µ `created_at`
- –ü–æ–ª—è `city` –∏ `district` –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

### –®–∞–≥ 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ–æ—Ä–º—É

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ä–º—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–ª–∞—Å—å –±–µ–∑ –æ—à–∏–±–æ–∫

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

1. **PRIMARY KEY**: –í –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ PRIMARY KEY - —ç—Ç–æ `id` (int8), –∞ –Ω–µ `chat_id`. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∫–æ–¥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

2. **–ü–æ–ª–µ company_name**: –ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ–ª–µ –≤—Å–µ –µ—â–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `company_nam`, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:
   ```sql
   ALTER TABLE partner_applications 
   RENAME COLUMN company_nam TO company_name;
   ```

3. **RLS Policies**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ policies —Ä–∞–∑—Ä–µ—à–∞—é—Ç INSERT –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (public).

## üêõ –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–æ–º—É, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥

## üìù –§–∞–π–ª—ã:

- `check_partner_applications.sql` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- `fix_partner_applications.sql` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- `setup_partner_applications.sql` - –ø–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç)









