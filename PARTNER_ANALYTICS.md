# Partner Analytics Implementation

**–î–∞—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 28 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production

---

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ LoyaltyBot –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–ª–∏–µ–Ω—Ç–∞–º, –≤—ã—Ä—É—á–∫–µ, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –î–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

**–ú–µ—Ç–æ–¥:** `get_advanced_partner_stats(partner_chat_id, period_days)`

**–ú–µ—Ç—Ä–∏–∫–∏:**

#### üë• –ö–ª–∏–µ–Ω—Ç—ã
- **–í—Å–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤** - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- **–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- **–ù–æ–≤—ã—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥** - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–µ—Ä–∏–æ–¥–µ
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏** - –∫–ª–∏–µ–Ω—Ç—ã —Å 2+ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- **Retention Rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö—Å—è –∫–ª–∏–µ–Ω—Ç–æ–≤

#### üí∞ –§–∏–Ω–∞–Ω—Å—ã
- **–û–±—â–∏–π –æ–±–æ—Ä–æ—Ç** - —Å—É–º–º–∞ –≤—Å–µ—Ö —á–µ–∫–æ–≤
- **–°—Ä–µ–¥–Ω–∏–π —á–µ–∫** - —Å—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞ –ø–æ–∫—É–ø–∫–∏
- **–°—Ä–µ–¥–Ω–∏–π LTV** - —Å—Ä–µ–¥–Ω—è—è –≤—ã—Ä—É—á–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞

#### üßæ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **–í—Å–µ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **–ù–∞—á–∏—Å–ª–µ–Ω–∏–π** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –±–∞–ª–ª–æ–≤
- **–°–ø–∏—Å–∞–Ω–∏–π** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∏—Å–∞–Ω–∏–π –±–∞–ª–ª–æ–≤
- **–ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ** - —Å—É–º–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤
- **–ë–∞–ª–ª–æ–≤ —Å–ø–∏—Å–∞–Ω–æ** - —Å—É–º–º–∞ —Å–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤

#### ‚≠ê –ö–∞—á–µ—Å—Ç–≤–æ (NPS)
- **NPS Score** - Net Promoter Score (-100 –¥–æ +100)
- **–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥** - —Å—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ 0-10
- **–í—Å–µ–≥–æ –æ—Ü–µ–Ω–æ–∫** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ NPS –æ—Ç–≤–µ—Ç–æ–≤

#### üèÜ –¢–æ–ø –∫–ª–∏–µ–Ω—Ç—ã
- **–¢–æ–ø 5 –ø–æ –≤—ã—Ä—É—á–∫–µ** - —Å–∞–º—ã–µ —Ü–µ–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã

---

### 2. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV

**–ú–µ—Ç–æ–¥:** `export_partner_data_to_csv(partner_chat_id, period_days)`

**–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:**

| –°—Ç–æ–ª–±–µ—Ü | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è | Timestamp —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |
| –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ | –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ / –°–ø–∏—Å–∞–Ω–∏–µ |
| –ö–ª–∏–µ–Ω—Ç ID | Chat ID –∫–ª–∏–µ–Ω—Ç–∞ |
| –°—É–º–º–∞ —á–µ–∫–∞ (‚ÇΩ) | –°—É–º–º–∞ –ø–æ–∫—É–ø–∫–∏ |
| –ò–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–ª–æ–≤ | +/- –±–∞–ª–ª—ã |
| –ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ | –ë–∞–ª–∞–Ω—Å –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ |
| –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |

**–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** UTF-8 with BOM (–¥–ª—è Excel)

---

### 3. –ö–æ–≥–æ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑

**–ú–µ—Ç–æ–¥:** `get_partner_cohort_analysis(partner_chat_id)`

**–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞:** –ü–æ –º–µ—Å—è—Ü–∞–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–≥–æ—Ä—Ç—ã:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤
- –û–±—â–∏–π –æ–±–æ—Ä–æ—Ç
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°—Ä–µ–¥–Ω–∏–π –æ–±–æ—Ä–æ—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞
- –°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑ –¥–∏–Ω–∞–º–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

---

## üì± –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Telegram –±–æ—Ç–µ

### –ö–Ω–æ–ø–∫–∞ "üìä –ú–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é –≤—ã–±–æ—Ä–∞:

```
üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê –ò –°–¢–ê–¢–ò–°–¢–ò–ö–ê

–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞:

[üìä 7 –¥–Ω–µ–π]  [üìä 30 –¥–Ω–µ–π]
[üìä 90 –¥–Ω–µ–π] [üìä –í—Å—ë –≤—Ä–µ–º—è]
[üì• –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö] [üë• –ö–æ–≥–æ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑]
[‚¨ÖÔ∏è –ù–∞–∑–∞–¥]
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞

```
üìä –î–ï–¢–ê–õ–¨–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê (–∑–∞ 30 –¥–Ω–µ–π)
===================================

üë• –ö–õ–ò–ï–ù–¢–´:
‚îú‚îÄ –í—Å–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤: **45** —á–µ–ª.
‚îú‚îÄ –ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥: **28** —á–µ–ª.
‚îú‚îÄ –ù–æ–≤—ã—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥: **12** —á–µ–ª.
‚îî‚îÄ –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏: **15** —á–µ–ª.

üí∞ –§–ò–ù–ê–ù–°–´:
‚îú‚îÄ –û–±—â–∏–π –æ–±–æ—Ä–æ—Ç: **125,450.00** ‚ÇΩ
‚îú‚îÄ –°—Ä–µ–¥–Ω–∏–π —á–µ–∫: **2,850.50** ‚ÇΩ
‚îî‚îÄ –°—Ä–µ–¥–Ω–∏–π LTV: **2,787.78** ‚ÇΩ/–∫–ª–∏–µ–Ω—Ç

üßæ –¢–†–ê–ù–ó–ê–ö–¶–ò–ò:
‚îú‚îÄ –í—Å–µ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π: **52**
‚îú‚îÄ –ù–∞—á–∏—Å–ª–µ–Ω–∏–π: **44**
‚îú‚îÄ –°–ø–∏—Å–∞–Ω–∏–π: **8**
‚îú‚îÄ –ë–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ: **6,273**
‚îî‚îÄ –ë–∞–ª–ª–æ–≤ —Å–ø–∏—Å–∞–Ω–æ: **1,240**

‚≠ê –ö–ê–ß–ï–°–¢–í–û:
‚îú‚îÄ NPS Score: **+42.5**
‚îú‚îÄ –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: **8.35** –∏–∑ 10
‚îî‚îÄ –í—Å–µ–≥–æ –æ—Ü–µ–Ω–æ–∫: **20**

üèÜ –¢–û–ü-5 –ö–õ–ò–ï–ù–¢–û–í:
‚îú‚îÄ 1. Client_123456: **15,450.00** ‚ÇΩ
‚îú‚îÄ 2. Client_789012: **12,300.00** ‚ÇΩ
‚îú‚îÄ 3. Client_345678: **10,250.00** ‚ÇΩ
‚îú‚îÄ 4. Client_901234: **8,900.00** ‚ÇΩ
‚îî‚îÄ 5. Client_567890: **7,650.00** ‚ÇΩ
```

### –ö–æ–≥–æ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑

```
üë• –ö–û–ì–û–†–¢–ù–´–ô –ê–ù–ê–õ–ò–ó
(–∫–ª–∏–µ–Ω—Ç—ã –ø–æ –º–µ—Å—è—Ü–∞–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)

üìÖ **2025-08**
‚îú‚îÄ –ö–ª–∏–µ–Ω—Ç–æ–≤: 15
‚îú‚îÄ –û–±–æ—Ä–æ—Ç: 45,250.00 ‚ÇΩ
‚îú‚îÄ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: 38
‚îî‚îÄ –°—Ä–µ–¥–Ω–∏–π —á–µ–∫/–∫–ª–∏–µ–Ω—Ç: 3,016.67 ‚ÇΩ

üìÖ **2025-09**
‚îú‚îÄ –ö–ª–∏–µ–Ω—Ç–æ–≤: 18
‚îú‚îÄ –û–±–æ—Ä–æ—Ç: 52,800.00 ‚ÇΩ
‚îú‚îÄ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: 45
‚îî‚îÄ –°—Ä–µ–¥–Ω–∏–π —á–µ–∫/–∫–ª–∏–µ–Ω—Ç: 2,933.33 ‚ÇΩ

üìÖ **2025-10**
‚îú‚îÄ –ö–ª–∏–µ–Ω—Ç–æ–≤: 12
‚îú‚îÄ –û–±–æ—Ä–æ—Ç: 27,400.00 ‚ÇΩ
‚îú‚îÄ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: 19
‚îî‚îÄ –°—Ä–µ–¥–Ω–∏–π —á–µ–∫/–∫–ª–∏–µ–Ω—Ç: 2,283.33 ‚ÇΩ
```

---

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### URL –¥–∞—à–±–æ—Ä–¥–∞

```
https://your-frontend.vercel.app/partner/analytics?partner_id=CHAT_ID
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **PartnerAnalytics.jsx** - –±–∞–∑–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥
   - –ü—Ä–æ—Å—Ç–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - –ü—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
   - –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

2. **Analytics.jsx** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
   - –ì—Ä–∞—Ñ–∏–∫–∏ (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å Chart.js)
   - –ö–æ–≥–æ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
   - –¢–æ–ø –∫–ª–∏–µ–Ω—Ç—ã –ø–æ LTV

3. **AdminAnalytics.jsx** - –∞–¥–º–∏–Ω—Å–∫–∞—è –ø–∞–Ω–µ–ª—å
   - –°–≤–æ–¥–∫–∞ –ø–æ –≤—Å–µ–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º
   - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Telegram Bot (bot.py)
        ‚Üì
SupabaseManager (supabase_manager.py)
        ‚Üì
Supabase Database
        ‚Üì
Frontend (React)
```

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```python
from functools import lru_cache
from datetime import datetime, timedelta

@lru_cache(maxsize=128)
def get_cached_stats(partner_id, period, cache_key):
    # cache_key = current_hour –¥–ª—è 1-—á–∞—Å–æ–≤–æ–≥–æ –∫–µ—à–∞
    return get_advanced_partner_stats(partner_id, period)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
cache_key = datetime.now().strftime("%Y-%m-%d-%H")
stats = get_cached_stats(partner_id, 30, cache_key)
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ `partner_chat_id`, `date_time`
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –≤ Python –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏

---

## üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### Python (backend)

```python
from supabase_manager import SupabaseManager

sm = SupabaseManager()

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ 30 –¥–Ω–µ–π
stats = sm.get_advanced_partner_stats("123456789", period_days=30)

print(f"–û–±–æ—Ä–æ—Ç: {stats['total_revenue']} ‚ÇΩ")
print(f"–ö–ª–∏–µ–Ω—Ç–æ–≤: {stats['active_clients']}")
print(f"NPS: {stats['nps_score']}")

# –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
success, filepath = sm.export_partner_data_to_csv("123456789", period_days=90)
if success:
    print(f"CSV —Å–æ–∑–¥–∞–Ω: {filepath}")

# –ö–æ–≥–æ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
cohort_data = sm.get_partner_cohort_analysis("123456789")
for cohort in cohort_data['cohorts']:
    print(f"{cohort['month']}: {cohort['clients_count']} –∫–ª–∏–µ–Ω—Ç–æ–≤")
```

### JavaScript (frontend)

```javascript
import { getAdvancedPartnerStats } from './services/supabase'

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
const stats = await getAdvancedPartnerStats(partnerChatId, 30)

console.log(`Revenue: ${stats.total_revenue}`)
console.log(`Clients: ${stats.active_clients}`)
console.log(`NPS: ${stats.nps_score}`)
```

---

## üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤

```bash
npm install chart.js react-chartjs-2
```

```javascript
import { Line, Bar, Pie } from 'react-chartjs-2'

// –ì—Ä–∞—Ñ–∏–∫ –≤—ã—Ä—É—á–∫–∏ –ø–æ –¥–Ω—è–º
<Line data={revenueData} options={chartOptions} />

// –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
<Pie data={clientsData} />

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤
<Bar data={comparisonData} />
```

---

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

1. **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ 7 –¥–Ω–µ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

2. **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑:**
   - –°–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ 30 –¥–Ω–µ–π —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ç–æ–ø –∫–ª–∏–µ–Ω—Ç–æ–≤

3. **–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç:**
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ CSV
   - –ü—Ä–æ–≤–æ–¥–∏—Ç–µ –∫–æ–≥–æ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
   - –°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –º–µ—Å—è—Ü–∞–º–∏

4. **NPS –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –î–µ—Ä–∂–∏—Ç–µ NPS –≤—ã—à–µ +30
   - –†–∞–±–æ—Ç–∞–π—Ç–µ —Å –¥–µ—Ç—Ä–∞–∫—Ç–æ—Ä–∞–º–∏ (–æ—Ü–µ–Ω–∫–∏ 0-6)

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤:**
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
   - –ü–æ–º–æ–≥–∞–π—Ç–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º —Å –Ω–∏–∑–∫–∏–º NPS

2. **–í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:**
   - –ü–∞—Ä—Ç–Ω–µ—Ä—ã –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π > 7 –¥–Ω–µ–π
   - –ü–∞–¥–µ–Ω–∏–µ retention rate
   - –°–Ω–∏–∂–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–µ–∫–∞

---

## ‚úÖ Checklist

- [x] **get_advanced_partner_stats()** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] **export_partner_data_to_csv()** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] **get_partner_cohort_analysis()** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å bot.py** –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- [x] **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å–æ–∑–¥–∞–Ω
- [x] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –≥–æ—Ç–æ–≤–∞
- [ ] **–ì—Ä–∞—Ñ–∏–∫–∏** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, Chart.js)
- [ ] **Email-–æ—Ç—á–µ—Ç—ã** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –£–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã:**
   - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º
   - Email —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏

2. **–ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:**
   - –ü—Ä–æ–≥–Ω–æ–∑ –≤—ã—Ä—É—á–∫–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü
   - –í—ã—è–≤–ª–µ–Ω–∏–µ —É—Ö–æ–¥—è—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

3. **–ë–µ–Ω—á–º–∞—Ä–∫–∏:**
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Å—Ä–µ–¥–Ω–∏–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –ø–æ —Å–∏—Å—Ç–µ–º–µ
   - –†–µ–π—Ç–∏–Ω–≥ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BI:**
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ Google Sheets
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Power BI / Tableau

---

## üéâ –ò—Ç–æ–≥–∏

**–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞!**

–ü–∞—Ä—Ç–Ω–µ—Ä—ã –º–æ–≥—É—Ç:
- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –±–æ—Ç–µ
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ CSV
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–≥–æ—Ä—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ç–æ–ø –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å NPS –∏ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–±-–¥–∞—à–±–æ—Ä–¥

**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** ~3 —á–∞—Å–∞  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 28 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** Production-ready ‚úÖ

