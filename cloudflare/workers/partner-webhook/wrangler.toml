# Cloudflare Worker configuration for Partner Bot Webhook

name = "loyalitybot-partner-webhook"
main = "index.js"
compatibility_date = "2024-01-01"

# Environment variables (set via wrangler secret put)
# TOKEN_PARTNER - Telegram bot token
# TOKEN_CLIENT - Client bot token (for partner broadcast to clients)
# SUPABASE_URL - Supabase project URL
# SUPABASE_KEY - Supabase API key
# WEBHOOK_SECRET_TOKEN - Optional secret token for webhook validation
# FRONTEND_URL - Frontend application URL
# BOT_USERNAME - Client bot username (for referral links)
# SENTRY_DSN - Sentry DSN for error tracking (optional)
# SENTRY_ENVIRONMENT - Sentry environment (default: production)

[vars]
PARTNER_BOT_USERNAME = "ghbipartnerbot"
FRONTEND_URL = "https://sarafano24.ru"

[env.production]
name = "loyalitybot-partner-webhook"

[env.staging]
name = "loyalitybot-partner-webhook-staging"

# Note: CPU limits are not supported on Free plan
# Remove [limits] section for Free plan deployments
