# ==============================================
# LOYALITYBOT - КОНФИГУРАЦИЯ ОКРУЖЕНИЯ
# ==============================================
# Переименуйте этот файл в .env и заполните реальными значениями

# ----------------------------------------------
# TELEGRAM БОТЫ
# ----------------------------------------------
# Токен партнёрского бота (получить у @BotFather)
TOKEN_PARTNER=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Токен клиентского бота (получить у @BotFather)
TOKEN_CLIENT=987654321:ZYXwvuTSRqponMLKjihGFEdcba

# Токен администраторского бота (получить у @BotFather)
ADMIN_BOT_TOKEN=111222333:AABBccDDeeFFggHHiiJJkkLLmm

# ID администратора(ов) через запятую (узнать у @userinfobot)
# Пример: 123456789 или 123456789,987654321
ADMIN_CHAT_ID=YOUR_TELEGRAM_CHAT_ID

# ----------------------------------------------
# SUPABASE DATABASE
# ----------------------------------------------
# URL вашего Supabase проекта
# Формат: https://xxxxxxxxxxxxx.supabase.co
SUPABASE_URL=https://your-project.supabase.co

# API ключ Supabase (anon/public key из Project Settings → API)
SUPABASE_KEY=your-supabase-anon-key-here

# ----------------------------------------------
# БИЗНЕС-ЛОГИКА
# ----------------------------------------------
# Размер приветственного бонуса для новых клиентов (в баллах)
WELCOME_BONUS_AMOUNT=100

# Процент кэшбэка (0.05 = 5%)
# Примечание: сейчас хардкод в supabase_manager.py, можно вынести сюда
# CASHBACK_PERCENT=0.05

# Гибкие правила начисления (JSON-объект)
# Пример: {"default_percent":0.05,"partners":{"123456":{"percent":0.07,"multiplier":2,"multiplier_until":"2025-12-31"}}}
# CASHBACK_RULES_JSON={"default_percent":0.05}

# Шаблоны быстрых операций (JSON-объект)
# Пример: {"default":{"accrual":[{"label":"Средний чек","value":1500}],"spend":[{"label":"100","value":100},{"label":"250","value":250}]}}
# OPERATION_TEMPLATES_JSON={"default":{"accrual":[{"label":"$1500","value":1500}]}}

# Правила акций и бонусов (JSON-объект)
# Пример: {"rules":[{"type":"multiplier","txn_type":"accrual","partners":["*"],"days_of_week":[4,5],"time_start":"18:00","time_end":"21:00","value":2}]}
# TRANSACTION_RULES_JSON={"rules":[]}

# Лимиты и антифрод (JSON-объект)
# Пример: {"accrual":{"max_points_per_transaction":500},"spend":{"max_points_per_day":2000}}
# TRANSACTION_LIMITS_JSON={"accrual":{"max_points_per_transaction":500}}

# Путь к локальному файлу очереди транзакций (по умолчанию transaction_queue.json в корне)
# TRANSACTION_QUEUE_PATH=/var/app/cache/transaction_queue.json

# Время жизни кэша аналитики (в секундах)
# ANALYTICS_CACHE_TTL=300

# ----------------------------------------------
# AI / GIGACHAT (опционально)
# ----------------------------------------------
# API ключ для GigaChat (получить на https://developers.sber.ru/gigachat)
# Оставьте пустым, чтобы отключить AI помощника
GIGACHAT_API_KEY=

# ----------------------------------------------
# FRONTEND (опционально)
# ----------------------------------------------
# URL фронтенда для дашбордов и одностраничников
FRONTEND_URL=https://your-frontend-url.vercel.app

# Домен фронтенд приложения (Telegram Web App)
# BASE_DOMAIN=https://tma-bot-rewards.lovable.app

# ----------------------------------------------
# ДОПОЛНИТЕЛЬНО (для продакшена)
# ----------------------------------------------
# Уровень логирования (DEBUG, INFO, WARNING, ERROR)
# LOG_LEVEL=INFO

# Sentry DSN для мониторинга ошибок (опционально)
# Получить в настройках проекта Sentry
# SENTRY_DSN=https://xxx@sentry.io/xxx
# Окружение для отслеживания (production, staging, development)
# SENTRY_ENVIRONMENT=production

# Telegram алерты от Sentry (опционально)
# Токен бота для отправки Sentry алертов
# SENTRY_ALERT_TELEGRAM_TOKEN=8309705244:AAHCTtgphMpjqYDxk0iYJWF7P-K-P1dnmfo
# Chat ID куда отправлять алерты (ваш личный или ID группы)
# SENTRY_ALERT_CHAT_ID=123456789
# Секретный ключ для проверки webhook от Sentry (опционально)
# SENTRY_WEBHOOK_SECRET=your_random_secret_here

# Redis URL для хранения состояний (опционально)
# REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------
# GOOGLE CALENDAR (опционально)
# ----------------------------------------------
# Путь к JSON файлу с credentials Service Account для Google Calendar
# GOOGLE_CALENDAR_CREDENTIALS_PATH=/path/to/service-account-key.json
# ID календаря (email календаря или calendar ID)
# GOOGLE_CALENDAR_ID=your-calendar-id@group.calendar.google.com

