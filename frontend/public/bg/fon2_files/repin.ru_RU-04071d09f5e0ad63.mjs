(self.modernJsonp=self.modernJsonp||[]).push([["34940"],{991809:function(e,t,n){n.r(t),n.d(t,{default:()=>i});let d={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null}],type:"Pin",abstractKey:null};d.hash="60ba8f292ef82335c3d4cbce50f362d8";let i=d},329197:function(e,t,n){n.d(t,{Z:()=>i});var d=n(233597);function i(e,t,n){return(0,d.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}},679602:function(e,t,n){n.d(t,{S:()=>I,Z:()=>_});var d=n(27399),i=n(329197),o=n(773382),r=n(779686),s=n(148266),a=n(438274),c=n(382802);let l=e=>t=>{c.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt("Подождите, пока завершится предыдущее действие на доске.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))},u=e=>(0,r.N8)(e.sectionId?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,e.sectionId||e.boardId);function p(e,t){let{source:n,target:d}=e;d.boardId!==n.boardId?(t((0,i.Z)(n.boardId,"pin_count")),t((0,i.Z)(d.boardId,"pin_count"))):n.sectionId&&d.sectionId||t((0,i.Z)(d.boardId,"pin_count")),n.sectionId&&t((0,o.Z)(n.sectionId)),d.sectionId&&t((0,o.Z)(d.sectionId))}function I(e){return t=>{let{selectedPinIds:n,source:d,target:i}=e;t((0,r.EX)({feedId:d.sectionId||d.boardId,feedType:d.sectionId?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,r.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,itemIds:n,itemType:"pin"})),n.forEach(e=>{t((0,s.Vp)({pinId:e,boardId:i.boardId,sectionId:i.sectionId||void 0,title:i.name||""}))}),p(e,t)}}function _(e,t){return n=>{let{selectedPinIds:i,target:o}=e;return i.forEach(e=>{n((0,s.Vp)({pinId:e,boardId:o.boardId,sectionId:o.sectionId||void 0,title:o.name||""}))}),(function(e,t,n){let{inverseSelection:i,selectedPinIds:o,source:s,target:c,orbacSubjectId:p}=e;if(s.boardId===c.boardId&&(s.sectionId||null)===(c.sectionId||null))return Promise.reject();if(i){let e={board_id:s.boardId,new_board_id:c.boardId,old_section_id:s.sectionId||void 0,new_section_id:c.sectionId||void 0,pin_ids:o,orbac_subject_id:p};return d.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(s)),t(u(c))])).catch(l(n))}{let e=(e,n)=>{t((0,r.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,itemIds:o,itemType:"pin"})),t((0,r.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,itemIds:o,itemType:"pin"}))};e(s,c);let i=()=>e(c,s);if(c.boardId===s.boardId)if(c.sectionId){let e={section_id:c.sectionId,pins:o,orbac_subject_id:p};return d.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{i(),l(n)(e)})}else{let e={section_id:s.sectionId,pins:o,orbac_subject_id:p};return d.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{i(),l(n)(e)})}{let e={board_id:c.boardId,section_id:c.sectionId||void 0,pin_ids:o,orbac_subject_id:p};return d.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{i(),l(n)(e)})}}})(e,n,t).then(()=>p(e,n))}}},91734:function(e,t,n){n.d(t,{Z:()=>Z});var d,i=n(686659),o=n(667294),r=n(312048),s=n(774838),a=n(739405);n(167912);var c=n(85987),l=n(947504),u=n(183e3),p=n(68876),I=n(785893);let _=(void 0!==d||(d=n(991809)).hash&&"60ba8f292ef82335c3d4cbce50f362d8"!==d.hash&&console.error("The definition of 'CloseupRepinPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function f({pinKey:e}){(0,o.useEffect)(()=>{(0,i.Z)("CloseupRepinPage","/app/www/pages/authDesktop/CloseupRepinPage.tsx")},[]);let t=(0,u.Z)(_,e);return t?(0,I.jsx)(p.Z,{type:"authDesktop",children:t.isEligibleForPdp?(0,I.jsx)(l.Z,{showRepin:!0}):(0,I.jsx)(c.ZP,{showRepin:!0})}):null}var b=n(652436),h=n(228612),E=n(305375);let Z=function(){(0,o.useEffect)(()=>{(0,i.Z)("InternalRepinPage","/app/www/pages/InternalRepinPage.tsx")},[]);let{id:e}=(0,E.Z)(),t=(0,a.ZP)(),{isAuthenticated:n}=(0,s.B)(),d=(0,h.S6)(),c=e?d(e):null;return n?"desktop"===t?(0,I.jsx)(f,{pinKey:null!=c?{type:"Legacy",data:c}:null}):(0,I.jsx)(b.ZP,{shouldFetchPinFromGraphQL:!0}):(0,I.jsx)(r.Fg,{replace:!0,to:`/pin/${e??""}/`})}},162309:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/repin",function(){return n(91734).Z}])}},function(e){e.O(0,["10130","11893","15100","15598","17001","17874","23234","25418","29403","32467","3460","36412","36529","39142","39366","56849","59396","60886","65570","73203","77697","93210","9752"],function(){return e(e.s=162309)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin.ru_RU-04071d09f5e0ad63.mjs.map