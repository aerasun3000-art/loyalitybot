(self.modernJsonp=self.modernJsonp||[]).push([["92869"],{827446:function(e,t,i){var n={"./HI.tsx":["566876",9,"54183"],"./KR":["90529",9,"56292"],"./RO.tsx":["333966",9,"3266"],"./ENUK.tsx":["532750",9,"79225"],"./TL.tsx":["177147",9,"81425"],"./HU":["536300",9,"17015"],"./UA.tsx":["161698",9,"19312"],"./ID.tsx":["464550",9,"55315"],"./ID":["464550",9,"55315"],"./NL":["14454",9,"1412"],"./ZHCN.tsx":["109399",9,"58485"],"./consts":["565387",9,"65304"],"./ZHCN":["109399",9,"58485"],"./SV":["757029",9,"42976"],"./ESMX.tsx":["68731",9,"41543"],"./TL":["177147",9,"81425"],"./PL.tsx":["610662",9,"13349"],"./TH.tsx":["980727",9,"54174"],"./HI":["566876",9,"54183"],"./types.ts":["870789",7,"70991"],"./IT":["280472",9,"7306"],"./SK":["97884",9,"61678"],"./RU":["881467",9,"47755"],"./SK.tsx":["97884",9,"61678"],"./ZHTW":["341055",9,"82728"],"./ESMX":["68731",9,"41543"],"./DA.tsx":["676757",9,"28428"],"./NL.tsx":["14454",9,"1412"],"./JP.tsx":["485253",9,"7394"],"./KR.tsx":["90529",9,"56292"],"./FR":["456486",9,"83268"],"./TR.tsx":["23146",9,"85262"],"./FR.tsx":["456486",9,"83268"],"./index.tsx":["956804",9],"./NO":["691841",9,"68234"],"./DE.tsx":["408451",9,"79118"],"./PTPT":["889076",9,"90861"],"./MS.tsx":["322609",9,"97874"],"./ESAR":["518900",9,"3191"],"./localeToFilename":["197040",9],"./HU.tsx":["536300",9,"17015"],"./RO":["333966",9,"3266"],"./PL":["610662",9,"13349"],"./TR":["23146",9,"85262"],"./DE":["408451",9,"79118"],"./ESES":["652678",9,"52921"],"./ESES.tsx":["652678",9,"52921"],"./VT.tsx":["453016",9,"81204"],"./TH":["980727",9,"54174"],"./DA":["676757",9,"28428"],"./PTBR.tsx":["992560",9,"51628"],"./ZHTW.tsx":["341055",9,"82728"],"./":["956804",9],"./ENUS":["338350",9,"94181"],"./JP":["485253",9,"7394"],"./PTBR":["992560",9,"51628"],"./CZ":["970527",9,"7707"],"./NO.tsx":["691841",9,"68234"],"./PTPT.tsx":["889076",9,"90861"],"./CZ.tsx":["970527",9,"7707"],"./SV.tsx":["757029",9,"42976"],"./UA":["161698",9,"19312"],"./ESAR.tsx":["518900",9,"3191"],"./VT":["453016",9,"81204"],"./index":["956804",9],"./GR.tsx":["279048",9,"61145"],"./IT.tsx":["280472",9,"7306"],"./localeToFilename.ts":["197040",9],"./ENUS.tsx":["338350",9,"94181"],"./ENUK":["532750",9,"79225"],"./FI":["369766",9,"14797"],"./FI.tsx":["369766",9,"14797"],"./consts.ts":["565387",9,"65304"],"./types":["870789",7,"70991"],"./GR":["279048",9,"61145"],"./RU.tsx":["881467",9,"47755"],"./MS":["322609",9,"97874"]};function r(e){if(!i.o(n,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return Promise.all(t.slice(2).map(i.e)).then(function(){return i.t(r,16|t[1])})}r.keys=()=>Object.keys(n),r.id=827446,e.exports=r},548777:function(e,t,i){i.d(t,{m:()=>u,r:()=>h});var n=i(667294),r=i(213491),o=i(367683),a=i(501010),s=i(774838),l=i(661376),d=i(785893);let{Provider:c,get:u}=(0,r.Z)("PinRep");function h({children:e}){let{isAuthenticated:t}=(0,s.B)(),{checkExperiment:i}=(0,a.Z)(),{experience:r}=(0,o.Ow)(1000069),[u,h]=(0,n.useState)(!0),[p,m]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),[_,x]=(0,n.useState)(null),[b,y]=(0,n.useState)(null),w=(0,o.oS)(1000069),{anyEnabled:P}=i("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),v=(0,l.Z)(t&&P?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,n.useEffect)(()=>{if(!t)return void h(!1);r&&(!r||r?.experience_id===500417&&r?.display_data.hide_footer)?w.viewExperience(1000069,500417):h(!1),m(!0)},[r]);let j=(0,n.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:g,hasSimplifiedPinGridExpLoaded:p,hidePinRepFooter:u,quickSaveBoardId:v,setHasMetSaveRequirementOnUseCaseFeed:f,setUseCaseFeedOriginalPinId:y,setUseCaseFeedRepinId:x,useCaseFeedOriginalPinId:b,useCaseFeedRepinId:_}),[g,p,u,v,f,y,x,b,_]);return(0,d.jsx)(c,{value:j,children:e})}},387012:function(e,t,i){i.d(t,{Z:()=>l});var n=i(686659),r=i(667294),o=i(20256),a=i(24246),s=i(785893);function l({children:e,onClick:t,isSelected:i}){(0,r.useEffect)(()=>{(0,n.Z)("BulkEditPinWrapper","/app/common/react/components/save/board/BulkEditPinWrapper/BulkEditPinWrapper.tsx")},[]);let l=(0,a.Z)(),d=i?l.bt("Перетащите выбранный элемент", "Drag and drop selected item", "BulkEditPinWrapper.tapArea.selectedAccessibilityLabel", undefined, true):l.bt("Перетащите не выбранный элемент", "Drag and drop deselected item", "BulkEditPinWrapper.tapArea.deselectedAccessibilityLabel", undefined, true);return(0,s.jsxs)(o.xu,{position:"relative",children:[(0,s.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(o.iP,{accessibilityLabel:d,fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:2})}),(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}},876645:function(e,t,i){i.d(t,{Z:()=>r});let n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function r({window:e,duration:t,run:i}){let r=n(),o=0,a=null,s=()=>{let l=n()-r,d=l-o;if(t===1/0)i(0,l,d);else{let e=l/t;if(e>=1)return void i(1,l,d);i(e,l,d)}o=l,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},828801:function(e,t,i){i.d(t,{Z:()=>h});var n=i(686659),r=i(667294),o=i(20256),a=i(876645),s=i(564377),l=i(510755),d=i(785893);function c(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends r.Component{constructor(...e){super(...e),c(this,"state",{visible:!1}),c(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),c(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,a.Z)({window,duration:1/0,run:(e,i,n)=>{window.scrollTo(0,window.scrollY+(i<500?.8:1.2000000000000002)*t*n)}}),this.scrollAnimationManager.start()}}),c(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:i}=this.state;return(0,d.jsx)(o.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:0x1000037,visibility:i?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,d.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function h({noStickyHeader:e}){(0,r.useEffect)(()=>{(0,n.Z)("DragScrollManager","/app/packages/dragDrop/DragScrollManager.tsx")},[]);let t=e?0:l.hu;return(0,d.jsx)(s.Z,{children:(0,d.jsx)(o.mh,{children:(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(u,{height:120+t,placement:"top"}),(0,d.jsx)(u,{height:120,placement:"bottom"})]})})})}},2587:function(e,t,i){i.d(t,{Z:()=>d,y:()=>s});var n=i(667294),r=i(60598),o=i(14890),a=i(785893);let s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem",Cutout:"cutout",CartingRetailer:"cartingretailer"};class l extends n.Component{render(){let{accessibilityControls:e,accessibilitySelected:t,children:i,connectDragSource:n,connectDropTarget:r,id:o,isDragging:s,isDraggingInternal:l,isDropTargetOnly:d,role:c}=this.props,u=r((0,a.jsx)("div",{ref:e=>{this.targetEl=e},"aria-controls":e,"aria-selected":t,id:o,role:c,style:{opacity:s||l?0:1},children:i}));return d?u:n(u)}}let d=(0,o.compose)((0,r.DropTarget)(e=>e.type,{hover:({index:e,onDragHover:t},i,n)=>{t(e,function(e,t){let i=t.targetEl;if(!(i&&i instanceof HTMLElement))return null;let{x:n,y:r}=e.getClientOffset(),{left:o,right:a,top:s,bottom:l,width:d,height:c}=i.getBoundingClientRect();return{positionRelativeToCenter:{x:n-(o+a)/2,y:r-(s+l)/2},boundingBox:{width:d,height:c}}}(i,n))}},e=>({connectDropTarget:e.dropTarget()})),(0,r.DragSource)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.internalMonitor.registry.dragSources.size>0&&t.isDragging()})))(l)},728027:function(e,t,i){i.d(t,{Z:()=>a});var n=i(60598),r=i(14890),o=i(548303);let a=e=>t=>(0,r.compose)(o.Z,(0,n.DropTarget)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},250026:function(e,t,i){function n(e,t,i,r=0){if(-1===t||-1===i||t===i)return e;let o=i+r,a=t+r;if(o<0||o>=e.length||a<0||a>=e.length)return e;let s=[...e],l=s[a],d=a<o?1:-1;for(let t=a;t!==o;t+=d)s[t]=e[t+d];return s[o]=l,s}i.d(t,{Z:()=>n})},309266:function(e,t,i){i.d(t,{Z:()=>a});var n=i(581722);let r=[1000069,1000075],o={};function a(){var e;return e=(0,n.v9)(({experiences:e})=>e),r.forEach(t=>{e[t]&&(void 0===o[t]||o[t].id!==e[t].id)&&(o[t]=e[t])}),o}},956804:function(e,t,i){i.r(t),i.d(t,{default:()=>c});var n=i(667294),r=i(20256),o=i(24246),a=i(774838),s=i(317109),l=i(197040),d=i(785893);function c({height:e,onCtaDidLoad:t,width:c}){let u=(0,o.Z)(),[h,p]=(0,n.useState)(null),{locale:m}=(0,a.B)(),g=(0,l.default)(m);(0,n.useEffect)(()=>{g&&"none"!==g&&p((0,n.lazy)(()=>i(827446)(`./${g}`)))},[g]),(0,n.useEffect)(()=>{h&&t()},[h]);let f=u.bt("Откройте приложение Pinterest, перейдите на панель поиска и нажмите значок камеры, чтобы отсканировать Pin-код", "Open Pinterest app, then go to the search bar, then tap the camera icon located in the search bar to scan the Pincode", "PincodeCTA.instruction", undefined, true),_=(0,d.jsx)(r.xv,{align:"center",children:f});return"none"===g?_:h?(0,d.jsx)(s.Z,{fallback:_,children:(0,d.jsx)(h,{height:e,title:f,width:c})}):(0,d.jsx)(r.xH,{accessibilityLabel:u.bt("Загрузка призыва к действию для Pin-кода", "Loading Pincode Call to Action", "PincodeCTA.loading", undefined, true),show:!0})}},197040:function(e,t,i){function n(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":case"ES-419":return"ESMX";case"ES-AR":return"ESAR";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}i.r(t),i.d(t,{default:()=>n})},702436:function(e,t,i){i.d(t,{Z:()=>j});var n,r,o=i(686659),a=i(667294),s=i(20256),l=i(230201),d=i(24246),c=i(114589),u=i(956804),h=i(785893);function p({getThumbnailImageSrcSet:e,images:t,onTouch:i}){(0,a.useEffect)(()=>{(0,o.Z)("PincodeHeroImagePicker","/app/www/pincode/PincodeHeroImagePicker.tsx")},[]);let n=(0,d.Z)();return(0,h.jsx)(s.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,r)=>(0,h.jsx)(s.xu,{padding:1,children:(0,h.jsx)(s.st,{children:(0,h.jsx)(s.iP,{fullWidth:!1,onTap:()=>i("logo"===t?"logo":r-1),rounding:2,children:(0,h.jsx)(s.zd,{height:85,rounding:"circle",width:85,children:"logo"===t?(0,h.jsx)(s.JO,{accessibilityLabel:"Pinterest logo",color:"primary",icon:"pinterest",size:85}):t.url&&(0,h.jsx)(s.Ee,{alt:n.bt("Изображение баннера PIN-кода", "Pincode Hero Image", "accessibility label for the Pincode hero image", undefined, true),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url,srcSet:e&&e(t.url??"")})})})})},"logo"===t?t:t.url))})}var m=i(661376);let g=i(997526).$rz,f=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
  <svg xmlns="http://www.w3.org/2000/svg" width="222" height="${n||222}" x="0" y="${r||0}" viewBox="0 0 222 222">
    <path d="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z" fill="${g}" fill-rule="evenodd" />
  </svg>`.trim())}`;function _(e,t,i){return`
    <image id="image"
      x="${100+300*("right"===t)}"
      y="${100+300*("bottom"===i)}"
      width="${600/("row"===t?1:2)}"
      height="${600/("column"===i?1:2)}"
      href="${e}"
      preserveAspectRatio="xMidYMid slice"
    />`}class x extends a.Component{constructor(...e){var t,i,n;super(...e),t="handleFetchChange",i=()=>{let{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){(0,o.Z)("PincodeMainImage","/app/www/pincode/PincodeMainImage.tsx");let{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){let{className:e,imageUrls:t,size:i,pincodeImageResource:{data:n,isLoaded:r}}=this.props;return(0,h.jsxs)(s.kC,{alignItems:"center",height:i,justifyContent:"center",width:i,children:[r&&!!n&&(0,h.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:function(e,t){let i=function(e){switch(e.length){case 0:case 1:return;case 2:return[_(e[0],"left","column"),_(e[1],"right","column")].join("");case 3:return[_(e[0],"left","column"),_(e[1],"right","top"),_(e[2],"right","bottom")].join("");default:return[_(e[0],"left","top"),_(e[1],"right","top"),_(e[2],"left","bottom"),_(e[3],"right","bottom")].join("")}}(t);return i?e.replace(/<image[^>]*>/,i):e}(n,t)},style:{width:i,height:i}}),(0,h.jsx)(s.xH,{accessibilityLabel:this.props.i18n.bt("Загрузка изображения PIN-кода", "Loading Pincode Image", "accessibility label for loading the Pincode image", undefined, true),show:!n})]})}}function b(e){(0,a.useEffect)(()=>{(0,o.Z)("PincodeMainImage","/app/www/pincode/PincodeMainImage.tsx")},[]);let t=(0,d.Z)(),i=(0,m.Z)({name:"ApiResource",options:{url:"/v3/pincode/image/",data:{object_id:e.id,hero_image_url:e.imageUrls[0]||f}}});return(0,h.jsx)(x,{...e,i18n:t,pincodeImageResource:i})}function y(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let w="pincodeMain",P="pincodeCTA";class v extends a.PureComponent{constructor(...e){super(...e),y(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),y(this,"getCustomHeroImages",()=>{let{images:e,customizable:t}=this.props,{pickedImageIndex:i}=this.state;if(!t)return e;let n="logo"!==i&&e[i];return n?[n]:[]}),y(this,"normalizeUrl",e=>{let{getMainImageURL:t}=this.props;return(t||(e=>e))(e).replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")}),y(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),y(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),y(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),y(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),y(this,"downloadPincodeImage",()=>{let{previewNode:e}=this,{ctaIsLoaded:t,isFetchingPincodeImage:i,isDownloading:n}=this.state;if(!e||!t||i||n)return;let r=e.querySelector(`.${w}`),o=e.querySelector(`.${P}`);if(!r||!o)return;let{getDownloadImageURL:a,id:s,logContextEvent:l}=this.props;l({event_type:7078,component:13141,object_id_str:s}),this.setState({isDownloading:!0}),Promise.all([(0,c.a)(r,a),(0,c.a)(o)]).then(e=>{let[t,i]=e;return((e,t)=>{let i=document.createElement("canvas");i.width=3544,i.height=3544;let n=Math.round(.1*i.width),r=Math.round(.05*i.width),o=i.width-2*n,a=i.width-2*r,s=i.height-o,[l,d]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],c=i.getContext("2d");return c&&(c.fillStyle="#fff",c.fillRect(0,0,i.width,i.height),c.drawImage(e,n,0,o,o),c.drawImage(t,(i.width-l)/2,o+(i.height-o-d)/2,l,d)),i})(t,i)}).then(e=>(0,c.K)(e,`pincode_${this.props.id}.png`)).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){let{id:e,isLoadingImages:t,images:i,getThumbnailImageSrcSet:n,customizable:r}=this.props,{ctaIsLoaded:o,errorFlyoutIsOpen:a,isFetchingPincodeImage:l,isDownloading:d,isPickingHeroImage:c}=this.state;return c?(0,h.jsx)(s.xu,{color:"default",padding:4,rounding:2,width:350,children:(0,h.jsxs)(s.xu,{children:[(0,h.jsx)(s.xu,{paddingY:1,children:(0,h.jsx)(s.X6,{lineClamp:1,size:"600",children:this.props.i18n.bt("Изменить изображение", "Change Image", "Title of the Pincode hero image picker modal", undefined, true)})}),(0,h.jsx)(s.iz,{}),(0,h.jsx)(p,{getThumbnailImageSrcSet:n,images:i,onTouch:this.handleSelectImage}),(0,h.jsx)(s.xu,{padding:1,children:(0,h.jsx)(s.zx,{fullWidth:!0,onClick:this.handleCancelButtonClick,text:this.props.i18n.bt("Отмена", "Cancel", "Button to dismiss Pincode hero image picker", undefined, true)})})]})}):(0,h.jsx)(s.xu,{color:"default",marginBottom:4,paddingX:4,rounding:2,width:350,children:(0,h.jsxs)(s.xu,{children:[(0,h.jsx)(s.xu,{ref:e=>{this.previewNode=e},children:(0,h.jsxs)(s.xu,{alignItems:"center",color:"default",direction:"column",display:"flex",height:320,justifyContent:"center",width:"100%",children:[t?(0,h.jsx)(s.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,h.jsx)(s.xH,{accessibilityLabel:this.props.i18n.bt("Загрузка", "Loading", "accessibility label for loading spinner", undefined, true),show:!0})}):(0,h.jsx)(b,{className:w,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url??"")),onFetchingChange:this.handleFetchChange,size:230}),(0,h.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:7,marginTop:2,children:(0,h.jsx)("div",{className:P,children:(0,h.jsx)(u.default,{height:78,onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300})})})]})}),(0,h.jsxs)(s.xu,{marginTop:2,padding:1,children:[r&&i.length>0&&(0,h.jsx)(s.xu,{paddingY:1,children:(0,h.jsx)(s.zx,{fullWidth:!0,onClick:this.handleEditButtonClick,text:this.props.i18n.bt("Изменить изображение", "Change Image", "Button to pick Pincode hero image", undefined, true)})}),o&&(0,h.jsxs)(s.xu,{paddingY:1,children:[(0,h.jsx)(s.xu,{ref:e=>{this.downloadButton=e},children:(0,h.jsx)(s.zx,{color:"red",disabled:t||l||d,fullWidth:!0,onClick:this.downloadPincodeImage,text:this.props.i18n.bt("Скачать PIN-код", "Download Pincode", "Button to download the Pincode image", undefined, true)})}),a&&(0,h.jsx)(s.J2,{anchor:this.downloadButton,idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),shouldFocus:!1,size:"sm",children:(0,h.jsx)(s.xu,{"data-test-id":"error-flyout-content",padding:3,children:(0,h.jsx)(s.qb,{title:this.props.i18n.bt("Ой! Ваш браузер не поддерживает скачивание PIN-кодов.", "Oops! Your browser does not support downloading Pincodes.", "Error message shown when user attempts to download Pincode on a browser not supported", undefined, true),type:"problem"})})})]})]})]})})}}function j(e){(0,a.useEffect)(()=>{(0,o.Z)("PincodeGenerator","/app/www/pincode/PincodeGenerator.tsx")},[]);let{logContextEvent:t}=(0,l.u)(),i=(0,d.Z)();return(0,h.jsx)(v,{...e,i18n:i,logContextEvent:t})}},485521:function(e,t,i){i.d(t,{Z:()=>c});var n=i(686659),r=i(667294),o=i(20256),a=i(230201),s=i(465784),l=i(24246),d=i(785893);function c({children:e,objectId:t,onHide:i}){(0,r.useEffect)(()=>{(0,n.Z)("PincodeModal","/app/www/pincode/PincodeModal.tsx")},[]);let{logContextEvent:c}=(0,a.u)(),u=(0,l.Z)(),h={component:13141,object_id_str:t};return(0,r.useEffect)(()=>{c({event_type:6359})},[t]),(0,d.jsx)(s.ZP,{accessibilityModalLabel:u.bt("Pin-код", "Pincode", "pincode.pincodemodal.label", undefined, true),heading:u.bt("Pin-код", "Pincode", "pincode.pincodemodal.heading", undefined, true),onDismiss:()=>{i(),c({event_type:6358,...h})},size:"sm",children:(0,d.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},114589:function(e,t,i){function n(e){return new Promise((t,i)=>{let n=new XMLHttpRequest;n.ontimeout=i,n.onreadystatechange=()=>{if(4!==n.readyState)return;if(200!==n.status)return void i();let e=new FileReader;e.onloadend=()=>{let{result:n}=e;"string"==typeof n?t(n.split(/,/)[1]):i()},e.readAsDataURL(n.response)},n.open("GET",e,!0),n.timeout=3e4,n.responseType="blob",n.send()})}function r(e,t){return new Promise((i,r)=>{let o=document.createElement("div");o.innerHTML=e.innerHTML,(function e(t,i){if(!(t instanceof Element))return Promise.resolve(t);if(t instanceof window.SVGImageElement){let e=t.href.baseVal;if(e.startsWith("data:"))return Promise.resolve();let r=i?i(e):e;return Promise.resolve(r).then(n).then(e=>`data:${function(e){let t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(r)};base64,${e}`).then(e=>new Promise((i,n)=>{t.onerror=n,t.href.baseVal=e,window.requestAnimationFrame(i)}))}return Promise.all(Array.from(t.childNodes).map(t=>e(t,i)))})(o,t).then(()=>{let t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>i(t))},t.onerror=r;let n=o&&o.querySelector("svg");n&&(/^[0-9]+$/.test(n.getAttribute("width")||"")||n.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(n.getAttribute("height")||"")||n.setAttribute("height",`${e.scrollHeight}`));let a=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(a.trim())}`})})}function o(e,t){return new Promise((i,n)=>{new Promise((t,i)=>{if(e.toBlob)return void e.toBlob(t);let n="";try{n=e.toDataURL("image/png")}catch(e){i()}let r=window.atob(n.split(",")[1]),{length:o}=r,a=new Uint8Array(o);for(let e=0;e<o;e+=1)a[e]=r.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))}).then(e=>window.URL.createObjectURL(e)).then(e=>{let n=document.createElement("a");n.download=t,n.href=e,n.style.display="none",window.document.body.appendChild(n),window.requestAnimationFrame(()=>{let t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),n.removeAttribute("href"),n.removeEventListener("click",t),window.document.body.removeChild(n),i()})};n.addEventListener("click",t),n.click()})}).catch(n)})}i.d(t,{K:()=>o,a:()=>r})},250408:function(e,t,i){i.d(t,{Z:()=>C});var n=i(686659),r=i(667294),o=i(317109),a=i(661376),s=i(702436),l=i(785893);let d="474x",c=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),u=e=>["236x",d,"736x"].map((t,i)=>`${c(t)(e)} ${i+1}x`).join(", ");function h({boardId:e,customizable:t}){(0,r.useEffect)(()=>{(0,n.Z)("BoardPincodeGenerator","/app/www/pincode/BoardPincodeGenerator.tsx")},[]);let i=(0,a.Z)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),o=!i.isLoaded,h=(i.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return(0,l.jsx)(s.Z,{customizable:t,getDownloadImageURL:c("1200x"),getMainImageURL:c(d),getThumbnailImageSrcSet:u,id:e,images:h,isLoadingImages:o})}var p=i(485521),m=i(122222);let g=(0,r.lazy)(()=>Promise.all([i.e("5696"),i.e("97128")]).then(i.bind(i,87918))),f=(0,r.lazy)(()=>i.e("32082").then(i.bind(i,171544))),_=(0,r.lazy)(()=>i.e("55355").then(i.bind(i,955994))),x=(0,r.lazy)(()=>i.e("35872").then(i.bind(i,456487))),b=(0,r.lazy)(()=>i.e("48827").then(i.bind(i,64625))),y=(0,r.lazy)(()=>i.e("18633").then(i.bind(i,205980))),w=(0,r.lazy)(()=>i.e("7071").then(i.bind(i,766339))),P=(0,r.lazy)(()=>i.e("82820").then(i.bind(i,602655))),v=(0,r.lazy)(()=>i.e("58933").then(i.bind(i,964364))),j=(0,r.lazy)(()=>i.e("16615").then(i.bind(i,85293))),S=(0,r.lazy)(()=>Promise.all([i.e("85607"),i.e("93157")]).then(i.bind(i,696655))),I=(0,r.lazy)(()=>i.e("70548").then(i.bind(i,729426)));function C({actions:e,board:t,boardSection:i,bulkEditSelectedPins:a,currentModal:s,inSelectAll:d,onClearModal:c,mergeConfirmationModalProps:u}){(0,r.useEffect)(()=>{(0,n.Z)("BoardModalManager","/app/www/save/board/BoardPage/ModalContents/BoardModalManager.tsx")},[]);let{completeCreateSectionAction:C,completeMoveAction:E,onBoardArchiveChange:A,onBoardDelete:B,onBoardLeave:T,onBoardSectionDelete:Z,onBoardSectionSave:D,onConfirmMergeSection:z,onCopyPinsToBoard:L,onDeletePins:R,onBoardMerge:M}=e;switch(s){case m.s.boardArchiveConfirmation:return A?(0,l.jsx)(o.Z,{children:(0,l.jsx)(y,{board:t,onClose:c,onConfirm:A,shouldArchive:!0})}):null;case m.s.boardUnarchiveConfirmation:return A?(0,l.jsx)(o.Z,{children:(0,l.jsx)(y,{board:t,onClose:c,onConfirm:A,shouldArchive:!1})}):null;case m.s.boardEdit:return(0,l.jsx)(o.Z,{children:(0,l.jsx)(x,{boardId:t.id,onBoardDelete:B,onBoardLeave:T,onClose:c})});case m.s.bulkDelete:return R?(0,l.jsx)(o.Z,{children:(0,l.jsx)(P,{onClearModal:c,onCompleteBulkDelete:R,pinCountToDelete:a&&a.length||0})}):null;case m.s.bulkCopy:return L?(0,l.jsx)(o.Z,{children:(0,l.jsx)(v,{currentBoardId:t.id,onClearModal:c,onCopyToBoard:L,pinCountToCopy:a&&a.length||0})}):null;case m.s.collaboratorsAndPermissions:return(0,l.jsx)(o.Z,{children:(0,l.jsx)(g,{board:t,onDismiss:c})});case m.s.editSection:return i?(0,l.jsx)(o.Z,{children:(0,l.jsx)(S,{board:t,boardSection:i,onClearModal:c,onDeleteSection:Z,onSaveSection:D})}):null;case m.s.mergeBoard:return M?(0,l.jsx)(o.Z,{children:(0,l.jsx)(b,{onCancel:c,onSubmit:M,sourceBoardId:t.id})}):null;case m.s.createSection:case m.s.moveSection:return!!a&&!!E&&(0,l.jsx)(o.Z,{children:(0,l.jsx)(j,{board:t,boardSection:i,inSelectAll:!!d,onClearModal:c,onCompleteMove:E,selectedPinIds:a,showCreateOnly:s===m.s.createSection})});case m.s.sectionMergeConfirm:return u&&z?(0,l.jsx)(o.Z,{children:(0,l.jsx)(I,{onCancel:c,onConfirm:z,source:u.source,target:u.target})}):null;case m.s.followers:return(0,l.jsx)(o.Z,{children:(0,l.jsx)(w,{boardId:t.id,followersCount:t.follower_count??0,onDismiss:c})});case m.s.pincode:return(0,l.jsx)(p.Z,{objectId:t.id,onHide:c,children:(0,l.jsx)(h,{boardId:t.id,customizable:!!t.owner?.is_partner})});case m.s.jumpstartBoard:return(0,l.jsx)(o.Z,{children:(0,l.jsx)(f,{board:t,onDismiss:c})});case m.s.simpleCreateSection:return C?(0,l.jsx)(o.Z,{children:(0,l.jsx)(_,{onClose:c,onSectionCreate:C,selectedBoard:t})}):null;default:return null}}},122222:function(e,t,i){i.d(t,{s:()=>n});let n={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},700594:function(e,t,i){i.d(t,{Z:()=>r});var n=i(494926);function r({board:e,viewer:t}){return(0,n.Z)(t,e.owner?.id)?3069:3070}},768033:function(e,t,i){i.d(t,{Z:()=>$});var n=i(686659),r=i(667294),o=i(581722),a=i(20256),s=i(548777),l=i(387012),d=i(2587),c=i(149238),u=i(285676),h=i(802108);let p=e=>e?164:5,m=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),g=(0,h.Q6)(e=>e);var f=i(785893);function _(e){(0,r.useEffect)(()=>{(0,n.Z)("PinItem","/app/common/react/components/save/board/BoardPinGrid/PinItem.tsx")},[]);let{allowReordering:t,auxData:i,boardSectionId:o,gridItem:a,handlePinDragBegin:s,handlePinDragEnd:h,handlePinDragHover:m,index:g,isFeaturedBoard:_,lfvExperiences:x,onBulkEditPinClick:b,source:y,target:w,viewParameter:P}=e,{inBulkEditMode:v,isCollaborator:j,isGroupBoard:S,isOwnBoard:I,isSelected:C,itemKey:{id:E}}=a,A=w===g,B=_?"FeaturedBoardPinGrid":v?"BulkEditMode":"BaseBoardPinGrid",T={pinId:E,duploQueryRef:null,imageOnlyOption:!I&&(0,c.Z)(x)?"image-only":"default",attributionOption:S?"show":"hide",pinImageCrop:"none",surface:B,slotIndex:g,viewParameter:P,viewType:p(o),auxData:i};if(!I&&!j)return(0,f.jsx)(u.Z,{...T});let Z="no-selection";v&&(Z=C?"selected":"deselected");let D=(0,f.jsx)(u.Z,{...T,disableHover:-1!==y||v,selectionState:Z});return v&&(D=(0,f.jsx)(l.Z,{isSelected:C,onClick:()=>b(E),children:D})),t&&(D=(0,f.jsx)(d.Z,{index:g,isDragging:A,onDragBegin:s,onDragEnd:h,onDragHover:m,type:d.y.Pin,children:D})),D}var x=i(230201),b=i(828801),y=i(367683),w=i(681698),P=i(261954),v=i(806513),j=i(24246),S=i(906127),I=i(250026),C=i(309266),E=i(718846),A=i(285544);function B({isSection:e}){let t=(0,j.Z)(),i=e?t.bt("В этом разделе еще нет пинов", "There aren’t any Pins in this section yet", "EmptyBoard.EmptyText.section", undefined, true):t.bt("На этой доске пока еще нет пинов", "There aren’t any Pins on this board yet", "EmptyBoard.EmptyText.board", undefined, true);return(0,f.jsx)(A.Z,{children:(0,f.jsx)(a.xu,{"data-test-id":"empty-text",paddingY:8,children:(0,f.jsx)(a.xv,{color:"default",size:"300",children:i})})})}function T({hasSections:e,isSection:t}){return(0,r.useEffect)(()=>{(0,n.Z)("EmptyBoard","/app/www/nux/EmptyBoard.tsx")},[]),(0,f.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:!t&&e?null:(0,f.jsx)(B,{isSection:t})})}var Z=i(716848),D=i(160587),z=i(773382),L=i(779686),R=i(438274),M=i(142933);function k(e){(0,r.useEffect)(()=>{(0,n.Z)("GridItemBuilder","/app/www/save/board/BoardPinGrid/GridItemBuilder.tsx")},[]);let{boardSectionId:t,gridItem:i,index:o,inBoardOrganizationMode:s,paddingBottom:l,renderPinItem:d,viewParameter:c}=e,{itemKey:u}=i,h=null;switch(u.type){case"story":h=(0,f.jsx)(M.Z,{inBoardOrganizationMode:s,slot:o,storyId:u.id,viewParameter:c,viewType:p(t)});break;case"pin":h=(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:l}},children:d(i,o)});break;default:h=null}return(0,f.jsx)(a.xu,{children:h},`${u.type}:${u.id}`)}let H=(0,i(728027).Z)(d.y.Pin)(function(e){let{allowReordering:t,children:i,connectDropTarget:n,index:r,isDragWithinBounds:o}=e;return t&&n?n((0,f.jsx)("div",{style:{opacity:-1===r||o?1:.5},children:i})):i});var F=i(833847);function O(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class U extends r.Component{constructor(...e){super(...e),O(this,"state",{reorderSource:-1,reorderTarget:-1}),O(this,"anchorElementRef",(0,r.createRef)()),O(this,"masonryRef",{current:null}),O(this,"handlePinAdded",e=>{let{board:t,boardSectionId:i,dispatch:n}=this.props;e===t.id&&(n((0,D.xQ)(t.id)),i&&n((0,z.Z)(i)))}),O(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),O(this,"handlePinDragHover",e=>{let{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),O(this,"handlePinDragEnd",e=>{let{board:t,boardSectionId:i,dispatch:n,feed:r,viewParameter:o,orbacSubjectId:a}=this.props,{reorderSource:s,reorderTarget:l}=this.state;if(r&&e&&-1!==l&&-1!==s&&l!==s){let e=this.hiddenItemIndex,[d,c]=-1===e?[s,l]:[s+ +(s>=e),l+ +(l>=e)],u=(0,I.Z)(r,d,c),h=r[d].id;n((0,L._f)({feedType:i?R.Z.BOARD_SECTION_PINS:R.Z.BOARDFEED,feedId:i||t.id,itemType:"pin",targetItemId:r[c].id,sourceItemId:r[d].id}));let m=u.filter(e=>"pin"===e.type).map(e=>e.id),g=m.indexOf(h),f=g-1,_=g+1,x={pin:h};f>=0&&f<m.length&&(x={...x,before_pin:m[f]}),_>=0&&_<m.length&&(x={...x,after_pin:m[_]}),a&&(x={...x,orbac_subject_id:a}),(0,w.Z)({url:`/v3/boards/${t.id}/reorder_pin/`,method:"POST",data:x}).then(()=>this.props.logContextEvent({event_type:7122,object_id_str:h,view_type:p(i),view_parameter:o}))}this.setState({reorderSource:-1,reorderTarget:-1})}),O(this,"handleFetchMore",()=>{let{resource:{fetchMore:e,isAtEnd:t,isFetching:i}}=this.props;t||i||e()}),O(this,"renderPinItem",(e,t)=>{let{board:i,boardSectionId:n,lfvExperiences:r,onBulkEditPinClick:o,viewer:a,viewParameter:s}=this.props,{reorderSource:l,reorderTarget:d}=this.state,c={board_id:i.id,board_pin_count:i.pin_count},u=(0,F.Z)(i);return(0,f.jsx)(_,{allowReordering:this.allowReordering,auxData:c,boardSectionId:n,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,isFeaturedBoard:u,lfvExperiences:r,onBulkEditPinClick:o,source:l,target:d,viewer:a,viewParameter:s})})}componentDidMount(){(0,n.Z)("BaseBoardPinGrid","/app/www/save/board/BoardPinGrid/BaseBoardPinGrid.tsx");let{feed:e,resource:{isFetching:t,refresh:i}}=this.props;null!==e||t||i()}componentDidUpdate(e){let{feed:t,resource:{isFetching:i,refresh:n}}=this.props;null!==t||null===e.feed||i||n()}get allowReordering(){let{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:i}=this.props;return!i&&(t||e)}get hiddenItemIndex(){let{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(m):-1}render(){let{bulkEditSelectedPins:e,board:t,boardSectionId:i,boardShopModuleId:n,desktopStories:o,featuredBoardStoryId:s,feed:l,feedStoryId:d,footerStoryId:c,denseViewSelected:u,hasSimplifiedPinGridExpLoaded:h,inBoardOrganizationMode:p,inSectionOrganizationMode:m,isDragWithinBounds:_,inSelectAll:x,renderFeaturedBoardsStory:y,renderFooterStory:w,renderMoreIdeas:j,renderBoardShopModule:C,boardShopModuleIndex:E,resource:{isAtEnd:A,isFetching:B,isLoaded:D},isOwnBoard:z,i18n:L}=this.props,{access:R,collaborated_by_me:M=!1,collaborator_count:F=0,section_count:O}=t,{reorderSource:U,reorderTarget:N}=this.state,{more_ideas:$}=t.featured_board_metadata||{};if(D&&l&&0===l.length)return(0,f.jsx)(T,{hasSections:!!O,isSection:!!i});let{allowReordering:K}=this,G=K&&U!==N&&-1!==U&&-1!==N,W=l||[],{hiddenItemIndex:V}=this;-1!==V&&(W=[...W.slice(0,V),...W.slice(V+1)]),G&&(W=(0,I.Z)(W,U,N));let q={inBulkEditMode:p||m,inDenseView:u||!1,isGroupBoard:F>0,userCanEdit:(R||[]).includes("write"),isOwnBoard:z,isCollaborator:M},J=!1,Y=W.map(e=>(p||"story"!==e.type||o?.[e.id]?.story_type!=="board_shop_tool_module"||(J=!0),g({...q,itemKey:e}))),X=!B&&A&&!l?.length;return(0,f.jsx)(Z.H,{value:{onPinCreate:({boardId:e})=>this.handlePinAdded(e),onPinDelete:()=>J&&this.masonryRef.current?.reflow()},children:(0,f.jsxs)(a.xu,{"data-test-id":"base-board-pin-grid",minHeight:u?800:"",children:[n&&!p&&0===E&&C&&C(n,!0),(0,f.jsx)(H,{allowReordering:K,index:N,isDragWithinBounds:_,children:h&&(0,f.jsx)(S.Z,{isAtEndOfFeed:A,isPlaceholderGrid:B&&!Y.length,itemCount:Y.length,children:(0,f.jsx)(P.default,{columnWidth:u?v.Lo:void 0,getColumnSpanConfig:J?function(e){return"story"===e.itemKey.type&&o?.[e.itemKey.id]?.story_type==="board_shop_tool_module"?3:e.itemKey.columnSpan??1}:void 0,isFetching:B,isLoadedAccessibilityLabel:Y.length>0?L.bt("Другие загруженные пины для доски", "More Pins loaded for board", "board.masonry.paginationLoaded", undefined, true):L.bt("Загруженные пины для доски", "Loaded Pins for board", "board.masonry.loaded", undefined, true),isLoadingAccessibilityLabel:Y.length>0?L.bt("Загрузка других пинов для доски", "Loading more Pins for board", "board.masonry.paginationLoading", undefined, true):L.bt("Загрузка пинов для доски", "Loading Pins for board", "board.masonry.loading", undefined, true),isLoadingStateEnabled:!X,items:Y,layout:"basic",loadItems:this.handleFetchMore,masonryRef:this.masonryRef,renderItem:({data:t,itemIdx:i})=>{let{inBulkEditMode:n}=q,o="pin"===t.itemKey.type&&!!e?.includes(t.itemKey.id);return(0,f.jsx)(r.Fragment,{children:(0,f.jsx)(a.xu,{ref:0===i?this.anchorElementRef:null,dangerouslySetInlineStyle:{__style:{marginBottom:u?-6:0}},children:(0,f.jsx)(k,{boardSectionId:this.props.boardSectionId,gridItem:{...t,isSelected:n&&(x?!o:o)},inBoardOrganizationMode:p,index:i,paddingBottom:6*!!this.props.denseViewSelected,renderPinItem:this.renderPinItem,viewParameter:this.props.viewParameter})})})}},`${String(u)}-${String(p)}-${String(m)}`)})}),K&&-1!==U&&(0,f.jsx)(b.Z,{}),A&&!p&&n&&(E??0)>=Y.length-1&&0!==E&&C&&C(n),A&&c&&w&&w(c),A&&s&&y&&y(s),!1!==$&&A&&d&&j&&j(d)]})})}}let N=(0,y.RL)(1000182)(function(e){let{logContextEvent:t}=(0,x.u)(),i=(0,j.Z)(),n=(0,E.Z)(),{hasSimplifiedPinGridExpLoaded:a}=(0,s.m)(),l=(0,C.Z)(),d=(0,o.v9)(e=>e.desktopStories),{board:c,boardSectionId:u,isOwnBoard:h,resource:p}=e;return(0,r.useEffect)(()=>{p.isAtEnd&&t({event_type:15145,view_type:u?164:5,view_parameter:h?3069:3070,aux_data:{board_id:c.id,board_pin_count:c.pin_count,board_section_id:u,board_section_count:c.section_count}})},[c,u,h,t,p]),(0,f.jsx)(U,{...e,desktopStories:d,hasSimplifiedPinGridExpLoaded:a,i18n:i,lfvExperiences:l,logContextEvent:t,orbacSubjectId:n})});N.displayName="BaseBoardPinGrid";let $=N},338170:function(e,t,i){i.d(t,{Z:()=>c});var n=i(686659),r=i(667294),o=i(581722),a=i(20256),s=i(9065),l=i(785893);let d=(0,s.Z)(()=>i.e("60300").then(i.bind(i,891305)),void 0,e=>891305,"app-common-react-components-FeaturedBoards-FeaturedBoardsModule",e=>["60300"]);function c({isOwnBoard:e,storyId:t}){(0,r.useEffect)(()=>{(0,n.Z)("FeaturedBoardsStory","/app/www/save/board/FeaturedBoardsStory/FeaturedBoardsStory.tsx")},[]);let i=(0,o.v9)(e=>e.desktopStories[t]),s=i&&"featured_boards"===i.story_type?i:void 0;return s?(0,l.jsx)(a.xu,{marginTop:3,padding:2,children:(0,l.jsx)(d,{renderAsStory:!0,slotIndex:-1,story:s,surface:"Board",viewParameter:e?3069:3070,viewType:5})}):null}},285544:function(e,t,i){i.d(t,{Z:()=>s});var n=i(686659),r=i(667294),o=i(20256),a=i(785893);function s({children:e}){return(0,r.useEffect)(()=>{(0,n.Z)("Center","/app/www/save/board/Headers/Center.tsx")},[]),(0,a.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:e})}},173842:function(e,t,i){i.r(t),i.d(t,{default:()=>c});var n=i(686659),r=i(667294),o=i(581722),a=i(20256),s=i(9065),l=i(785893);let d=(0,s.Z)(()=>Promise.all([i.e("39366"),i.e("25418"),i.e("55094"),i.e("52154")]).then(i.bind(i,550385)),void 0,e=>550385,"app-www-BoardMoreIdeasPage-MoreIdeasTabContentPageDefault",e=>["39366","25418","55094","52154"]);function c({storyId:e}){(0,r.useEffect)(()=>{(0,n.Z)("MoreIdeasFeed","/app/www/save/board/MoreIdeasFeed/MoreIdeasFeed.tsx")},[]);let t=(0,o.v9)(t=>t.desktopStories[e]);return(t&&"board_ideas_feed"===t.story_type?t:void 0)?(0,l.jsx)(a.xu,{"data-test-id":"more-ideas-feed",children:(0,l.jsx)(d,{surface:"board"})}):null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92869.ru_RU-beaa8dee097978ab.mjs.map