(self.modernJsonp=self.modernJsonp||[]).push([["14561"],{492774:function(e,t,l){var n,a,i,r;l.r(t),l.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},n,r,a,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};o.hash="160b60f499ce33660e2c11915eed4d09";let s=o},786897:function(e,t,l){var n,a,i,r;l.r(t),l.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:a=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:r=[i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},i,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};o.hash="3e837db15a9e9f5a0377c7ab62c7401e";let s=o},453217:function(e,t,l){var n;l.r(t),l.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};a.hash="cabaa35ed7d59dee006897bf3ef32e3d";let i=a},335193:function(e,t,l){var n,a,i,r,o,s,d,u,c,p,g;l.r(t),l.d(t,{default:()=>_});let f=(d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},a={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:s=[o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:s,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},d,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},u,c,p,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[d,g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[u,p,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[g],storageKey:null},c,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},r],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},a],storageKey:null}]},params:{id:"80c1a1abebbd5ea74f29a00e3aceaa146b22d1a4b6dc1141fd7de9c55c51a678",metadata:{},name:"SearchLandingPageFeaturedBoardsQuery",operationKind:"query",text:null}});f.hash="3ca45565a804bd5428a8509aa83434c3";let _=f},932334:function(e,t,l){var n;l.r(t),l.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},n,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};a.hash="92b841173868ce353dd00b5fce287546";let i=a},353491:function(e,t,l){var n,a,i,r,o;l.r(t),l.d(t,{default:()=>d});let s={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[r={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[r,o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};s.hash="5a3162913508a33c37676bde5973ea45";let d=s},97812:function(e,t,l){var n;l.r(t),l.d(t,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:n,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};a.hash="756d8d8edca35eac0a0500359bf60618";let i=a},271255:function(e,t,l){l.d(t,{Z:()=>o});var n=l(686659),a=l(667294),i=l(20256),r=l(785893);let o=({text:e})=>((0,a.useEffect)(()=>{(0,n.Z)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}))},433100:function(e,t,l){l.d(t,{f:()=>w,l:()=>b});var n=l(667294),a=l(178226),i=l(735243),r=l(477738),o=l(148),s=l(252974),d=l(250182),u=l(655068),c=l(531624),p=l(515511),g=l(213491),f=l(360033),_=l(986475),m=l(640200),h=l(785893);let y=(e,t,l)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===l);if(!n)return;let a=(0,_.Z)(m.Z,!0)(n),i=e.findIndex(({action:e})=>e?.filter?.productFilterType===l);e[i]?e[i]=a:e.push(a)},v=(e,t,l,n)=>{let a=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(a?.action?.filter){let e=a.action.filter.filterOptions;a.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[l]&&t.split(",").includes(String(e[l]))).map(e=>({...e,selected:!0})):[]}},{Provider:x,get:b}=(0,g.Z)("OneBarProductFilters");function w({children:e}){let[t,l]=(0,n.useState)([]),[g,_]=(0,n.useState)(null),m=function(){let{scope:e}=(0,o.n)();return[r.lw.BOARDS,r.lw.PINS_BUYABLE,r.lw.PINS_VIDEO,r.lw.USERS].includes(e)}(),b=(0,c.Z)(),w=(0,d.Z)(),S=(0,a.Z)(),I=(0,i.Z)(),k=(0,u.Z)(),P=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let a=e?.filter(({module_type:e})=>17===e||0===e);if(!a||a?.length===0||!n)return;let i=n!==g,r=i?[]:t;(i||!m)&&y(r,a,4),(i||!b)&&y(r,a,1),(i||!w)&&y(r,a,0),(i||!S)&&y(r,a,3),(i||!I)&&y(r,a,6),(i||!k)&&[7,8,9].forEach(e=>{y(r,a,e)}),(0,f.ZP)(r,t)||(l(r),_(n))},[t,S,I,m,w,k,b,g]),T=(0,s.Z)(),{priceMax:F,priceMin:C,scope:E,brands:A,onSale:Z,colors:j,domains:B}=(0,o.n)();(0,n.useEffect)(()=>{if(!T||0===t.length)return;let e=(0,p.Z)(t);if(E!==r.lw.PINS){let t=(0,r.gi)(E),l=e.find(({moduleType:e})=>0===e);l?.action?.filter&&(l.action.filter.appliedFilterOptions=[...l.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:l}=e;return{searchType:l,selected:l===t}}))}if("string"==typeof F||"string"==typeof C){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(C)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(F)}:null].filter(Boolean))}v(new Set([3]),A,"stringValue",e),v(new Set([6]),j,"stringValue",e),v(new Set([0]),B,"stringValue",e),v(new Set([7,8,9]),Z,"numericValue",e),(0,f.ZP)(e,t)||l(e)},[t,T,F,C,E,A,j,B,Z]);let D=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:P}),[t,P]);return(0,h.jsx)(x,{value:D,children:e})}},310878:function(e,t,l){l.d(t,{N$:()=>Z,wy:()=>B,VA:()=>E});var n,a=l(667294),i=l(167912),r=l(433100),o=l(675450),s=l(17832),d=l(856853);let u=(e,t,l)=>l&&(0,s.nZ)(l,t)?o.v.MODIFIED:(0,s.B1)(t,e)||l&&(0,s.Uv)(l,e)||(0,s.Uv)(t,e)?o.v.CLEARED:o.v.APPLIED;function c(e,t){(0,s.ph)(t);let l=e.find(e=>e?.id===t.id),n=l?.rules,a=l?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||n;if(!a)return[e,[]];let i=[],r=[];return e.forEach(e=>{void 0!==e.product_filter_type&&a.includes(e.product_filter_type)?i.push(e):r.push(e)}),[i,r]}function p(e,t){switch(t.type){case"RESET_FILTERS":let[l,n]=t.payload,a=l,i=(0,d.Z)(n)?(0,s.iP)(l):n;return Object.values(i).forEach(e=>{let[t]=c(a,e);a=t}),{models:l,availableFilterModels:a,appliedFilters:n,filters:i,isFetching:!1,pendingDeletedSelections:{},status:u(l,n,i)};case"CLEAR_FILTERS":let r=e.models,p=(0,s.P5)(e.models);return Object.values(p).forEach(e=>{let[t]=c(r,e);r=t}),{...e,filters:p,availableFilterModels:r,pendingDeletedSelections:{},status:u(e.models,e.appliedFilters,p)};case"UPDATE_FILTER":let{payload:g}=t,[f,_]=c(e.models,g),m={...e.filters,[g.id]:g},h={...e.pendingDeletedSelections};return f.forEach(e=>{if(!e.id)return;let t=h[e.id];t&&(m[e.id]=t,delete h[e.id])}),_.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(h[e.id]=t,delete m[e.id])}),(0,s.ph)(g,e.models.find(e=>e.id===g.id))&&delete m[g.id],{...e,availableFilterModels:f,filters:m,pendingDeletedSelections:h,status:u(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:o.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:o.v.FAILED};case"SUBMIT_COMPLETE":let{filters:y}=e;return{...e,appliedFilters:y,pendingDeletedSelections:{},status:u(e.models,y)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var g=l(178226),f=l(735243),_=l(250182),m=l(655068),h=l(531624),y=l(360033);let v=new Set([1,0,3,6,7,8,9]),x=(e,t,l)=>{let n=t?.find(({product_filter_type:e})=>e===l);if(!n)return;let a=e.findIndex(({product_filter_type:e})=>e===l);e[a]?e[a]=n:e.push(n)},b=(e,t,l)=>{let n=t?.find(({product_filter_type:e})=>e===l);if(!n)return e;let a=e.findIndex(({product_filter_type:e})=>e===l);return e[a]?e[a]=n:e.push(n),e};var w=l(252974),S=l(213491),I=l(661376),k=l(148),P=l(657476),T=l(785893);let F=()=>{},{Provider:C,getMaybe:E}=(0,S.Z)("UnifiedFiltersContext"),A=({applyInitFilters:e,children:t,filterModels:l,filters:n,isFetching:i,refreshFiltersData:r})=>{let{query:d}=(0,k.n)(),u=(0,w.Z)(),{getCachedFilters:c,cacheUnifiedFilterModelsWithProductFilters:S}=function(){let[e,t]=(0,a.useState)([]),[l,n]=(0,a.useState)(null),i=(0,h.Z)(),r=(0,_.Z)(),o=(0,g.Z)(),s=(0,f.Z)(),d=(0,m.Z)(),u=(0,a.useCallback)(({unifiedFilterModels:a,baseCacheKey:u})=>{let c=a?.filter(({product_filter_type:e})=>void 0!==e&&v.has(e));if(!c||c?.length===0||!u)return;let p=u!==l,g=p?[]:e;(p||!i)&&x(g,c,1),(p||!r)&&x(g,c,0),(p||!o)&&x(g,c,3),(p||!s)&&x(g,c,6),(p||!d)&&[7,8,9].forEach(e=>{x(g,c,e)}),(0,y.ZP)(g,e)||(t(g),n(u))},[e,o,s,r,d,i,l]);return{getCachedFilters:(0,a.useCallback)(t=>{if(!t||t?.length===0)return[];let l=[...t];return i&&(l=b(l,e,1)),r&&(l=b(l,e,0)),o&&(l=b(l,e,3)),s&&(l=b(l,e,6)),d&&[7,8,9].forEach(t=>{l=b(l,e,t)}),l},[e,o,s,r,d,i]),cacheUnifiedFilterModelsWithProductFilters:u}}(),I=e?.(l)||n||{},[P,F]=(0,a.useReducer)(p,{models:l,availableFilterModels:l,appliedFilters:I,filters:I,pendingDeletedSelections:{},isFetching:i,status:(0,s.B1)(I,l)||(0,s.Uv)(I,l)?o.v.CLEARED:o.v.APPLIED}),[E,A]=(0,a.useState)(l);(0,a.useEffect)(()=>{i&&F({type:"LOADING"})},[i]),(0,a.useEffect)(()=>{if(i||P.isFetching&&0===l.length)return;if(!(0,s.a$)(E,l))return void F({type:"LOADING_COMPLETED_OR_FAILED"});let t=l;u||(t=c([...l]),S({unifiedFilterModels:[...l],baseCacheKey:d})),F({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),A(l)},[e,l,E,i,P.isFetching,c,S,d,u]);let Z=(0,a.useMemo)(()=>({filterState:P,dispatch:F,refreshFiltersData:r}),[P,r]);return(0,T.jsx)(C,{value:Z,children:t})},Z=({bookmark:e="",children:t,generateInitFilterCb:l})=>{let n=(0,w.Z)(),{data:a=null,refresh:i,isLoaded:o}=(0,I.Z)(!n&&e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{cachedProductFilterOneBarModules:d}=(0,r.l)(),u=d.map(s.tx).filter(Boolean);return(0,T.jsx)(A,{applyInitFilters:l,filterModels:(n?u:a)||[],isFetching:n?0===u.length:!o||!e,refreshFiltersData:i,children:t})},j=(void 0!==n||(n=l(932334)).hash&&"92b841173868ce353dd00b5fce287546"!==n.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),B=({children:e,oneBarModulesKey:t})=>{let{data:l,isFetching:n,isLoaded:r}=(0,P.Z)(),{oneBarModules:s}=l||{},d=(0,i.useFragment)(j,t),u=(0,a.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:n,pendingDeletedSelections:{},status:o.v.CLEARED},refreshFiltersData:F}),[n]),c=(d?[d]:s?.map(e=>e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(e=>({isSelected:e.is_selected??null,id:e.id??null,display:e.display?{displayText:e.display.display_text??null}:null,action:e.action?{feedUrl:e.action.feed_url??null}:null})):null}:null,id:e.id??null,moduleType:e.module_type??null}))?.find(({moduleType:e})=>0===e),p=c?.action?.filters;if(!c||!p)return(0,T.jsx)(C,{value:u,children:e});let g=c.id||"",f={[g]:{id:g,selectedOptionId:p.find((e,t)=>e?.isSelected&&0!==t)?.id||"",type:"single",lastChangedLocation:1}};return(0,T.jsx)(A,{filterModels:[{filter_component_type:2,filter_options:p.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:g,title:"",product_filter_type:4}],filters:f,isFetching:!r,refreshFiltersData:F,children:e})}},675450:function(e,t,l){l.d(t,{$:()=>n,v:()=>a});let n=50,a={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},190665:function(e,t,l){l.d(t,{Z:()=>u});var n=l(433100),a=l(310878),i=l(17832),r=l(986475),o=l(537701),s=l(629724),d=l(148);function u(){let{brands:e,colors:t,domains:l,onSale:u,priceMax:c,priceMin:p}=(0,d.n)(),g=(0,a.VA)(),{cachedProductFilterOneBarModules:f}=(0,n.l)(),_=Number((0,s.Z)().filter_location);if(1===_){let{filterState:e}=g||{};return e?(0,i.Ax)(e.appliedFilters,e.models):null}if(0===_){let n=(0,r.Z)(o.Z,!0)(f.map(e=>e.action?.filter).filter(Boolean));return(0,i.vJ)({brandsParam:e,colorsParam:t,domainsParam:l,onSaleParam:u,priceMaxParam:c,priceMinParam:p,unifiedFilterModels:n})}return null}},178226:function(e,t,l){l.d(t,{Z:()=>i});var n=l(312048),a=l(575820);function i(){return!!(0,a.mB)((0,n.TH)().search).brands}},735243:function(e,t,l){l.d(t,{Z:()=>r});var n=l(312048),a=l(501010),i=l(575820);function r(){let{checkExperiment:e}=(0,a.Z)(),t=(0,n.TH)(),{colors:l}=(0,i.mB)(t.search);return!!l&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,l){l.d(t,{Z:()=>a});var n=l(501010);function a(){let{checkExperiment:e}=(0,n.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,l){l.d(t,{Z:()=>i});var n=l(312048),a=l(575820);function i(){return!!(0,a.mB)((0,n.TH)().search).domains}},531624:function(e,t,l){l.d(t,{Z:()=>i});var n=l(312048),a=l(575820);function i(){let e=(0,n.TH)(),{price_max:t,price_min:l}=(0,a.mB)(e.search);return!!(l??t)}},17832:function(e,t,l){l.d(t,{Ak:()=>S,Ax:()=>x,B1:()=>p,LG:()=>w,P5:()=>_,UP:()=>I,Uv:()=>g,a$:()=>u,eF:()=>k,i7:()=>h,iP:()=>f,nZ:()=>d,ph:()=>c,rc:()=>v,tx:()=>b,vJ:()=>y});var n=l(675450),a=l(360033),i=l(477738);let r=e=>e.map(({filter_component_type:e,filter_options:t,title:l})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:l,image_url:n,is_verified:a,numeric_value:i,string_value:r,unit:o})=>({id:e,label:t,count:l,image_url:n,is_verified:a,numeric_value:i,string_value:r,unit:o})),title:l})),o=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,a.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},s=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(s(e)&&s(t))return!1;if(s(e)||s(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let l in e)if(o(e[l],t?.[l]))return!0;return!1},u=(e,t)=>!(0,a.ZP)(r(e),r(t)),c=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},p=(e,t)=>{try{for(let l in e){let n=e[l],a=t.find(e=>e.id===n?.id);if(n&&!c(n,a))return!1}return!0}catch(e){return!0}},g=(e,t)=>{if(!t||0===t.length)return!1;let l=t[0];if(!l)return!1;switch(l?.filter_component_type){case 2:let n=l.filter_options?.[0];for(let t in e){let l=e[t];if(!l)break;if("selectedOptionId"in l&&l.selectedOptionId===n?.id)return!0}return!1;case 1:for(let t in e){let n=e[t];if(!n)break;if(n.id===l.id&&"selectedOptionIds"in n&&0===n.selectedOptionIds.size)return!0}return!1;default:return!1}},f=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let l=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return l&&l.length>0?{selectedOptionIds:new Set(l),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),_=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let l=t.filter_options?.[0]?.id;return l&&"string"==typeof t.id?{[t.id]:{selectedOptionId:l,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},m=e=>e.map(e=>{let{filter_id:t,filter_options:l,product_filter_type:n}=e,a=t;return"number"==typeof n&&(a+=`_${n}`),l.length>0&&(a+=":",l.forEach((e,t)=>{let{filter_option_id:n,numeric_value:i,string_value:r,unit:o}=e;a+=`${n}`,"number"==typeof i&&(a+=`_${i}`),"string"==typeof r&&(a+=`_${r}`),"string"==typeof o&&(a+=`_${o}`),t<l.length-1&&(a+=",")})),a}).join("|"),h=({brands:e,colors:t,domains:l,onSale:n,priceMax:a,priceMin:r,scope:o,unifiedFilterModels:s})=>{let d={};for(let{filter_options:u,id:c,product_filter_type:p}of s)if(c&&u?.length){if(1===p&&("number"==typeof r||"number"==typeof a)){let[e,t,l,n]=u,i=r??l?.numeric_value??e?.numeric_value??0,o=a??n?.numeric_value??t?.numeric_value??100;d[c]={min:i,max:o,id:c,type:"range",lastChangedLocation:1}}if(0===p&&l&&l.length>0){let e=l.map(e=>{let t=u.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===p&&e&&e.length>0){let t=e.map(e=>{let t=u.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===p&&t&&t.length>0){let e=t.map(e=>{let t=u.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[c]={id:c,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===p&&o){let e=(0,i.gi)(o),t=u.find(({search_type:t})=>t===e);t?.id&&(d[c]={id:c,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof p&&new Set([7,8,9]).has(p)&&n){let e=u[0]?.id;e&&(d[c]={id:c,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},y=({brandsParam:e,colorsParam:t,domainsParam:l,onSaleParam:n,priceMaxParam:a,priceMinParam:i,unifiedFilterModels:r})=>{let o=[],s=Number(i),d=Number(a),u=Number.isNaN(s)?void 0:s,c=Number.isNaN(d)?void 0:d,p=l?.split(",").filter(Boolean)??[],g=e?.split(",").filter(Boolean)??[],f=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:l}of r)if(t&&e?.length){if(1===l&&"number"==typeof u&&"number"==typeof c){let n={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?u:c,unit:e.unit||"USD"})),location:0,product_filter_type:l};o.push(n)}if(0===l&&p&&p.length>0){let n=p.map(t=>{let l=e.find(e=>e.string_value===t);return l?l.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};o.push(e)}}if(3===l&&g&&g.length>0){let n=g.map(t=>{let l=e.find(e=>e.string_value===t);return l?l.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};o.push(e)}}if(6===l&&f&&f.length>0){let n=f.map(t=>{let l=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return l?l.id:null}).filter(Boolean);if(n.length>0){let e={filter_id:t,filter_options:n.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:l};o.push(e)}}if(7===l&&n){let a=e[0]?.id;if(a){let e={filter_id:t,filter_options:[{filter_option_id:a,numeric_value:Number(n)}],location:0,product_filter_type:l};o.push(e)}}}return 0===o.length?null:m(o)},v=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:l})=>{let n=null,a=null,r=!1,o=null,s=null,d=null,u=null,c=null;for(let p in e){let g=e[p];if(g){let e=l.find(e=>e.id===g.id);if(e)if("range"===g.type&&1===e.product_filter_type)d=g.min,s=g.max;else if("multi"===g.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>g.selectedOptionIds.has(e.id||""));o=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===g.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>g.selectedOptionIds.has(e.id||""));n=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===g.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>g.selectedOptionIds.has(e.id||""));a=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===g.type&&4===e.product_filter_type){let l=e.filter_options?.find(e=>g.selectedOptionId===e.id),n=l&&void 0!==l.search_type?(0,i.zh)(l.search_type):i.lw.PINS;c=n,t&&(c=n===i.lw.PINS_BUYABLE?i.lw.PINS:n,r=n===i.lw.PINS_BUYABLE)}else"single"===g.type&&7===e.product_filter_type&&(u=e.filter_options?.[0]?.numeric_value)}}let p=l.find(e=>4===e.product_filter_type),g=p?.filter_options?.find(e=>e.is_selected);return null===c&&"number"==typeof g?.search_type&&(c=(0,i.zh)(g.search_type)),{brands:n,colors:a,commerce_only:r,domains:o,max:s,min:d,on_sale:u,scope:c}},x=(e,t)=>{let l=[];return(Object.entries(e).forEach(([e,n])=>{let a=t.find(e=>e.id===n.id);if(!a||4===a.product_filter_type||"number"!=typeof a.product_filter_type||!a.filter_options)return;let i=[];if("range"===n.type){let[e,t]=a.filter_options;if(!e?.id||!t?.id)return;i=[{filter_option_id:e.id,numeric_value:n.min,unit:e.unit},{filter_option_id:t.id,numeric_value:n.max,unit:t.unit}]}if("single"===n.type){let e=a.filter_options.find(e=>e.id===n.selectedOptionId);if(!e?.id)return;i=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===n.type){let e=a.filter_options.filter(e=>e.id&&n.selectedOptionIds.has(e.id));if(0===e.length)return;i=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}l.push({filter_id:e,filter_options:i,location:n.lastChangedLocation,product_filter_type:a.product_filter_type})}),l&&0!==l.length)?m(l):null},b=e=>{let{filter:t,title:l}=e.action||{},{title:n}=t||{},a=l||n;if(!t||!a)return null;let{filterComponentType:i,productFilterType:r,id:o}=t,s=(t.filterOptions||[]).filter(Boolean);if(void 0===i||void 0===s||0===s.length||null==r||null==o)return null;let d=(e=>{let t=e.map(e=>{if(!e)return null;let{auxData:t,id:l,imageUrl:n,isVerified:a,label:i,numericValue:r,searchType:o,stringValue:s,unit:d,rules:u}=e;return null===n||null===n||null===r||null===a||null===s||null===d?null:{id:l||"",label:i||"",count:0,image_url:n,is_verified:a,numeric_value:r,...u?{rules:[...u]}:{},..."number"==typeof o?{search_type:o}:{},string_value:s,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean);return t.length>0?t:null})(s);return d?{filter_component_type:i,filter_options:[...d],id:o||"",product_filter_type:r,title:a}:null};function w(e,t,l){let[a,i,r,o]=l,{numeric_value:s=0}=o??a??{},{numeric_value:d=s+n.$}=r??i??{},{unit:u="USD"}=a??{},c=e.filters[t]?.type==="range"?e.filters[t]:{min:s,max:d,id:t,type:"range",lastChangedLocation:1};return{defaultMax:d,defaultMin:s,unit:u,range:c}}function S(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function I(e,t){let l=[];return Object.entries(t).forEach(([t,n])=>{let a=e.find(e=>e?.id===t);if(a){let e=a.aux_data?.module_id;e&&l.push(e);let t=("multi"===n.type?Array.from(n.selectedOptionIds):"single"===n.type?[n.selectedOptionId]:[]).map(e=>{let t=a.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);l.push(...t)}}),l}function k(e,t){let l=[];return Object.keys(t).forEach(t=>{let n=e.find(e=>e?.id===t);if(n){let e=n.product_filter_type;e&&l.push(e)}}),l}},860536:function(e,t,l){l.d(t,{Z:()=>i,t:()=>a});var n=l(405897);let a=[n.i.GUIDED_SEARCH_LANDING,n.i.GUIDED_SEARCH_ENTRY],i=296},568736:function(e,t,l){function n(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:l}){let n=l.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}l.d(t,{x:()=>a,y:()=>n})},514837:function(e,t,l){l.d(t,{Z:()=>s});var n=l(686659),a=l(667294),i=l(20256),r=l(69841),o=l(785893);function s({carouselData:e,contextLogData:t,height:l,id:s,index:d,slideWidth:u,view:c,impressionType:p,viewParameter:g}){(0,a.useEffect)(()=>{(0,n.Z)("CarouselImpressionItem","/app/packages/gestaltExtensions/Carousel/CarouselImpressionItem.tsx")},[]);let[f,_]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{f!==d?(_(d),h(!1)):h(!0)},[d,f]),e)?(0,o.jsx)(r.JE,{carouselData:{...e,type:"canonical"},contextLogData:t,impressionType:p??"Pin",isPaused:!m,loggingId:s,slotIndex:d,viewParameter:g,viewType:c,children:({impressionTrackerRef:e})=>(0,o.jsx)(i.xu,{ref:e,"data-test-id":`carousel-impression-ref-${s}-${d}`,height:l,overflow:"hidden",position:"absolute",width:u})},`carousel-impression-key-${d}`):null}},780657:function(e,t,l){l.d(t,{Z:()=>i});var n=l(667294),a=l(169166);function i(){return(0,n.useContext)(a.Z)}},139876:function(e,t,l){l.d(t,{Z:()=>i});var n=l(667294),a=l(506807);function i(){return(0,n.useContext)(a.Z)}},431006:function(e,t,l){l.d(t,{Z:()=>u});var n=l(686659),a=l(667294),i=l(20256),r=l(367683),o=l(501010),s=l(739405),d=l(785893);function u({allBold:e,searchDelightConfig:t,query:l="",text:u}){(0,a.useEffect)(()=>{(0,n.Z)("HighlightTerm","/app/packages/search/HighlightTerm.tsx")},[]);let{checkExperiment:c}=(0,o.Z)(),p=(0,s.HG)(),g=l.trim(),f=u.toLowerCase(),_=(f.startsWith(g.toLowerCase())?g:"").length,m=t?(0,r.pF)(u,t.search_query_list):null;if(m&&t)return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,d.jsx)(r.KS,{allBold:e,searchDelightConfig:t,searchDelightParts:m,text:u,weightPivot:_})});if(!p&&c("web_search_autocomplete_visual_treatment").anyEnabled){let e=((e,t)=>{let l=Array(e.length).fill(!1);t.forEach(t=>{if(!t)return;let n=0;for(;n<=e.length-t.length;){let a=e.indexOf(t,n);if(-1===a)break;let i=a+t.length,r=!1;for(let e=a;e<i;e+=1)if(l[e]){r=!0;break}if(!r){for(let e=a;e<i;e+=1)l[e]=!0;break}n=i}});let n=[],a=0;for(;a<l.length;){let e=l[a],t=a+1;for(;t<l.length&&l[t]===e;)t+=1;n.push({matched:!!e,start:a,end:t}),a=t}return n})(f,g.toLowerCase().split(/\s/));return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:e.map(({matched:e,start:t,end:l})=>(0,d.jsx)(i.xv,{color:e?"subtle":"default",inline:!0,weight:e?"normal":"bold",children:u.substring(t,l)},`search-autocomplete-suggestion-${u}-${t}-${l}`))})}return(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,d.jsx)(i.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:u.substring(0,_)}),(0,d.jsx)(i.xv,{inline:!0,weight:"bold",children:u.substring(_)})]})}},722157:function(e,t,l){l.d(t,{Z:()=>x,b:()=>y});var n,a=l(667294),i=l(581722),r=l(422578),o=l(312048),s=l(20256),d=l(249459),u=l(173874),c=l(774838),p=l(865043),g=l(197908),f=l(739405),_=l(956226),m=l(305375);let h=(void 0!==n||(n=l(353491)).hash&&"5a3162913508a33c37676bde5973ea45"!==n.hash&&console.error("The definition of 'useDynamicSearchPlaceholderDataQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),y=e=>{let t={pageType:"other",isEligiblePageTypeForDynamicSearchPlaceholder:!1};return(0,u.uM)(e)?(t.pageType="pin",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,u.am)(e)?(t.pageType="board",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,u.dr)(e)&&(t.pageType="klp",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0),t},v=({fetchedSuggestedTerms:e,deviceType:t,pageType:l,dataType:n})=>{let a={deviceType:t,dataType:n,pageType:l};return e.length<3?((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",{termsCount:e.length,...a}),e=[]):(e=e.filter(e=>e.split(" ").length>1).map(e=>e.toLowerCase())).length<3&&((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",{termsCount:e.length,...a}),e=[]),e};function x(){let[e,t]=(0,a.useState)([]),l=(0,o.TH)(),n=(0,m.Z)(),x=(0,s.JZ)(),b=(0,g.Z)(l.pathname)||"",{isAuthenticated:w}=(0,c.B)(),S=(0,f.ZP)(),I=(0,u.uM)(l),k=(0,u.am)(l),P=(0,u.dr)(l),{pageType:T,isEligiblePageTypeForDynamicSearchPlaceholder:F}=y(l),C=n.id||(0,d.Gt)(n.interest||""),E=!w&&F&&!x,A=(0,r.useRelayEnvironment)(),Z=(0,i.v9)(e=>(0,_.Z)(e)[l.pathname]),j=(0,i.v9)(({topics:e})=>Object.keys(e).reduce((t,l)=>{let n=e[l];return t[n.slug]=n,t[l]=n,t},{})[C]),B=e=>e.reduce((e,t)=>t.name?[...e,t.name]:e,[]),D=(0,a.useCallback)(()=>{(0,r.fetchQuery)(A,h,{pinId:b},{fetchPolicy:"store-or-network"}).subscribe({next:e=>{let l=[],n=e.v3GetPinQuery?.__typename==="V3GetPin"?e.v3GetPinQuery?.data:null;n?.isUnsafe?(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(n?.pinJoin?.visualAnnotation&&(l=n.pinJoin.visualAnnotation),l=v({fetchedSuggestedTerms:l,deviceType:S,pageType:T,dataType:"vase"})),t(l.slice(0,5))},error:e=>{(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[S,b,A,T]),L=(0,a.useCallback)(()=>{if(Z?.seo_related_interests&&!Z.owner?.is_partner){let e=B(Z.seo_related_interests);t((e=v({fetchedSuggestedTerms:e,deviceType:S,pageType:T,dataType:"board_annotations"})).slice(0,5))}},[Z,T,S]),K=(0,a.useCallback)(()=>{if(j?.seo_related_interests){let e=B(j.seo_related_interests);t((e=v({fetchedSuggestedTerms:e,deviceType:S,pageType:T,dataType:"klp_annotations"})).slice(0,5))}},[j,T,S]);return(0,a.useEffect)(()=>{!w&&E&&("desktop"!==S?t([]):(I&&D(),k&&L(),P&&K()))},[Z,I,k,P,E,w,S,D,L,K]),(0,a.useEffect)(()=>{I||k||P||0===e.length||t([])},[I,e.length,k,P]),e}},735403:function(e,t,l){l.d(t,{Z:()=>a});var n=l(900946);function a(e){let{enteredQuery:t,filters:l,guideAdded:a,query:i,requestParams:r,rs:o,scope:s,selectedOneBarModules:d,user:u,inlineSuggestion:c}=e;if(!i)return"/";let p={q:i,rs:o,...r};if(l&&(p.filters=l),u&&(p.user=u),d&&(p.selected_one_bar_modules=d),a&&a.term&&(p.add_refine=`${a.term}|guide|word|${a.index}`),t&&(p.entered_query=t),c&&(p.inline_suggestion=c),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,n.Z)(p)}`;let g=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(g)||(g="pins"),g?`/search/${g}/?${(0,n.Z)(p)}`:`${window.location.pathname}?${(0,n.Z)(p)}`}},197601:function(e,t,l){l.d(t,{Z:()=>a});var n=l(575820);function a(e){let t,l=(0,n.mB)(e.search)||{};if(l.q){let l=e.pathname.split("/");t=l.length>2?l[2]:"pins"}if(l.q&&t){let e=Array.isArray(l.q)?l.q.join(" "):l.q,n=Array.isArray(l.rs)?"":l.rs,a=Array.isArray(l.user)?"":l.user;return{filters:l.filters||"",user:a,query:e||"",rs:n||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},764210:function(e,t,l){l.d(t,{Z:()=>i});var n=l(568736),a=l(900946);function i({bubbleId:e,pinId:t,query:l,referringSource:i,storyCategory:r,storyId:o,title:s}){let d=[0,24,21,26].includes(r),u=(0,a.Z)({q:l,rs:i||void 0,b_id:e,source_id:o,top_pin_ids:t}),c=d&&s?(0,n.x)({title:s,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?c:`/search/pins/${u?"?"+u:""}`}},923298:function(e,t,l){l.d(t,{Z:()=>i});var n=l(818244),a=l(233550);let i=()=>{let e=(0,n.g)(),t=(0,a.l)();return l=>{let{mobileOptions:n,desktopOptions:a,reason:i,attributionLabel:r,pinId:o,savePinImageUrl:s}=l;e?e.showDesktopSignupModal({signupFlow:a?.modalType==="login"?{type:"login"}:{type:"signup"},reason:i,attributionLabel:r,savePinId:o,savePinImageUrl:s,...a?.modalOptions}):t&&t.showMobileSignupModal({reason:i,attributionLabel:r,headingType:n?.headingType??"none",pinId:o,savePinImageUrl:s})}}},574991:function(e,t,l){l.d(t,{J:()=>n,Z:()=>a});let n=-1;function a(e){switch(e){case n:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},537701:function(e,t,l){l.d(t,{Z:()=>n});function n(e,t){let l=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(l,(e,t)=>"_"+t.toLowerCase())}},327638:function(e,t,l){l.d(t,{Z:()=>o});var n=l(686659),a=l(667294),i=l(20256),r=l(785893);function o(){return(0,a.useEffect)(()=>{(0,n.Z)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,r.jsx)(i.xu,{display:"visuallyHidden",children:", "})}},836447:function(e,t,l){l.d(t,{Z:()=>a});var n=l(575820);function a(e){let{boardId:t,username:l,slug:a}=e;return t?(0,n.tV)`/v3/boards/${t}/`:l&&a?(0,n.tV)`/v3/boards/${l}/${a}/`:null}},338065:function(e,t,l){l.d(t,{Z:()=>F});var n,a=l(686659),i=l(667294);l(167912);var r=l(20256),o=l(104999),s=l(935059),d=l(183e3),u=l(24246),c=l(501010),p=l(923298),g=l(865043),f=l(736328),_=l(577356),m=l(473687),h=l(671220),y=l(739405),v=l(893957),x=l(229127),b=l(120100),w=l(157498),S=l(512324),I=l(529312),k=l(785893);let P=({children:e,pulsar:t,testId:l})=>t.show?(0,k.jsx)(r.xu,{"data-test-id":l,position:"relative",children:(0,k.jsxs)(r.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,k.jsx)(r.o3,{})})]})}):(0,k.jsx)(r.xu,{"data-test-id":l,children:e}),T=(void 0!==n||(n=l(453217)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==n.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function F({auxData:e,disabled:t,disableLog:l,followEventType:n,id:F,inline:C,invertColors:E,isFollowed:A,isIdeaPin:Z,isLegoEnabled:j,isSecondaryButton:B,isUserFollowButton:D,isUserMe:L,onFollow:K,onUnfollow:O,pinKey:R,shouldUseLegoColors:z,showPulsar:M,size:U,textType:N="FollowFollowing",unfollowEventType:H,viewParameter:$,viewType:q,clientTrackingParams:V}){let G;(0,i.useEffect)(()=>{(0,a.Z)("FollowButton","/app/www/FollowButton.tsx")},[]);let W=(0,u.Z)(),Q=(0,y.HG)(),{showToast:Y}=(0,_.dI)(),X=(0,f.Z)(),J=(0,o.Z)(),ee=(0,p.Z)(),{checkExperiment:et}=(0,c.Z)(),el=(0,b.Z)(),en=(0,s.Z)(),ea=en&&en.isAuth,{unauthFollowUserId:ei,setUnauthFollowUserId:er}=(0,I.A)(),eo=(0,w.mN)()(F),es=(0,m.Z)(),[ed,eu]=(0,i.useState)(A),ec=eo&&{imageMediumUrl:eo.image_medium_url,username:eo.username},ep=(0,d.Z)(T,R),eg=ep?.linkDomain,ef=ep?.nativeCreator,e_=ep?.originPinner,em=ep?.pinner;G=ef||(eg?eg.officialUser:e_||em);let eh=ec??G;(0,v.Z)(()=>{!Q&&ea&&ei&&F&&ei===F&&K(F)});let ey=el({fn:()=>{if(ea)ed?(O(F),eu(!1),l||J({event_type:H,view_type:q,view_parameter:$,object_id_str:F,aux_data:e,clientTrackingParams:V})):(K(F),eu(!0),D&&Y(({hideToast:e})=>{let t=eh?.username?`/${eh.username}/`:"";return(0,k.jsx)(S.Z,{handleHide:e,href:t,imageUrl:eh?.imageMediumUrl||"",text:(0,k.jsx)(r.xv,{lineClamp:4,children:W.bt("Вы подписались на автора! Теперь его пины будут появляться в вашей ленте.", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:F})}),l||J({event_type:n,view_type:q,view_parameter:$,object_id_str:F,aux_data:e,clientTrackingParams:V}));else{if((0,g.NC)(ed?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:ed?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled||et("migration_upsell_manager_redux_dweb_global").anyEnabled||et("migration_upsell_manager_redux_mweb_global").anyEnabled)if(Q){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,h.b9)(!!Z,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,h.Jw)(!!Z,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:Z?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:Q&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!Q&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});Q||er(F??""),(0,g.NC)("clickthrough")}},modalHeader:(0,x.N4)({i18n:W,toFollow:!ed})}),ev=!ed&&!!M,ex=()=>{if(L)return W.bt("Это вы!", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===N)return ed?W.bt("Удалить", "Remove", "unfollowButton.removeText", undefined, true):W.bt("Добавить", "Add", "followButton.addText", undefined, true);let e="FollowUnfollow"===N?W.bt("Отписаться", "Unfollow", "unfollowButton.unfollowText", undefined, true):W.bt("Отписаться", "Following", "Follow button label - followed state", undefined, true);return ed?e:W.bt("Подписаться", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,k.jsx)(P,{pulsar:ev?{show:!0,onClick:ey}:{show:!1},testId:L||ed?"board-unfollow-button":"board-follow-button",children:(0,k.jsx)(r.zx,{accessibilityLabel:ex(),color:z||"AddRemove"===N||!j&&B||E?"gray":"red",disabled:L||t,fullWidth:C,onClick:ev?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),l||J({event_type:101,component:13672,element:11951,object_id_str:F,view_type:q,view_parameter:$,aux_data:e,clientTrackingParams:V}),ey()},selected:ed||!1,size:U,text:ex()})})}},69841:function(e,t,l){l.d(t,{Cy:()=>d,HE:()=>u,JE:()=>g,Mv:()=>i,Y4:()=>c,dL:()=>a,fS:()=>p,fv:()=>o,qS:()=>s,u:()=>f,uc:()=>r});var n=l(79271);let a=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},i=e=>{let t=(0,n.ZP)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,n.ZP)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},g=e=>{let t=(0,n.ZP)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},f=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},798385:function(e,t,l){l.d(t,{Z:()=>a});var n=l(157498);function a(){let e=(0,n.dM)();return Object.keys(e).reduce((t,l)=>{let n=e[l];return t[n.username]=n,t},{})}},143677:function(e,t,l){l.d(t,{Z:()=>Z});var n,a=l(686659),i=l(667294);l(167912);var r=l(20256),o=l(104999),s=l(935059),d=l(183e3),u=l(24246),c=l(995514),p=l(720459),g=l(216975),f=l(774838),_=l(865043),m=l(327638),h=l(380938),y=l(739405),v=l(474885),x=l(319226),b=l(914253),w=l(785893);function S({boardId:e}){(0,i.useEffect)(()=>{(0,a.Z)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let t=(0,s.Z)(),l=(0,y.HG)(),n=(0,b.gC)()(e),o=function(e){let t=(0,s.Z)(),l=(0,y.HG)()&&t&&t.isAuth,n=(0,b.gC)()(e);return(0,i.useMemo)(()=>{if(!n)return[];let{owner:e,collaborating_users:a}=n,[i,r,o]=[new Set,new Set,new Set];for(let l of[...e?[e]:[],...a||[]])l.id===e?.id?i.add(l):l.id===(t.isAuth?t.id:void 0)?r.add(l):o.add(l);return[...i,...r,...o].map(e=>({name:(l?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[l,n,t])}(e);if(!n)return null;let{collaborator_count:d=0}=n,u=l&&t&&t.isAuth?23:16,c=u/3*((o.length>2?3:o.length)*2+1),p=d>=o.length?d-o.length:0,g=[...o,...Array(p=p>99?100:p).fill({name:"",src:""})];return(0,w.jsxs)(r.xu,{height:u,marginStart:2,minWidth:c,width:c,children:[(0,w.jsx)(m.Z,{}),(0,w.jsx)(x.HE,{collaborators:g})]})}var I=l(464094),k=l(748261),P=l(338065),T=l(69841),F=l(798385),C=l(305375);let E=(void 0!==n||(n=l(492774)).hash&&"160b60f499ce33660e2c11915eed4d09"!==n.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),A=({children:e,isOwnProfile:t,lineClamp:l})=>(0,y.HG)()?(0,w.jsx)(r.X6,{accessibilityLevel:2,lineClamp:t?1:l,size:t?"400":"300",children:e}):(0,w.jsx)(r.xv,{lineClamp:t?1:l,size:t?void 0:"200",weight:"bold",children:e});function Z({auxData:e,archivedDate:t,boardId:l,boardUrl:n,canEdit:x,numberOfCollaborators:b,containerBackgroundColor:Z,coverPhoto:j,display:B,followButtonDisabled:D=!1,followedByMe:L,fullSizeDrawer:K,sensitivityScreen:O,handleInviteResponse:R,hideMeta:z,hideSecretBoardIcon:M=!1,id:U,invite:N,imagesLego:H=[],isActive:$,isAttributionHeightUnfixed:q,isAuthenticated:V,isBoardInviteAccepted:G,isCollaborative:W,isCollaborator:Q,isCollaboratorsAttributionVisible:Y=!1,isFeaturedBoardsModule:X=!1,isHomePageBoards:J,isOwner:ee,isProtected:et,isSecret:el,lastModifiedDate:en,layout:ea,lineClamp:ei=2,locale:er,metaMarginTop:eo=0,metaMarginBottom:es=0,metaPaddingY:ed=2,name:eu,numCols:ec,onEditClick:ep,onFollow:eg,onUnfollow:ef,pinCount:e_=0,sectionCount:em,slotIndex:eh,showFollowButton:ey,showBoardCollaborators:ev=!0,showTitleOnly:ex,trackingParams:eb,boardKey:ew,viewObjectIdStr:eS,viewParameter:eI,viewType:ek}){(0,i.useEffect)(()=>{(0,a.Z)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let eP=(0,u.Z)(),eT=(0,c.Z)(),eF=(0,p.Z)(),eC=(0,o.Z)(),eE=(0,y.HG)(),{isRTL:eA}=(0,f.B)(),eZ=(0,s.Z)(),{username:ej}=(0,C.Z)(),eB=(0,F.Z)(),eD=eB[ej??""]?.is_gco_account,eL=(0,d.Z)(E,ew),{featuredBoardMetadata:eK}=eL||{},{curator:eO,isSponsoredContent:eR}=eK||{},ez=X&&eR,eM=eE&&V,eU="square"===ea?I.M0:I.z9,eN="responsive"!==B&&(eM||X)?eU:"100%",eH=eZ.isAuth&&eZ.username===ej,e$=e=>{V||(0,_.NC)("press_follow_board"),eg&&eg(e)},eq=e=>{V||(0,_.NC)("press_unfollow_board"),ef&&ef(e)},eV=H.map(e=>({url:e.url,name:eu})),eG=!!eL?.owner&&!x&&ey,eW=eL?.owner?.isVerifiedMerchant,eQ=eL?.owner?.verifiedIdentity?.verified,eY=W&&!X;eH||(eY&&=!!ej&&!eD);let eX=!ee&&!Q&&!!O?.show_warning,eJ={board_id:U,reason:O?.reason},e0=!eH&&!ex&&(!ej||Y||eD),e1=eM?void 0:I.s0+(eG?I.o2:0);eH||(e1=eE?void 0:(e0?I.AC:I.Y_)+(eG?I.o2:0));let e2=eG&&"responsive"!==B?`max(calc(25vh + 10px), calc(210px + ${5*!eH}vh))`:"100%";return(0,i.useEffect)(()=>{eX&&eC({event_type:13,component:13861,view_type:215,aux_data:eJ})},[]),(0,w.jsx)(T.fS,{auxData:{board_id:U,board_pin_count:e_??0,board_section_count:em??0,grid_index:eh||0,...e},impressionData:{imageURL:j?.url},loggingId:U,slotIndex:eh||0,trackingParams:eb,viewData:{view_object_id_str:eS},viewParameter:eI,viewType:ek,children:({impressionTrackerRef:e})=>(0,w.jsxs)(r.xu,{ref:e,"data-test-id":`boardCard-${eu}`,height:t&&!eE?"100%":e2,position:"relative",width:eN,children:[(0,w.jsx)(r.zd,{rounding:4,children:(0,w.jsx)(k.Z,{boardKey:eL,canEdit:x,containerBackgroundColor:Z,coverPhoto:j,coverPinKey:eL?.coverPin,fullSize:K,hideSecretBoardIcon:M,images:eV,isActive:$,isHomePageBoards:J,isProtected:et,isSecret:el,layout:ea,onEditClick:ep,renderAsImage:!0,showSensitivityScreen:eX})}),!z&&(0,w.jsx)(i.Fragment,{children:N?(0,w.jsxs)(i.Fragment,{children:[(0,w.jsxs)(r.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,w.jsxs)(r.xu,{width:"100%",children:[(0,w.jsx)(r.rU,{href:n??"",children:(0,w.jsx)(r.xu,{marginBottom:1,marginTop:0,children:(0,w.jsx)(A,{isOwnProfile:eH,lineClamp:ei,children:eu})})}),G?(0,w.jsx)(r.xv,{lineClamp:1,size:"200",children:eP.bt("Вы присоединились.", "You’ve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,w.jsx)(r.xv,{size:"200",children:function(e,t){let{full_name:l,username:n}=e,a=(0,w.jsx)(r.rU,{display:"inlineBlock",href:`/${n}`,underline:"hover",children:l},"linkToUser");return(0,g.nk)(t.bt("{{ linkToUser }} приглашает вас на эту доску", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:a})}(N.invited_by_user,eP)})]}),ev&&(0,w.jsx)(S,{boardId:l})]}),G?(0,w.jsx)(r.xu,{direction:"row",display:"flex",paddingX:2,children:(0,w.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(r.ZP,{fullWidth:!0,href:n??"",size:"lg",text:eP.bt("Просмотреть доску", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,w.jsxs)(r.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,w.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(r.zx,{fullWidth:!0,onClick:()=>{R?.(!1)},size:"lg",text:eP.bt("Отклонить", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,w.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,w.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:()=>{R?.(!0)},size:"lg",text:eP.bt("Принять", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,w.jsxs)(r.xu,{height:q?void 0:e1,marginBottom:es,marginTop:eo,paddingX:2,paddingY:ed,children:[(0,w.jsxs)(r.xu,{alignItems:eH?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,w.jsx)(A,{isOwnProfile:eH,lineClamp:ei,children:eu}),eY&&ev&&(0,w.jsx)(S,{boardId:l})]}),e0&&(0,w.jsx)(r.xu,{marginTop:1,children:ez?(0,w.jsx)(v.Z,{numberOfCollaborators:0,ownerFullName:eO?.fullName??"",ownerIsVerifiedIdentity:!!eO?.verifiedIdentity?.verified,ownerIsVerifiedMerchant:!!eO?.isVerifiedMerchant,showBoardCollaborators:!1}):(0,w.jsx)(v.Z,{numberOfCollaborators:b,ownerFullName:eL?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eQ,ownerIsVerifiedMerchant:!!eW,showBoardCollaborators:ev})}),!ex&&(0,w.jsxs)(r.xu,{alignItems:eE?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,w.jsx)(r.kC.Item,{flex:"none",children:(0,w.jsxs)(r.xv,{color:eH?void 0:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(m.Z,{}),(0,g.nk)(eP.nbt(["{{ count }} пин", "{{ count }} пина", "{{ count }} пинов"], e_, "profile.ProfilePage.board.BoardCard.pinsCount", true),{count:eF(er,e_,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!em&&(0,w.jsxs)(r.xv,{color:eH?void 0:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(h.Z,{ariaHidden:!0,size:"100"}),(0,w.jsx)(m.Z,{}),(0,g.nk)(eP.nbt(["{{ count }} раздел", "{{ count }} раздела", "{{ count }} разделов"], em, "profile.ProfilePage.board.BoardCard.sectionsCount", true),{count:em})]}),!eH&&(0,w.jsx)(r.xv,{color:"subtle",size:"100",children:(0,w.jsx)(h.Z,{ariaHidden:!0,size:"100"})}),(0,w.jsx)(r.kC.Item,{flex:em?"none":"grow",children:(0,w.jsx)(r.xu,{display:"flex",marginEnd:2*!!eA,marginStart:eH?2:void 0,children:(0,w.jsxs)(r.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,w.jsx)(m.Z,{}),eT(en,!0)]})})})]}),t&&!eE&&(0,w.jsxs)(r.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,w.jsx)(m.Z,{}),eP.bt("Архивированная", "Archived", "profile.ProfilePage.BoardCard.ArchivedText", undefined, true)]}),eG&&(0,w.jsx)(r.xu,{column:2===ec?12:void 0,flex:"none",marginTop:2===ec?3:void 0,children:(0,w.jsx)(P.Z,{disabled:!!eL?.owner?.blockedByMe||D,followEventType:26,id:U,isFollowed:L,onFollow:e$,onUnfollow:eq,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eI,viewType:ek})})]})})]})})}},662911:function(e,t,l){l.r(t),l.d(t,{default:()=>I});var n,a=l(686659),i=l(667294),r=l(581722);l(167912);var o=l(20256),s=l(104999),d=l(935059),u=l(183e3),c=l(774838),p=l(865043),g=l(736328),f=l(739405),_=l(143677),m=l(422913),h=l(214451),y=l(701572),v=l(914253),x=l(785893);let b=(void 0!==n||(n=l(786897)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==n.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=["thumbnail","imageOnly"],S=({isUsingMask:e,setIsHovered:t,children:l})=>{let n=(0,f.HG)();return e&&n?(0,x.jsx)(o.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:l}):(0,x.jsx)(i.Fragment,{children:l})};function I({auxData:e,boardKey:t,component:l,containerBackgroundColor:n,display:I="responsive",forwardedRef:k,fullSize:P,hideSecretBoardIcon:T=!1,isAttributionHeightUnfixed:F=!1,isCollaboratorsAttributionVisible:C=!1,isFeaturedBoardsModule:E=!1,isHomePageBoards:A,noPaddings:Z=!1,showFollowButton:j=!0,isUsingMask:B=!1,showPinCount:D=!0,slotIndex:L,type:K,viewObjectIdStr:O,viewParameter:R,viewType:z,trackInteractionObjectProp:M,isFromProfileGrid:U=!1,metaMarginTop:N=2,metaMarginBottom:H=0,metaPaddingY:$=0}){(0,i.useEffect)(()=>{(0,a.Z)("BoardRep","/app/www/board/BoardRep.tsx")},[]);let q=(0,d.Z)(),V=q&&q.isAuth,G=(0,r.I0)(),{locale:W}=(0,c.B)(),Q=(0,g.Z)(),Y=(0,u.Z)(b,t),X=(0,v.gC)(),J=Y?.entityId?X(Y.entityId):null,ee=(0,m.Z)(Y),et=(0,s.Z)(),el=(0,f.HG)(),[en,ea]=(0,i.useState)(!1);if(!Y)return null;let{collaboratingUsers:ei,owner:er,privacy:eo,shouldShowBoardCollaborators:es}=Y,ed=q.isAuth?q.id:"",eu=er?.entityId===ed,ec=[];ei?.__typename==="UserCollaboratingUsersConnectionContainer"?ec=ei.connection?.edges?.map(e=>e?.node?.entityId)??[]:J?.collaborating_users&&(ec=J.collaborating_users.map(e=>e.id));let ep=ec.includes(ed)||eu;if("secret"===eo&&!ep)return null;let eg=!V&&!(U&&Y.hasCustomCover)&&!!Y.images236x?.[0]?.url,ef="grid"===K||"thumbnail"===K?2:4,e_=eg?Y.images236x?.[0]?.url:ee(ef),em=Y.coverPin??J?.cover_pin,eh=(em?.crop&&em?.size&&{x:em?.crop[0]??0,y:em?.crop[1]??0,width:em?.size[0]??0,height:em?.size[0]??0})??{x:0,y:0,width:0,height:0},ey={isCustom:!eg&&(Y.hasCustomCover||void 0),url:e_,position:eh},ev=Y.pinThumbnailUrls??J?.pin_thumbnail_urls,ex=(0,h.Jx)(Y.images170x,ev?.filter(e=>null!==e)??void 0,e_).map(({url:e})=>({name:(0,h.po)(e),url:e})),eb=[44,49,4182].includes(R)||[3,442,625].includes(z),ew=Y?.sensitivityScreen?{reason:Y.sensitivityScreen?.reason,showWarning:Y.sensitivityScreen?.showWarning}:void 0,eS=Y.pinCount??J?.pin_count??0,eI=Y.sectionCount??J?.section_count??0,ek=(0,x.jsx)(_.Z,{archivedDate:Y.archivedByMeAt??J?.archived_by_me_at,auxData:e,boardId:Y.entityId,boardKey:Y,canEdit:!!Y.boardAccess&&Y.boardAccess.includes("write"),containerBackgroundColor:n,coverPhoto:ey,display:I,followedByMe:!!(J?.followed_by_me??Y.followedByMe),fullSizeDrawer:P,hideMeta:w.includes(K),hideSecretBoardIcon:T,id:Y.entityId,imagesLego:ex,isActive:en,isAttributionHeightUnfixed:F,isAuthenticated:V,isCollaborative:!!Y.isCollaborative,isCollaborator:!!ep,isCollaboratorsAttributionVisible:C,isFeaturedBoardsModule:E,isHomePageBoards:A,isOwner:eu,isProtected:"protected"===Y.privacy||J?.privacy==="protected",isSecret:"secret"===Y.privacy||J?.privacy==="secret",lastModifiedDate:Y.boardOrderModifiedAt??J?.board_order_modified_at??"",layout:el?"square":void 0,locale:W,metaMarginBottom:H,metaMarginTop:N,metaPaddingY:$,name:Y.name??(J?.name||""),numberOfCollaborators:ec.length,numCols:ef,onFollow:e=>G((0,y.Z)(e,et)),onUnfollow:e=>G((0,y.f)(e,et)),pinCount:D&&eS?eS:void 0,sectionCount:eI??0,sensitivityScreen:ew,showBoardCollaborators:!1!==es,showFollowButton:j,showTitleOnly:"imageTitle"===K,slotIndex:L,viewerId:ed,viewObjectIdStr:O,viewParameter:R,viewType:z}),eP=Y.url||J?.url;return!w.includes(K)&&eP?(0,x.jsx)(o.Tg,{dataTestId:"board-rep-tap-area-link",href:V?eP:eP.toLowerCase(),onTap:()=>{if(eb&&et({aux_data:{board_id:Y.entityId,board_pin_count:eS,board_section_count:eI,story_type:e?.story_type},component:l??1,element:36,event_type:102,view_parameter:49===R?eu?3106:3107:R,view_data:{view_object_id_str:O}}),!V){if((0,p.NC)("click_go_to_board"),M)return void Q(M);Q({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,x.jsx)(o.xu,{ref:k,paddingY:Z?0:el?2:3,children:(0,x.jsx)(S,{isUsingMask:B,setIsHovered:ea,children:ek})})}):ek}},474885:function(e,t,l){l.d(t,{Z:()=>p});var n=l(686659),a=l(667294),i=l(20256),r=l(271255),o=l(24246),s=l(720459),d=l(774838),u=l(785893);let c={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function p({ownerFullName:e,ownerIsVerifiedMerchant:t,ownerIsVerifiedIdentity:l,numberOfCollaborators:p,size:g="xs",showBoardCollaborators:f=!0}){(0,a.useEffect)(()=>{(0,n.Z)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let _=(0,o.Z)(),{locale:m}=(0,d.B)(),h=(0,s.Z)();return(0,u.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",maxHeight:c[g].height,children:[(0,u.jsx)(i.xe,{lineClamp:1,size:c[g].text,children:(0,u.jsx)(r.Z,{text:e})}),(t||l)&&(0,u.jsx)(i.xu,{flex:"none",marginStart:1,children:t?(0,u.jsx)(i.kw,{accessibilityLabel:_.bt("Значок подтвержденного продавца", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"info",icon:"compact-check-circle-fill",size:c[g].icon}):(0,u.jsx)(i.kw,{accessibilityLabel:_.bt("Значок полученного подтверждения личности", "Identity verification badge icon", "identityVerification.badge.icon", undefined, true),color:"error",icon:"compact-check-circle-fill",size:c[g].icon})}),f&&p>0&&(0,u.jsx)(i.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,u.jsx)(i.xe,{size:c[g].text,children:"+ "+h(m,p,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},422913:function(e,t,l){l.d(t,{Z:()=>o}),l(167912);var n,a=l(183e3),i=l(914253);let r=(void 0!==n||(n=l(97812)).hash&&"756d8d8edca35eac0a0500359bf60618"!==n.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),o=e=>{let t=(0,a.Z)(r,e),l=(0,i.gC)(),n=t?.entityId?l(t.entityId):null,o=t?.imageCoverUrl??n?.image_cover_url,s=t?.coverImageSpec_216x146??n?.cover_images?.spec_216x146,d=t?.coverImageSpec_222x??n?.cover_images?.spec_222x,u=t?.coverImageSpec_400x300??n?.cover_images?.spec_400x300;return e=>{let l=t?.imageCoverHdUrl||t?.imageCoverUrl;if(l)return l;let n=u?.url??d?.url??s?.url??"";return e&&e>2&&n?n:o||""}}},214451:function(e,t,l){l.d(t,{Bw:()=>o,Jx:()=>r,po:()=>n});let n=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),i=e=>{if(!e)return()=>!0;let t=n(e);return e=>"string"==typeof e?n(e)!==t:n(e.url??"")!==t},r=(e,t,l)=>e?e.filter(i(l)):t?t.filter(i(l)).map(a):[],o=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},501755:function(e,t,l){l.d(t,{Z:()=>k});var n=l(686659),a=l(667294),i=l(20256),r=l(788730),o=l(352015),s=l(230201),d=l(367683),u=l(514837),c=l(806513),p=l(24246),g=l(79271),f=l(59111),_=l(216975),m=l(774838),h=l(893957),y=l(113759),v=l(785893);function x({index:e,length:t,showBadge:l}){return(0,a.useEffect)(()=>{(0,n.Z)("CarouselBadge","/app/www/common/Carousel/CarouselBadge.tsx")},[]),(0,v.jsx)(i.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:.8*!!l,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new i.Ry(1),children:(0,v.jsx)(i.xv,{color:"inverse",children:`${(e??0)+1}/${t}`})})}var b=l(834182),w=l(228612),S=l(74195);let I=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function k(e){let t;(0,a.useEffect)(()=>{(0,n.Z)("Carousel","/app/www/common/Carousel/Carousel.tsx")},[]);let{backgroundColor:l="transparent",children:k,componentType:P,containerRef:T,contextLogData:F,disableTransition:C,gap:E=0,height:A,id:Z,impressionType:j,index:B,responsiveSizing:D=!1,shouldBeDragCarousel:L,showCarouselBadge:K,styleOverrides:O,innerCarouselWidthRef:R,slideWidth:z,surface:M,paddingX:U,view:N,viewParameter:H,widthRatio:$=1,setSlideIndex:q,sliderRef:V,showCarouselOverflow:G,isHorizontalScrollable:W}=e,{showBadge:Q}=(({index:e})=>{let[t,l]=(0,a.useState)(!0),n=(0,a.useRef)(void 0),i=(0,a.useRef)(void 0);return(0,a.useEffect)(()=>(n.current=setTimeout(()=>{l(!1)},3e3),()=>{clearTimeout(n.current)}),[]),(0,a.useEffect)(()=>{if(!i.current){i.current=e;return}clearTimeout(n.current),l(!0)},[e]),{showBadge:t}})({index:B}),{logContextEvent:Y}=(0,s.u)(),X=(0,w.S6)()(Z),J=(0,p.Z)(),{isRTL:ee}=(0,m.B)(),et=(0,a.useRef)(void 0),el=(0,a.useRef)(null),en=(0,a.useRef)(0),ea=(0,a.useRef)(void 0),ei=(0,S.Z)(),{peekCloseupEnabled:er,viewportSize:eo}=(0,y.x4)();if((0,h.Z)(()=>{let e=el.current;if(!e)return;V&&e&&(V.current=e);let t=()=>{let e=en.current;if(W){let t=new IntersectionObserver(([l])=>{let n=-(l.boundingClientRect.x??0),i=a.Children.toArray(k),r=V?(0,b.yR)(V.current,n+ei,z,$,E,i.length):0;q?.(r),Math.abs(e-n)>=10&&Y({aux_data:{...F},component:P,event_type:"right"==(e<n?"right":"left")?9315:9316,view_type:N,view_parameter:H}),en.current=n,ea.current&&t.unobserve(ea.current)});ea.current&&t.observe(ea.current)}else{let t=-(ea.current?.getBoundingClientRect().x??0);Math.abs(e-t)>=10&&Y({aux_data:{...F},component:P,event_type:"right"==(e<t?"right":"left")?9315:9316,view_type:N,view_parameter:H}),en.current=t}};return L&&(W&&e?.addEventListener("scroll",t),e?.addEventListener("touchend",t)),()=>{L&&(W&&e?.removeEventListener("scroll",t),e?.removeEventListener("touchend",t))}}),$>1||$<0)throw Error("widthRatio should be between 0 and 1 inclusive");let es=Math.floor(z*$),ed=a.Children.toArray(k),eu=ed.length*es,ec=T?.clientWidth||eu,{maxHeight:ep,fiftyPercentHeight:eg,fiftyPercentWidth:ef}=(0,r.Re)(),e_=er&&"lg"===eo&&"ShoppingGridSmallCarousel"===M;er&&(t="sm"===eo?eg:ep);let em=O?.justifyContent??(ec>eu?"center":"start"),eh=e=>void 0!==e?`${e}px`:L?`${c.yt}px`:void 0,ey=eh(O?.horizontalScrollContainerPaddingLeft),ev=eh(O?.horizontalScrollContainerPaddingRight);R&&(R.current="center"===em?el.current:null);let ex=D||L?void 0:(0,b.CU)({slotWidth:es,gap:E,numberOfSlides:ed.length,index:B,containerWidth:ec,paddingX:U});return(0,v.jsxs)("div",{className:"BoardMoreIdeasRep"===j?"moreIdeasBoardRepCarousel":"",style:D?{height:"inherit"}:{},children:[(0,v.jsxs)(i.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:D?"inherit":void 0,justifyContent:em,overflow:e_||G?void 0:"hidden",children:[K&&(0,v.jsx)(x,{index:B,length:ed.length,showBadge:Q}),"BoardMoreIdeasRep"!==j&&(0,v.jsx)(o.P,{pinKey:null!=X?{type:"Legacy",data:X}:null,children:e=>(0,v.jsx)(u.Z,{carouselData:{...e,type:"canonical"},contextLogData:F,height:A??et.current?.clientHeight??1,id:Z,impressionType:"Pin",index:B,slideWidth:z,view:N??1,viewParameter:H??72},`carousel-impression-key-${B}`)}),L&&(0,v.jsx)(f.Z,{unsafeCSS:I}),(0,v.jsx)("div",{ref:el,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:l,overflowX:L?"scroll":"visible",paddingLeft:ey,paddingRight:ev,display:"flex",flexDirection:O?.flexDirection??"row",height:D?"inherit":void 0,marginLeft:U?`${U}px`:void 0,marginRight:U?`${U}px`:void 0,position:"relative",scrollbarWidth:0,transition:L||C?void 0:ee?"right .5s":"left .5s",right:ee?ex:void 0,left:ee?void 0:ex,width:D?"100%":void 0},children:ed.map((e,l)=>{let n=l===ed.length-1,a=Math.ceil(E/4),o=0;a>=-12&&a<=12&&(o=a);let s=(0,v.jsx)(i.xu,{ref:e=>{et.current=e,0===l&&(ea.current=e)},"aria-label":(0,_.Wc)(J.bt("Слайд {{ currentSlide }} из {{ totalSlides }}", "Slide {{ currentSlide }} of {{ totalSlides }}", "CloseupCarousel.Carousel.labelSlide", undefined, true),{currentSlide:`${l+1}`,totalSlides:`${ed.length}`}),"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${l}`,display:l!==B&&D?"none":"block",height:D?"100%":A??void 0,marginEnd:n?0:o,maxHeight:t,maxWidth:e_?`calc(${r.LV}px - ${r.Gd}px * 2)`:ef,role:"group",width:D?"100%":es,children:e},`carousel-slot-${Z}-${l}`);if("BoardMoreIdeasRep"===j){let t=e.props,n={total_object_count:t?.story.objects.length,storyType:t?.story.story_type,boardIdStr:t?.item.board_id,slotIndex:t?.slotIndex,story_id:t?.story.id};return(0,v.jsx)(g.Fw,{componentType:P,contextLogData:n,impressionAuxFields:n,impressionType:"BoardMoreIdeasRep",loggingId:Z,slotIndex:l,viewParameter:H??72,viewType:N??1,children:({impressionTrackerRef:e})=>(0,v.jsx)(i.xu,{ref:e,children:s})},`carousel-slot-${Z}-${l}`)}return s})})]}),14114===P&&(0,v.jsx)(d.Qp,{anchor:ea.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},206928:function(e,t,l){l.d(t,{Z:()=>s});var n=l(686659),a=l(667294),i=l(20256),r=l(24246),o=l(785893);let s=({iconType:e,showFab:t,moduleHovered:l,opacity:s=.8})=>{(0,a.useEffect)(()=>{(0,n.Z)("NavigationFab","/app/www/common/Carousel/NavigationFab.tsx")},[]);let d=(0,r.Z)(),[u,c]=(0,a.useState)(!1),p=l??u;return(0,o.jsx)(i.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),opacity:p?1:p===l?0:s,children:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:+!!t,children:(0,o.jsx)(i.hU,{accessibilityLabel:"forward"===e?d.bt("Просмотреть следующее изображение", "View Next", "Button to advance carousel to the next image", undefined, true):d.bt("Просмотреть предыдущее изображение", "View Previous", "Button to advance carousel to the previous image", undefined, true),bgColor:"white",dataTestId:"navigation-fab",icon:"forward"===e?"arrow-forward":"arrow-back",size:"md"})})})}},834182:function(e,t,l){l.d(t,{CU:()=>a,GH:()=>o,Iw:()=>r,c3:()=>c,gA:()=>s,tD:()=>i,vF:()=>d,yR:()=>u});let n=({containerWidth:e,contentWidth:t,index:l,slotAndGapWidth:a})=>{let i=l-1,r=i*a;return t-r>=e?r:n({index:i,slotAndGapWidth:a,containerWidth:e,contentWidth:t})},a=({containerWidth:e,gap:t,index:l,numberOfSlides:a,slotWidth:i,paddingX:r})=>{let o=i+t,s=o*a,d=r?e-r:e;if(s<=d)return 0;let u=d/o,c=(({index:e,numberOfSlides:t,slidesShownPerPosition:l})=>t-e-Math.floor(l)<1)({index:l,numberOfSlides:a,slidesShownPerPosition:u})?(({containerWidth:e,contentWidth:t,gap:l,index:a,slidesShownPerPosition:i,slotAndGapWidth:r,paddingX:o=0})=>n({containerWidth:e,contentWidth:t,index:a,slotAndGapWidth:r})+(({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t)({slidesShownPerPosition:i,slotAndGapWidth:r})-l+o)({containerWidth:d,contentWidth:s,gap:t,index:l,slidesShownPerPosition:u,slotAndGapWidth:o,paddingX:r}):l*o;return c?Math.round(-c):0},i=({containerWidth:e,gap:t,index:l,numberOfSlides:n,slotWidth:i,isHorizontalScrollable:r,paddingX:o,rows:s=1})=>{let d=n/s*i+t*(n-1),u=o?e-o:e;return 0!==e&&(d<=u||(r?d<=u:Math.abs(a({containerWidth:e,gap:t,index:l,numberOfSlides:n,slotWidth:i,paddingX:o}))+t>=d-u))},r=({containerWidth:e,currentIndex:t,gap:l,index:n,numberOfSlides:i,slotWidth:r,paddingX:o})=>{let s=r+l,d=o?e-o:e;if(s*i<=d||0===e)return!0;let u=a({containerWidth:e,gap:l,index:t,numberOfSlides:i,slotWidth:r,paddingX:o}),c=o?d+s+o:e+s;return u+s*n<c},o=(e,t,l)=>e||`${t.bt("изображение пина-карусели", "carousel image", "Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed", undefined, true)} ${l}`;function s({highResOnly:e,slot:t}){let{images:l}=t;return e?`${l?.["564x"]?.url??""} 1x`:[l?.["474x"]&&`${l["474x"].url??""} 2x`,l?.["736x"]&&`${l["736x"].url??""} 3x`,l?.orig&&`${l.orig.url??""} 4x`].filter(Boolean).join(", ")}let d=(e,t,l,n,a=0,i)=>{let r=i?l-i:l;if(r===t)return-(n*t*1)+(i||0);let o=Math.floor(r-t),s=t+a;return n===e-1?-1*n*s+o+(i||0):-1*n*s+(i||0)},u=(e,t,l,n,a,i,r)=>{if(!e||t<=0)return 0;let o=Math.floor(l*n),s=e?.clientWidth||i*o;return Math.round(((r?t-r:t)+(r?s-r:s)-o/2)/(o+a))-1},c=(e,t,l,n,a,i)=>{e.current&&t&&e.current.scrollBy({left:(l-n)*(a+i),behavior:"smooth"})}},667389:function(e,t,l){l.d(t,{O:()=>c,Z:()=>p});var n=l(686659),a=l(667294),i=l(20256),r=l(24246),o=l(247387),s=l(785893);let d=(0,a.lazy)(()=>l.e("38647").then(l.bind(l,541583))),u={xs:12,sm:16,md:20,lg:24};function c({children:e}){(0,a.useEffect)(()=>{(0,n.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let t=(0,r.Z)();return(0,s.jsx)(i.u,{dataTestId:"verified-badge-tooltip",link:(0,s.jsx)(i.rU,{href:o.vBy,target:"blank",children:(0,s.jsx)(i.xe,{color:"inverse",size:"100",weight:"bold",children:t.bt("Подробнее", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("Этот магазин отвечает требованиям Pinterest к продавцам", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function p({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:l,showText:o,size:p,inspirationalBadges:g,inspirationalBadgesColor:f}){(0,a.useEffect)(()=>{(0,n.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx")},[]);let _=(0,r.Z)(),[m,h]=(0,a.useState)(!1);if(l){let l=(0,s.jsxs)(i.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,s.jsx)(i.iP,{onTap:()=>h(!0),children:(0,s.jsx)(i.JO,{accessibilityLabel:_.bt("Значок подтвержденного продавца", "Merchant verification badge", "merchantVerification.badge.icon", undefined, true),color:"info",icon:"check-circle-fill",inline:!0,size:u[p]})}),o&&(0,s.jsx)(i.xu,{marginStart:2,children:(0,s.jsx)(i.xe,{color:"default",inline:!0,weight:"bold",children:_.bt("Подтвержденный продавец", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,s.jsxs)(a.Fragment,{children:[e?l:(0,s.jsx)(c,{children:l}),!t&&!e&&m&&(0,s.jsx)(a.Suspense,{children:(0,s.jsx)(d,{inspirationalBadges:g,inspirationalBadgesColor:f,setShowModal:h,showModal:m})})]})}return t&&!l?(0,s.jsx)(i.JO,{accessibilityLabel:_.bt("Подтверждение домена", "Domain verification", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle-fill",size:u[p]}):null}},137679:function(e,t,l){l.d(t,{w:()=>j,$:()=>Z});var n=l(213491),a=l(667294),i=l(312048),r=l(860536),o=l(99643),s=l(230201),d=l(935059),u=l(609252),c=l(514223),p=l(173874),g=l(501010),f=l(774838),_=l(735403),m=l(197601),h=l(336024),y=l(405897),v=l(477738),x=l(575820),b=l(74972),w=l(818282),S=l(372164),I=l(720517),k=l(622900),P=l(275894),T=l(576105),F=l(657476),C=l(520803),E=l(785893);let{Provider:A,get:Z}=(0,n.Z)("SearchBoxHandlers");function j({children:e,handleIconOnlyChange:t,iconOnly:l,widthType:n,isPartner:Z}){let j=function({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:l=!1,widthType:n="md"}){let{logContextEvent:E}=(0,s.u)(),{country:A,language:Z,isRTL:j}=(0,f.B)(),B=(0,d.Z)(),D=(0,i.s0)(),L=(0,i.TH)(),{path:K}=(0,C.Z)(),{checkExperiment:O}=(0,g.Z)(),[,R]=(0,a.useTransition)(),{isLensModalOpen:z}=(0,o.m)(),M=B.isAuth&&O("web_lens").anyEnabled,{auxData:U}=(0,F.Z)({skipResourceCall:!(0,p.En)(L)}),N=U?.metadata?.unity_search_query,{query:H,scope:$,rs:q}=(0,m.Z)(L),V=O("web_search_sticky_guides_iterated_entered_query",{dangerouslySkipActivation:!0}).anyEnabled&&N||(0,x.mB)(L.search).entered_query,G=(r.t.includes(q)?"":V||H)??"",[W,Q]=(0,a.useState)(G),[Y,X]=(0,a.useState)(),J=Y?(0,S.Lq)(Y):W,ee=(0,S.WY)(),et=$??v.lw.PINS;ee&&(et=v.lw.PINS_MINE),et===v.lw.PINS_BUYABLE&&(et=v.lw.PINS);let[el,en]=(0,a.useState)(et),ea=B.isAuth&&el===v.lw.PINS_MINE,ei=+!!ea;(0,S.hb)(ei);let[er,eo]=(0,a.useState)([]),[es,ed]=(0,a.useState)(),[eu,ec]=(0,a.useState)(!1),[ep,eg]=(0,a.useState)(!1),[ef,e_]=(0,a.useState)(!1),[em,eh]=(0,a.useState)(!1),ey=ep||em,[ev,ex]=(0,a.useState)(!1),[eb,ew]=(0,a.useState)(0),[eS,eI]=(0,a.useState)(""),[ek,eP]=(0,a.useState)(0),[eT,eF]=(0,a.useState)(""),[eC,eE]=(0,a.useState)("");(0,a.useEffect)(()=>{eE("")},[ey]),(0,a.useEffect)(()=>{if(ey&&W.trim().length>0&&ek===W.length){if(eS&&eS.startsWith(W)){let e=(0,S.Cx)(er,es),t=e&&["recent_pin_searches","query"].includes(e.type)&&e.query;if(!em||!e||t===eS)return}else if(er&&er.length>0){let e=er[0]?.items.find(e=>["recent_pin_searches","query"].includes(e.type));if(e&&e.query.startsWith(W)){let{anyEnabled:t,group:l}=O("dweb_search_autocomplete_inline_suggestions");if(t&&e.show_inline_query&&function({enteredQuery:e,group:t,viewedInlineSuggestion:l}){if(!t.includes("continuous")&&l)return!1;let n=t.includes("2word")&&2||t.includes("3word")&&3||1;return!!e.endsWith(" ")&&e.split(" ").filter(e=>!!e).length>=n}({enteredQuery:W,group:l,viewedInlineSuggestion:eT})){eI(e.query),eF(e.query);return}}}}eI("")},[W,er,O,ey,ek,eS,em,eT,es]);let eA=(0,k.Z)()&&"US"===A&&Z.startsWith("en")&&B.isAuth&&O("web_voice_search").anyEnabled,[eZ,ej]=(0,a.useState)(P.K.NULL);function eB(){ed(void 0),X(void 0)}let{setAppFocusState:eD,toggleTypeaheadOverlay:eL}=(0,b.G)(),eK=(0,I.Z)(ei),eO=(0,T.Z)(),[eR,ez]=(0,a.useState)(t);(0,a.useEffect)(()=>{ez(t)},[t]);let[eM,eU]=(0,a.useState)(!1),[eN,eH]=(0,a.useState)();(0,S.sy)({setShouldHideGhostText:eU,setSuggestionsMaxHeight:eH,isSyop:ea});let e$=B.isAuth&&"shrink"!==n&&(G||ee),eq=["shrink","auto"].includes(n)?"8px":0;e$&&(eq="4px");let[eV,eG,eW]=(0,S.PN)({shouldHideGhostText:eM,isSyop:ea,inputFocused:ep,voiceSearchPlaceholder:eZ}),eQ=(0,a.useRef)(void 0);function eY(){ew(Date.now()),eg(!0)}function eX(e){Q(e),eB()}function eJ(){E({event_type:8721,view_type:w.Ie,view_parameter:103,component:15487,aux_data:{entered_query:W,inline_suggestion:eS}}),Q(eS),eE(eS),eI("")}function e0({index:e,isKeyDown:t,suggestion:l,suggestionStoryId:n}){let a=t?97:101,i=(0,S.yQ)({index:e,suggestion:l,enteredQuery:W,additionalAuxData:{user_id:"user"===l.type?l.id:void 0}});switch(l.type){case"recent_pin_searches":case"recent_query":case"query":if(l.query===G)break;E({event_type:a,view_type:w.Ie,view_parameter:"recent_query"===l.type?3467:103,component:35,element:["recent_query","recent_pin_searches"].includes(l.type)?253:104,aux_data:i,object_id_str:l.id});let r=(0,S.Ek)({suggestion:l,query:W,lastFocusTime:eb,inlineSuggestion:eC});ea&&"recent_query"===l.type&&(r=r.replace("pins","my_pins")),eO(r),D(r);break;case"recent_save":D(l.url);break;case"explorearticle":let o=26===l.story_category?13865:200;E({event_type:101,view_type:w.Ie,view_parameter:3467,component:o,aux_data:i});let s=(0,S.Ek)({suggestion:l,query:"",suggestionStoryId:n});eO(s),D(s);break;case"todayarticle":E({event_type:101,view_type:w.Ie,view_parameter:3467,component:200,aux_data:i}),D((0,S.Ek)({suggestion:l,query:""}));break;case"board":case"user":E({event_type:a,view_type:w.Ie,view_parameter:103,component:35,element:104,aux_data:i,object_id_str:l.id}),eO(l.url),D(l.url)}eB(),eg(!1),eh(!1)}(0,a.useEffect)(()=>{eQ.current!==ey&&R(()=>{ey?u.Z.pause():u.Z.resume(),eD(!ey),ey||(eB(),Q(G)),eL(ey),eQ.current=ey})},[G,ey,eD,eL]),(0,a.useEffect)(()=>{Q(G),en(et),G||eK(),eg(!1),eh(!1)},[G,et,eK]),(0,a.useEffect)(()=>{W||eK()},[W,eK]);let e1=()=>{if(J===G&&el===et)return;let e=(0,h.Z)(J);if(!e.length)return;let t=(0,_.Z)({query:e,rs:y.i.TYPED??"",scope:el,inlineSuggestion:eC});eO(t),eg(!1),eh(!1),D(t)};return{allowLens:M,allowVoiceSearch:eA,appliedQuery:G,autocompleteRequestSurface:ei,delayedSearchBoxOpen:function(){setTimeout(eY,500)},displayedQuery:J,endPadding:eq,enteredQuery:W,enteredScope:el,getSuggestionImpressionOptions:function({additionalAuxData:e,index:t,groupIndex:l,suggestion:n,loggingId:a}){let i=w.Ie,r=(0,S.yQ)({index:t,suggestion:n,enteredQuery:W,additionalAuxData:e});switch(n.type){case"query":case"user":return{viewType:i,componentType:35,elementType:104,viewParameter:103,loggingId:a,objectIdStr:a,contextLogData:r,impressionType:"Search",slotIndex:l};case"recent_pin_searches":return{viewType:i,componentType:35,elementType:253,viewParameter:103,loggingId:a,objectIdStr:a,contextLogData:r,impressionType:"Search",slotIndex:l};case"recent_query":return{viewType:i,componentType:35,elementType:253,viewParameter:3467,loggingId:a,objectIdStr:a,contextLogData:r,impressionType:"Search",slotIndex:l};case"explorearticle":case"todayarticle":return{contextLogData:r,impressionType:"Article",loggingId:a,objectIdStr:a,slotIndex:t,viewParameter:3467,viewType:i};case"story":return{componentType:200,contextLogData:r,impressionType:"Story",loggingId:a,objectIdStr:a,slotIndex:l,viewParameter:3467,viewType:i};default:return null}},handleClearSearch:function(){if(O("dweb_search_clear_search").anyEnabled){Q(""),eB(),eY(),eZ===P.K.LISTENING&&ej(P.K.CANCEL);return}Q(""),en(v.lw.PINS),eB(),ej(P.K.CANCEL),B.isAuth&&G?D("/"):l&&e&&e(!0)},handleInclusiveProductFilterClick:function(e,t,l){let n={};W&&(n.entered_query=W),E({event_type:101,view_type:w.Ie,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...n}});let a=(0,S.Ek)({suggestion:e,query:W,lastFocusTime:eb,filterSelectedTerm:l});eO(a),eh(!1),D(a)},handleInputBlur:e=>{let{currentTarget:t}=e;setTimeout(()=>{t.contains(document.activeElement)||(eg(!1),eF(""))},0)},handleInputChange:e=>{eP(e.currentTarget?.selectionStart||0),eX(e.target.value)},handleInputClick:e=>{E({event_type:101,component:43,element:227}),eP(e.currentTarget?.selectionStart||0)},handleInputFocus:e=>{eP(e.currentTarget?.selectionStart||0),eY()},handleKeyDown:e=>{switch(e.keyCode){case c.Z.ENTER:{let t=(0,S.Cx)(er,es);ey&&t&&e.preventDefault(),t&&eu?(e0({index:t.resultIndex||0,isKeyDown:!0,suggestion:t}),ec(!1)):e1();break}case c.Z.ESCAPE:ey&&e.preventDefault(),e.stopPropagation(),eg(!1),eh(!1);break;case c.Z.UP:ey&&e.preventDefault();let[t,l]=(0,S.VE)(er,es);ed(t),ec(!0),X(l);break;case c.Z.DOWN:{ey&&e.preventDefault();let[t,l]=(0,S.VE)(er,es,!0);ed(t),ec(!0),X(l);break}case c.Z.RIGHT:!j&&eS&&(e.preventDefault(),e.stopPropagation(),eJ());break;case c.Z.LEFT:j&&eS&&(e.preventDefault(),e.stopPropagation(),eJ());break;case c.Z.TAB:eG&&!W&&ey?(e.preventDefault(),e.stopPropagation(),Q(eG)):eS&&(e.preventDefault(),e.stopPropagation(),eJ());break;case c.Z.BACKSPACE:eS&&eI("")}},handleKeyUp:e=>{eP(e.currentTarget?.selectionStart||0)},handleScopeChange:function(e){en(e),eg(l&&!W),eB()},handleSearchIconButtonClick:()=>{eg(!0),l&&E({event_type:101,element:11809})},handleSuggestionSelect:e0,handleSyopCtaClick:function(){let e=(0,h.Z)(W);if(!e.length)return;let t=(0,_.Z)({query:e,rs:y.i.AC,scope:v.lw.PINS_MINE});eO(t),D(t)},handleTextChange:eX,handleTypedSearchSubmit:e1,handleVoiceSearchSubmit:e=>((e,t)=>{let l=(0,_.Z)({query:e,rs:t,scope:el});eO(l),eg(!1),eh(!1),D(l)})(e,y.i.VOICE_SEARCH),handleFeaturedBoardSubmit:()=>{eB(),eg(!1),eh(!1)},inlineACSuggestion:eS,inputFocused:ep,isContentTypeFilterHovered:ev,isCurrentlyOnLensPage:"/lens-search"===K,isInTypeaheadSession:ey,isLensModalOpen:z,isSyop:ea,logInlineSuggestionView:function(){E({event_type:13,view_type:w.Ie,view_parameter:103,component:15487,aux_data:{entered_query:W,inline_suggestion:eS}})},searchBoxHovered:ef,searchBoxPlaceholder:eV,setContentTypeFilterHovered:ex,setSearchBoxHovered:e_,setVoiceSearchPlaceholder:ej,setSuggestionsFocusIndex:ed,setSuggestionsHovered:eh,showContentTypeFilter:e$,showIconOnly:eR,voiceSearchPlaceholder:eZ,suggestedSearchTerms:eW,suggestionGroups:er,suggestionsFocusIndex:es,suggestionsMaxHeight:eN,updateSuggestionGroups:eo}}({handleIconOnlyChange:t,iconOnly:l,widthType:n,isPartner:Z});return(0,E.jsx)(A,{value:j,children:e})}},535486:function(e,t,l){l.d(t,{Z:()=>I});var n,a=l(686659),i=l(667294),r=l(167912),o=l(20256),s=l(24246),d=l(774838),u=l(739405),c=l(662911),p=l(501755),g=l(620766),f=l(206928),_=l(834182),m=l(773919),h=l(765381),y=l(785893);let v=(void 0!==n||(n=l(335193)).hash&&"3ca45565a804bd5428a8509aa83434c3"!==n.hash&&console.error("The definition of 'SearchLandingPageFeaturedBoardsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),x=({board:e,isLastBoard:t,handleFeaturedBoardSubmit:l})=>{let n=(0,u.HG)();return e?(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{flex:"none",paddingRight:t?n?"36px":"16px":void 0}},marginBottom:2,paddingX:+!n,role:"option",width:t?n?268:216:n?236:200,children:(0,y.jsx)(o.iP,{onTap:()=>l?l():void 0,children:(0,y.jsx)(c.default,{boardKey:"__fragments"in e?e:{type:"Legacy",data:e},display:"responsive",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,isUsingMask:!0,noPaddings:!0,showFollowButton:!1,trackInteractionObjectProp:{action:"click",item:"slp-featuredboards-board",within:"slp-featuredboards-section"},type:"grid",viewParameter:3070,viewType:2})})}):null},b={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",showFab:!0,size:"sm",opacity:1},w=({handleFeaturedBoardSubmit:e})=>{let t=(0,s.Z)(),l=(0,u.HG)(),n=(0,u.ml)(),a=(0,m.Sm)(),r=(0,i.useRef)(null),d=(0,i.useRef)(null),[c,v]=(0,i.useState)(0),[w,S]=(0,i.useState)("0px"),[I,k]=(0,i.useState)([]),P=r?.current?.clientWidth??0;(0,i.useEffect)(()=>{a.data&&a.data.filter(e=>"board"===e.type).length<m.yN&&a.fetchMore()},[a]),(0,i.useEffect)(()=>{a.data&&k(a.data.filter(e=>"board"===e.type).slice(0,m.yN))},[a]);let T=(0,m.eK)(t);if((0,i.useEffect)(()=>{I&&c===I.length-1?S("-80px"):S("0px")},[c,I]),!a.data||a.error)return null;let F=(0,_.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:P,gap:16,numberOfSlides:I.length,index:c});return(0,y.jsxs)(o.kC,{direction:"column",children:[(0,y.jsx)(o.xu,{alignItems:"center",display:"flex",marginStart:4*!l,children:(0,y.jsx)(h.Z,{headerMarginTopOverride:n?6:3,sectionHeader:T,smallHeader:!0})}),(0,y.jsx)(o.xu,{children:l?(0,y.jsxs)(o.xu,{ref:r,display:"flex",marginBottom:l?4:6,paddingX:3*!!n,position:"relative",children:[(0,y.jsx)(g.Z,{backNode:(0,y.jsx)(f.Z,{...b,iconType:"back"}),carouselData:{index:c,entityId:"",carouselSlots:I.map(e=>({id:e.entityId,title:null}))},carouselIndex:c,forwardNode:(0,y.jsx)(f.Z,{...b,iconType:"forward"}),handleCarouselSwipe:e=>{v(e),d.current&&(0,_.c3)(d,!0,e,c,236,16)},isShowingLastSlide:F,itemsPerPage:l?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:w,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,y.jsx)(p.Z,{containerRef:r.current,gap:6,id:"featured-boards",index:c,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:v,showCarouselOverflow:!0,sliderRef:d,slideWidth:236,children:I.map((t,l)=>(0,y.jsx)(x,{board:t,handleFeaturedBoardSubmit:e},`board--${l}`))})})]}):(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:l?3:6,paddingX:3*!l,children:a.data.filter(e=>"board"===e.type).slice(0,m.yN).map((e,t)=>e&&(0,y.jsx)(x,{board:e,isLastBoard:t===m.yN-1},`board--${t}`))})})]})},S=({handleFeaturedBoardSubmit:e})=>{let t=(0,s.Z)(),l=(0,u.HG)(),n=(0,u.ml)(),a=(0,i.useRef)(null),d=(0,i.useRef)(null),[c,w]=(0,i.useState)(0),[S,I]=(0,i.useState)("0px"),k=a?.current?.clientWidth??0,P=(0,r.useLazyLoadQuery)(v,{}),T=P.v3RootPageFeaturedBoardsQuery?.__typename==="V3RootPageFeaturedBoards"?P.v3RootPageFeaturedBoardsQuery.data:void 0;if((0,i.useEffect)(()=>{T&&c===T.length-1?I("-80px"):I("0px")},[c,T]),P.v3RootPageFeaturedBoardsQuery?.error?.message||!T)return null;let F=(0,m.eK)(t),C=(0,_.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:k,gap:16,numberOfSlides:T.length,index:c});return(0,y.jsxs)(o.kC,{direction:"column",children:[(0,y.jsx)(o.xu,{alignItems:"center",display:"flex",marginStart:4*!l,children:(0,y.jsx)(h.Z,{headerMarginTopOverride:n?6:3,sectionHeader:F,smallHeader:!0})}),(0,y.jsx)(o.xu,{children:l?(0,y.jsxs)(o.xu,{ref:a,display:"flex",marginBottom:l?4:6,paddingX:3*!!n,position:"relative",children:[(0,y.jsx)(g.Z,{backNode:(0,y.jsx)(f.Z,{...b,iconType:"back"}),carouselData:{index:c,entityId:"",carouselSlots:T.map(e=>({id:e.entityId,title:null}))},carouselIndex:c,forwardNode:(0,y.jsx)(f.Z,{...b,iconType:"forward"}),handleCarouselSwipe:e=>{w(e),d.current&&(0,_.c3)(d,!0,e,c,236,16)},isShowingLastSlide:C,itemsPerPage:l?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:S,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,y.jsx)(p.Z,{containerRef:a.current,gap:6,id:"featured-boards",index:c,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:w,showCarouselOverflow:!0,sliderRef:d,slideWidth:236,children:T.map((t,l)=>(0,y.jsx)(x,{board:t,handleFeaturedBoardSubmit:e},`board--${l}`))})})]}):(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:l?3:6,paddingX:3*!l,children:T.slice(0,m.yN).map((e,t)=>e&&(0,y.jsx)(x,{board:e,isLastBoard:t===m.yN-1},`board--${t}`))})})]})};function I({handleFeaturedBoardSubmit:e}){(0,i.useEffect)(()=>{(0,a.Z)("SearchLandingPageFeaturedBoards","/app/www/discover/SearchBox/SearchLandingPageFeaturedBoards.tsx")},[]);let{country:t}=(0,d.B)();return(0,m.CE)(t)?(0,y.jsx)(S,{handleFeaturedBoardSubmit:e}):(0,y.jsx)(w,{handleFeaturedBoardSubmit:e})}},818282:function(e,t,l){l.d(t,{Ag:()=>_,Fj:()=>c,Gh:()=>b,H2:()=>x,Ie:()=>w,Lo:()=>i,Ny:()=>h,P$:()=>p,TD:()=>y,UE:()=>g,Ub:()=>m,XI:()=>n,YO:()=>v,a3:()=>d,ht:()=>o,le:()=>u,r5:()=>a,sA:()=>s,v6:()=>r,yY:()=>f});let n=48,a=8,i=4,r="searchBoxContainer",o={md:407,sm:332,auto:"auto"},s=7,d=["pin.description","pin.id","pin.images[236x]"],u=360,c=76,p=5,g=10,f=7.5,_=40,m=24,h=192,y=7,v=116,x={__style:{backgroundColor:"rgba(0,0,0, .4)"}},b=90,w=2},372164:function(e,t,l){l.d(t,{Cx:()=>P,Ek:()=>x,Gp:()=>I,Lq:()=>S,PN:()=>E,VE:()=>T,WY:()=>F,YO:()=>j,cW:()=>k,hb:()=>Z,kj:()=>b,sy:()=>C,yQ:()=>w,zj:()=>A});var n=l(312048),a=l(568736),i=l(935059),r=l(24246),o=l(774838),s=l(917569),d=l(661376),u=l(722157),c=l(764210),p=l(336024),g=l(477738),f=l(925201),_=l(629724),m=l(893957),h=l(818282),y=l(609370),v=l(275894);function x({suggestion:e,query:t,lastFocusTime:l=0,filterSelectedTerm:n,suggestionStoryId:i,inlineSuggestion:r}){if("explorearticle"===e.type){let{aux_fields:t,id:l,query:n,story_category:a}=e;return e.action?.url??(0,c.Z)({bubbleId:l,pinId:t?.image_pin_id,query:n,referringSource:2===a?"trending":"autocomplete_bubble",storyCategory:a,storyId:i})}if("todayarticle"===e.type){let{id:t,title:l}=e;return(0,a.x)({title:l,id:t,articleType:"today"})}let o={eq:(0,p.Z)(t)};return l&&(o.etslf=String(Date.now()-l)),n&&(o.filters=n),r&&(o.inline_suggestion=r),(0,f.Z)("url"in e&&e.url?e.url:"",o)}function b(e){switch(e){case"app_upsell_autocomplete":case"autocompleteupsell":case"unauth_search_header":case"news_hub_search":case"recent_save":case"recent_view":return;case"generic_query":case"personal_query":return"query";case"recent_personal_searches":case"recent_pin_searches":return"recent_query";case"recommended_query":return"recommended";case"explorearticle":case"todayarticle":case"story":return"recommended_article";default:return e}}function w({enteredQuery:e,suggestion:t,index:l,additionalAuxData:n={}}){let a={...n,entered_query:e||void 0,selected_query:t.query||t.label||void 0,autocomplete_type:b(t.type)};switch(t.type){case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return{...a,result_index:l,user_id:"user"===t.type?t.id:void 0,ac_suggestion_id:t.id};case"explorearticle":return 26===t.story_category?{...a,article_id:t.id,story_id:t.storyId,story_type:"shopping_spotlight"}:{...a,autocomplete_type:2===t.story_category?"trending":"recommended",result_index:l};case"todayarticle":return{...a,article_id:t.id,story_type:"shopping_spotlight"};default:return{}}}function S(e){switch(e.type){case"explorearticle":case"news_hub_search":return e.title.format;case"todayarticle":return e.title;case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return e.label;default:return""}}function I(e,t){return`SuggestionGroup-Option-${e}-${t}`}let k=e=>{let t=0;return e.map(e=>{let l=t;return t+=(e.items??[]).length??0,l})},P=(e,t)=>{if(null==t)return;let l=k(e);for(let n=0;n<l.length;n+=1)if(e[n].items.length&&t-l[n]<e[n].items.length)return e[n].items[t-l[n]];return null};function T(e,t,l){let n=e.map(e=>e.items.length??0).reduce((e,t)=>e+t,0),a=l?null==t?0:t===n-1?void 0:t+1:null==t?n-1:0===t?void 0:t-1,i=P(e,a);return[a,i]}function F(){let e=(0,n.TH)(),t=(0,i.Z)(),{ideas_referrer:l,view_parameter_type:a}=(0,_.Z)(e.search);l=parseInt(l,10),a=parseInt(a,10);let r=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),o=t.isAuth&&e.pathname.startsWith("/recently-viewed"),s=3173===a&&(1===l||25===l);return(r||o)&&!s}function C({setShouldHideGhostText:e,setSuggestionsMaxHeight:t,isSyop:l}){let n=(0,y.Z)({isSyop:l}).anyEnabled;function a(){let l=document.getElementById(h.v6)?.offsetWidth||0,a=n?window.innerHeight/4:0;e(l<=h.le),t(window.innerHeight-14-h.Fj-a)}(0,m.Z)(()=>(window.addEventListener("resize",a),a(),()=>{window.removeEventListener("resize",a)}))}function E({shouldHideGhostText:e,isSyop:t,inputFocused:l,voiceSearchPlaceholder:n}){let a=(0,r.Z)(),{isAuth:o}=(0,i.Z)(),s=(0,d.Z)(o?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),c=o?a.bt("Поиск", "Search", "searchBox.placeholder.defaultText", undefined, true):a.bt("Идеи простых блюд на ужин, модных образов и многое другое", "Search for easy dinners, fashion, etc.", " - ", undefined, true),p="";if(n)c=n===v.K.LISTENING?a.bt("Прослушивание…", "Listening...", "searchBox.placeholder.search", undefined, true):a.bt("Запрос не распознан! Повторите попытку", "Didn't get that! Try again", "searchBox.placeholder.search", undefined, true);else if(!e&&s.isLoaded&&s.data&&s.data.length>0){let e=s.data[0].text;p=s.data[0].query,c=e}return t&&(c=l?a.bt("Введите название или описание", "Try a title or description", "searchBox.placeholder.searchYourOwnPinsFocusedText", undefined, true):a.bt("Поиск ваших пинов", "Search your Pins", "searchBox.placeholder.searchYourOwnPinsText", undefined, true)),[c,p,(0,u.Z)()]}function A({suggestionsFocusIndex:e,suggestionGroups:t}){let l,n,a=k(t);if("number"==typeof e){for(let t=a.length-1;t>=0;t-=1)if(e>=a[t]){l=t,n=e-a[t];break}}return"number"==typeof l&&"number"==typeof n?I(l,n):""}function Z(e){let t=(0,i.Z)(),{isBot:l}=(0,o.B)(),{isAuth:n,isLimitedLogin:a}=t,r=(0,s.Z)()();(0,d.Z)(!r&&n?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:g.lw.PINS,autocomplete_request_surface:e},noCache:!0}:null),(0,d.Z)(r||l?null:{name:"SearchTabResource"}),(0,d.Z)(n&&!a?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:h.a3.join(","),pin_preview_count:h.sA}}}:null)}function j({pillLabels:e,maxWidth:t}){let l=e.length;if(!t)return l;let n=0;for(let a=0;a<e.length;a+=1){let i=e[a];if(!i)continue;let r=i.length*h.yY+h.Ag+h.Ub;if(r+n<t)n+=r;else{l=a;break}}return l}},609370:function(e,t,l){l.d(t,{Z:()=>a});var n=l(501010);function a({isSyop:e}){let{checkExperiment:t}=(0,n.Z)();return e?{anyEnabled:!1,group:""}:t("web_search_autocomplete_empty_state")}},720517:function(e,t,l){l.d(t,{Z:()=>r});var n=l(667294),a=l(581722),i=l(233597);function r(e){let t=(0,a.I0)();return(0,n.useMemo)(()=>()=>{t((0,i.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins",autocomplete_request_surface:e}}))},[t,e])}},148:function(e,t,l){l.d(t,{n:()=>p,v:()=>g});var n=l(667294),a=l(312048),i=l(213491),r=l(477738),o=l(739405),s=l(582610),d=l(305375),u=l(785893);let{Provider:c,get:p}=(0,i.Z)("SearchParams"),g=({children:e,value:t})=>{let l=function(){let e=(0,o.HG)(),{search:t,pathname:l}=(0,a.TH)(),{scope:n}=(0,d.Z)(),i=!n&&l.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:i?r.lw.SHOP_TOOL:n,search:t})}(),i=(0,n.useMemo)(()=>({...l,...t}),[l,t]);return(0,u.jsx)(c,{value:i,children:e})}},55424:function(e,t,l){l.d(t,{Z:()=>a});var n=l(261926);function a(e){let t=e?.modified_filter_eligibility;return t?"hair_pattern"in t?n.ti.HAIR:"skin_tone"in t?n.ti.SKIN:null:null}},622900:function(e,t,l){l.d(t,{Z:()=>n});function n(){return"undefined"!=typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}},275894:function(e,t,l){l.d(t,{K:()=>n});let n={LISTENING:"listening",DEFAULT:"default",CANCEL:"cancel",NULL:null}},261926:function(e,t,l){l.d(t,{CT:()=>n,HE:()=>a,Mq:()=>i,ti:()=>r});let n={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},a={CLOSEUP:"closeup"},i={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},r={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},120100:function(e,t,l){l.d(t,{Z:()=>o});var n=l(24246),a=l(739405),i=l(36776),r=l(229127);let o=()=>{let e=(0,n.Z)(),t=(0,a.HG)(),{viewer:l,loginForMore:o,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,i.m)();return"LIMITED_LOGIN"===l.type?({modalHeader:l,nextLocation:n})=>a=>{let i=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?i=a:a.event&&(i=a.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),o?.setVisible(!0),s?.setText(l||(t?(0,r.hr)(e):(0,r.Wh)(e))),n&&d?.setRoute(n)}:({fn:e})=>e}},582610:function(e,t,l){l.d(t,{Z:()=>i});var n=l(477738),a=l(575820);function i({isDesktop:e,scope:t,search:l}){let{auto_correction_disabled:i="",b_id:r,brands:o,category:s,colors:d,commerce_only:u="",cover_pin_sig:c,deb_d:p,domains:g,filters:f,guided_search_query:_,inline_suggestion:m,interest_id:h,journey_depth:y,on_sale:v,price_max:x,price_min:b,q:w,query_pin_sigs:S,request_params:I,rs:k,selected_one_bar_modules:P,source_id:T,source_module_id:F,tab:C,top_pin_ids:E,user:A}=(0,a.mB)(l),Z="true"===u.toLowerCase()&&"shop_tool"!==t?n.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===i.toLowerCase(),brands:o,bubbleId:r,category:s,colors:d,commerceOnly:"true"===u.toLowerCase(),coverPinSig:c,currentlyAppliedFiltersParamTerm:f,debD:p,domains:g,guidedSearchQuery:_,inlineSuggestion:m,interestId:h,journeyDepth:y?parseInt(y,10):void 0,onSale:v,personalizationPinSig:S,placementId:(0,n.Hd)(Z,e),priceMax:x,priceMin:b,query:w,requestParams:I,rs:k,scope:Z,selectedOneBarModules:P,sourceId:T,sourceModuleId:F,tab:C||"",topPinIds:E,user:A,viewParameter:(0,n._R)(Z),viewType:Z===n.lw.SHOP_TOOL?1:2}}},576105:function(e,t,l){l.d(t,{Z:()=>d});var n=l(667294),a=l(581722),i=l(647908),r=l(233597),o=l(42676),s=l(582610);function d(){let e=(0,a.I0)(),t=(0,n.useRef)(void 0);return l=>{l&&function({appliedUnifiedFilters:e,dispatch:t,optionsKeyRef:l,isAuthenticated:n=!0,isDesktop:a=!0,url:d}){let u=new URL(d.startsWith("http")?d:`${window.location.origin}${d}`),c=u.pathname.split("/");if(4!==c.length||"search"!==c[1])return;let{search:p}=u,g=c[2],f=(0,s.Z)({isDesktop:a,scope:g,search:p}),_=(0,o.vW)({searchParams:f,appliedUnifiedFilters:e,isAuthenticated:n,isDesktop:a,sourceUrl:d}),m=(0,i.Z)(_);l.current!==m&&(l.current=m,t((0,r.U)(_.name,{options:_.options},null)))}({dispatch:e,optionsKeyRef:t,url:l})}}},657476:function(e,t,l){l.d(t,{X:()=>g,Z:()=>p});var n=l(312048),a=l(190665),i=l(501010),r=l(774838),o=l(661376),s=l(42676),d=l(477738),u=l(739405),c=l(148);function p(e){let{resource:t}=g(e);return t}function g(e){let{skipResourceCall:t}=e||{},{checkExperiment:l}=(0,i.Z)(),{isAuthenticated:p}=(0,r.B)(),{pathname:g,search:f}=(0,n.TH)(),_=(0,u.HG)(),m=!p||!_,h=(0,c.n)(),y=(0,a.Z)(),v=(0,s.vW)({searchParams:h,sourceUrl:g+f,isDesktop:_,isAuthenticated:p,appliedUnifiedFilters:y}),x=m;m&&(x=!!p&&!l("unify_search_resource_auth_mweb").anyEnabled);let b=t||h.scope===d.lw.USERS&&!m||x;return{resource:(0,o.Z)(b?null:v),options:v.options}}},44849:function(e,t,l){l.d(t,{Z:()=>n});function n(e,t,l,a=!1,i){return{privacy_filter:t?"secret":"public",sort:l||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:a,filter_types:i}}},158502:function(e,t,l){l.d(t,{O:()=>o,Q:()=>s});var n=l(660322),a=l(830949),i=l(779686);let r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],o={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:l,username:n,privacyFilter:a="all",filterAllPins:i=!1,includeArchived:r=!0},o)=>({privacy_filter:a,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:n,page_size:25,group_by:l?"mix_public_private":"visibility",include_archived:r,redux_normalize_feed:!0,filter_all_pins:i,...o?{orbac_subject_id:o}:Object.freeze({})})},s=e=>r.reduce((t,l)=>{let r=[(0,i.N8)("profileBoards",(0,a.Z)(e,l))];return[!0,!1].forEach(t=>{[!0,!1].forEach(a=>{r.push((0,n.jB)(o.name,o.options({username:e,boardOrder:l,mixPublicSecret:t,filterStories:a})))})}),t.concat(r)},[])},160587:function(e,t,l){l.d(t,{Br:()=>p,Cr:()=>v,K8:()=>m,L1:()=>k,YQ:()=>I,ZP:()=>x,aX:()=>b,eo:()=>f,md:()=>g,oG:()=>_,oL:()=>w,of:()=>h,xQ:()=>y,xR:()=>S,yT:()=>c});var n=l(27399),a=l(249459),i=l(681698),r=l(233597),o=l(660322),s=l(836447),d=l(44849),u=l(158502);function c(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function p(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function g(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function f({viewingUserId:e,viewingUsername:t,boardId:l,boardPinCount:n}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:l,boardPinCount:n}}}let _=(e,t)=>l=>l((0,r.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function m(e){return t=>{e&&(0,u.Q)(e).forEach(e=>{t(e)})}}let h=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),y=e=>_(e,"pin_count"),v=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),x=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function b(e,t,l){let i={name:e,privacy:a.ZP.BoardPrivacy.PUBLIC,username:t,...l?{orbac_subject_id:l}:Object.freeze({})};return e=>n.Z.create("BoardResource",i).callCreate().then(l=>{let n=l.resource_response.data;return e(t&&(0,o.jB)("BoardsResource",(0,d.Z)(t,!1))),n})}function w(e={},t,l){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:l}}let S=(e,t,l)=>async a=>{a({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}});let i=await n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return i.resource_response.error||l({event_type:29,object_id_str:e}),i},I=(e,t,l,a,r,o)=>async d=>{d({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:a?.id??"",viewingUser:l}});try{let l=a?.id??"";("accepted"===t?await (0,i.Z)({url:(0,s.Z)({boardId:e})?.concat(`collaborators/${l}/`)??"",method:"DELETE",data:{...o?{orbac_subject_id:o}:{}}}):await n.Z.create("BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:l,...o?{orbac_subject_id:o}:{}}).callDelete()).resource_response.error||r({event_type:"accepted"===t?25:29,object_id_str:e})}catch(n){d({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:l,status:t,collaboratingUsers:[a]}})}},k=(e,t,l,a)=>i=>{let r=n.Z.create("BoardResource",{board_id:l}).callDelete();return i(f({viewingUserId:e,viewingUsername:t,boardId:l,boardPinCount:a})),r}},701572:function(e,t,l){l.d(t,{Z:()=>i,f:()=>r});var n=l(681698),a=l(160587);function i(e,t){return async l=>{l((0,a.md)(e,!0));try{await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){l((0,a.md)(e,!1))}}}function r(e,t){return async l=>{l((0,a.md)(e,!1));try{await (0,n.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){l((0,a.md)(e,!0))}}}},779686:function(e,t,l){function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}l.d(t,{EX:()=>r,N8:()=>a,Qv:()=>i,_f:()=>n,vX:()=>o});let i=(e,t,l=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:l,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function o(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},956226:function(e,t,l){l.d(t,{Z:()=>n});let n=(0,l(442279).createSelector)(e=>e.boards,e=>Object.keys(e).reduce((t,l)=>{let n=e[l];t[n.url??""]=n;let a=n.url?.toLocaleLowerCase();a&&n.url!==a&&(t[a]=n);let i="oldSlugUrl"in n?n.oldSlugUrl:null;return i&&(t[i]=n),t},{}))},512324:function(e,t,l){l.d(t,{Z:()=>p});var n=l(686659),a=l(667294),i=l(20256),r=l(924591),o=l(24246),s=l(661376),d=l(739405),u=l(785893);function c({ideaPinImages:e}){(0,a.useEffect)(()=>{(0,n.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let t=e.map((e,t)=>(0,u.jsx)(i.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,u.jsx)(i.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,u.jsx)(i.kC,{justifyContent:"center",children:(0,u.jsx)(i.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function p({handleHide:e,text:t,userId:l,href:p,imageUrl:g}){(0,a.useEffect)(()=>{(0,n.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let f=(0,o.Z)(),_=(0,d.HG)(),m=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:l}}),h=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length)return(0,u.jsx)(r.Z,{duration:5e3,href:p,onHide:e,text:h,thumbnail:g?{image:(0,u.jsx)(i.Ee,{alt:f.bt("Изображение пользователя, на которого вы были подписаны", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:g})}:void 0});let y=(m.data||[]).slice(0,3).map(e=>e.images?.[_?"236x":"170x"]),v=(0,u.jsx)(c,{ideaPinImages:y});return(0,u.jsx)(r.Z,{_dangerouslySetThumbnail:v,duration:5e3,href:p,onHide:e,text:h})}},773919:function(e,t,l){l.d(t,{CE:()=>p,Cm:()=>g,Sm:()=>_,eK:()=>f,fA:()=>u,yN:()=>o});var n=l(667294),a=l(173874),i=l(774838),r=l(661376);let o=10,s=window.location.host.startsWith("testing"),d=e=>{let t=new Date(e.getFullYear(),9,3),l=new Date(e.getFullYear(),9,31);return e>=t&&e<=l},u=["US","CA","GB","AU","DE","FR"],c=["US","CA"],p=e=>{if(s)return!1;let t=new Date;return!!d(t)&&!!d(t)&&c.includes(e)},g=(e,t,l)=>(!e||l&&(0,a.gT)(l))&&u.includes(t),f=e=>e.bt("Просмотрите популярные доски", "Explore featured boards", "featured_boards.header", undefined, true),_=()=>{let{country:e}=(0,i.B)(),t=(0,n.useMemo)(()=>{var t;return"DE"===(t=e)?"pinterestde":"FR"===t?"pinterestfr":"AU"===t?"pinterestaustralia":"CA"===t?"pinterest_canada":"GB"===t?"pinterestuk":"pinterest"},[e]);return(0,r.Z)({name:"BoardsFeedResource",options:(({username:e,sort:t="last_pinned_to"})=>({field_set_key:"profile_grid_item",filter_stories:!1,sort:t,username:e}))({username:t})})}},765381:function(e,t,l){l.d(t,{Z:()=>c});var n=l(686659),a=l(667294),i=l(20256),r=l(24246),o=l(739405),s=l(785893);let d=({isPhone:e,url:t,handleClick:l})=>{let n=(0,r.Z)(),a=n.bt("Стрелка для просмотра дополнительной информации", "See more arrow", "unauth_section_header.see_more_a11y", undefined, true);return e?(0,s.jsx)(i.I_,{accessibilityLabel:a,bgColor:"transparent",href:t,icon:"arrow-forward",iconColor:"default",onClick:l,padding:1,size:"xs"}):(0,s.jsx)(i.ZP,{accessibilityLabel:a,color:"transparent",href:t,iconEnd:"arrow-forward",onClick:l,size:"md",text:n.bt("Подробнее", "See more", "unauth_section_header.see_more", undefined, true)})},u=({children:e,linkProps:t})=>t?(0,s.jsx)(i.Tg,{fullWidth:!1,href:t.url,mouseCursor:"pointer",onTap:t.handleClickHeader||t.handleClick,children:e}):(0,s.jsx)(i.xu,{children:e}),c=({sectionHeader:e,sectionHeaderA11yLevel:t,pretext:l,pretextA11yLevel:r,linkProps:c,headerMarginTopOverride:p,smallHeader:g=!1})=>{(0,a.useEffect)(()=>{(0,n.Z)("UnauthSectionHeader","/app/www/unauth/unified/UnauthSectionHeader.tsx")},[]);let f=(0,o.ml)(),_=p??(f?12:16),m=g||f?"200":"300",h=g||f?"300":"600";return(0,s.jsxs)(i.xu,{alignItems:"end",direction:"row",display:"flex",justifyContent:"between",marginBottom:4,marginTop:_,width:"100%",children:[(0,s.jsxs)(u,{linkProps:c,children:[!!l&&(0,s.jsx)(i.xu,{marginBottom:1,children:r?(0,s.jsx)(i.X6,{accessibilityLevel:r,size:m,children:(0,s.jsx)(i.xe,{size:m,children:l})}):(0,s.jsx)(i.xe,{lineClamp:2,size:m,children:l})}),(0,s.jsx)(i.X6,{accessibilityLevel:t||2,size:h,children:e})]}),!!c&&(0,s.jsx)(d,{...c,isPhone:f})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/14561.ru_RU-dc279cfa59260f8e.mjs.map