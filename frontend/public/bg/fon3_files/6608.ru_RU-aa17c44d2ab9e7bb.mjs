(self.modernJsonp=self.modernJsonp||[]).push([["6608"],{254977:function(e,t,o){o.d(t,{Z:()=>d});var s=o(686659),l=o(667294),a=o(20256),i=o(919561),n=o(470935),r=o(260397),c=o(24246),_=o(785893);function d(e){(0,l.useEffect)(()=>{(0,s.Z)("GoogleConnectButtonWithDisabledSDK","/app/packages/desktopLoginModal/GoogleConnectButtonWithDisabledSDK.tsx")},[]);let t=(0,c.Z)(),{tooltip:o,onClick:d,textOption:u}=e,[h,m]=(0,l.useState)(),p=(0,l.useRef)(null),g=(0,_.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[(0,_.jsx)(a.xu,{height:24,marginTop:1,width:24,children:(0,_.jsx)(r.Z,{size:20})}),(0,_.jsx)(a.xu,{marginStart:2,children:(0,_.jsxs)(a.xv,{weight:"bold",children:["alternativeAuth"===u&&t.bt("Привязать аккаунт к Google", "Link account to Google", "googleSocialConnectButtonWithDisabledSDK.buttonText", undefined, true),"accountRecovery"===u&&t.bt("Настроить вход через Google", "Set up Google login", "unauthGoogleConnectButtonForAccRecovery.buttonText", undefined, true),!u&&t.bt("Подключиться через Google", "Connect with Google", "googleConnectButtonWithDisabledSDK.buttonText", undefined, true)]})})]});return(0,_.jsxs)(a.xu,{ref:p,"data-test-id":"google-connect-button",position:"relative",children:[(0,_.jsx)(a.iP,{onTap:d?d():()=>m(!0),children:"alternativeAuth"===u?(0,_.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:44,justifyContent:"center",marginTop:2,paddingX:4,position:"relative",rounding:5,width:"100%",children:g}):(0,_.jsx)(a.xu,{alignItems:"center",color:"secondary",display:"flex",height:"accountRecovery"===u?48:40,justifyContent:"center",marginTop:2,position:"relative",rounding:5,width:"100%",children:g})}),!!o&&(0,_.jsx)(n.Z,{anchor:p.current,message:o}),h&&(0,_.jsx)(i.Z,{onDismiss:()=>m(!1),type:"google"})]})}},919561:function(e,t,o){o.d(t,{Z:()=>c});var s=o(686659),l=o(667294),a=o(20256),i=o(465784),n=o(24246),r=o(785893);function c({type:e,onDismiss:t}){(0,l.useEffect)(()=>{(0,s.Z)("SocialAuthDisabledModal","/app/packages/desktopLoginModal/SocialAuthDisabledModal.tsx")},[]);let o=(0,n.Z)(),c="facebook"===e?o.bt("Ой! Facebook не работает", "Oops! Facebook isn't available", "socialAuthDisabled.facebook.title", undefined, true):o.bt("Ой! Google не работает", "Oops! Google isn't available", "socialAuthDisabled.google.title", undefined, true),_="facebook"===e?o.bt("Похоже, Facebook сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Facebook isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.facebook.description", undefined, true):o.bt("Похоже, Google сейчас не работает. Попробуйте другой вариант или обновите страницу и повторите попытку позже.", "Looks like Google isn't available right now. Give another option a try or refresh the page and try again later.", "socialAuthDisabled.google.description", undefined, true);return(0,r.jsx)(i.ZP,{accessibilityModalLabel:c,footer:(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(a.xu,{"data-test-id":"SocialAuthDisabledModal",paddingX:1,children:(0,r.jsx)(a.zx,{color:"red",onClick:t,size:"md",text:o.bt("ОК", "OK", "socialAuthDisabled.okButton", undefined, true)})})}),heading:c,isOpen:!0,onDismiss:t,children:(0,r.jsx)(a.xu,{paddingX:5,children:(0,r.jsx)(a.xv,{align:"center",children:_})})})}},470935:function(e,t,o){o.d(t,{Z:()=>n});var s=o(686659),l=o(667294),a=o(20256),i=o(785893);function n({message:e,anchor:t}){(0,l.useEffect)(()=>{(0,s.Z)("Tooltip","/app/packages/desktopLoginModal/Tooltip.tsx")},[]);let[o,n]=(0,l.useState)(!0);return o?(0,i.jsx)(a.pl,{anchor:t,idealDirection:"right",onDismiss:()=>n(!1),children:(0,i.jsx)(a.xu,{padding:3,children:(0,i.jsx)(a.xv,{color:"light",size:"200",weight:"bold",children:e})})}):null}},315567:function(e,t,o){o.d(t,{Z:()=>s});let s=e=>{let[t,o]=[e?.width||580,e?.height||400],[s,l]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${o},left=${Math.round((s-t)/2)},top=${l>o?Math.round((l-o)/2):0}`}},260397:function(e,t,o){o.d(t,{Z:()=>i});var s=o(686659),l=o(667294),a=o(785893);let i=({size:e=56})=>((0,l.useEffect)(()=>{(0,s.Z)("Google","/app/packages/gestalt-custom-svg/dynamicSVGs/Google.tsx")},[]),(0,a.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,a.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,a.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,a.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,a.jsx)("path",{d:"M20 20h472v472H20V20z"})]}))},674784:function(e,t,o){let s;o.d(t,{J:()=>m});var l=o(382802),a=o(315567),i=o(671340),n=o(442971),r=o(408660),c=o(247387),_=o(865043),d=o(145626);async function u(e,t){await (0,r.Px)(void 0,t||void 0);let o=window.google?.accounts?.oauth2;o&&o.initCodeClient({client_id:c.v3o,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e}).requestCode()}let h=Object.freeze({}),m=({i18n:e,network:t,networkData:o,callbacks:r,requestContext:c})=>{if(r={error:()=>{},complete:()=>{},onRedirect:()=>{},...r},(0,_.My)(`auth_web.social_connect.${t}.${(0,i.Z)(c)}`),"gplus"===t||"google"===t)(0,_.My)("auth_web.social_connect.google.migration"),u(e=>{r.success({one_time_code:e.code,redirect_uri:"postmessage"})},c.language);else if("line"===t){let{locale:e}=c;(0,n.Z)(e,r)}else{let i=window.open(function({network:e,networkData:t}){if("amazon_storefront"===e){let{aipUrl:e,signUpCode:o,oneTimePasscode:s}=t?.amazon_storefront||{};if(e&&o&&s){let t=new URL(e);return t.searchParams.set("signUpCode",o),t.searchParams.set("pinterestOtp",s),t.searchParams.set("pinterestCallbackURL",`${d.C0}/connect/amazon_storefront`),t.toString()}}return"/connect/"+e+"/"}({network:t,networkData:o}),"",(e=>{let t=window.innerHeight-100;switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,a.Z)({width:720,height:t});case"etsy":return(0,a.Z)({width:580,height:775});case"youtube":return(0,a.Z)({width:605,height:640});case"amazon_storefront":return"width=800,height=800";default:return(0,a.Z)()}})(t));if(r.onRedirect?.(),!i){l.Z.showError(e.bt("Необходимо включить всплывающие окна!", "You must enable popups!", " - ", undefined, true)),r.error&&r.error(Object.freeze({}));return}s&&clearInterval(s),s=window.setInterval(()=>{try{i.closed&&(clearInterval(s),s=void 0,r.complete&&r.complete(!0))}catch{}},500),h={...h,[t]:r}}};{let e=e=>{let t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin!==t)return;let o=e.data;if(o&&"social-connect-complete"===o.type){let t=e.data;t.network&&(e=>{let{network:t}=e;if(s&&(clearInterval(s),s=void 0),!h[t])return;let{[t]:o,...l}=h,{error:a,success:i,complete:n}=o||{};if(h={...l},"error"===e.type)a?.(Object.freeze({message:"Please do not close the window when claiming your account!"}));else{let t;switch(e.network){case"facebook":t={id:e.profile.id};break;case"amazon_storefront":t={pinterestOtp:e.pinterestOtp};break;default:t={one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}}t&&i&&i(t)}n?.()})(t)}};"BroadcastChannel"in window?new BroadcastChannel("social_channel").onmessage=e:window.addEventListener("message",e)}},808022:function(e,t,o){o.d(t,{k:()=>m});var s=o(667294),l=o(581722),a=o(27399),i=o(236269),n=o(681698),r=o(935059),c=o(764302),_=o(674784),d=o(774838),u=o(660322);class h{constructor({invalidateResource:e,requestContext:t,viewer:o}){this.getUserId=()=>o.isAuth?o.id:"",this.getUsername=()=>o.isAuth?o.username:"",this.isLimitedLogin=()=>o.isLimitedLogin,this.invalidateResource=e,this.requestContext=t}handleConnect({network:e,networkData:t,connect:o,callback:s,i18n:l,forceGoogle:r}){let d=t=>{("connect"===t.type?(0,c.Z)({network:e,data:t.data,requestContext:this.requestContext,forceGoogle:r??!1}):(0,n.Z)({url:`/v3/connect/${e}/`,method:"DELETE"})).then(e=>{let t={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",t),a.Z.create("UserResource",t).callGet(),s.success?.(e)},e=>{e&&"object"==typeof e&&s.error?.({api_error_code:(0,i.Z)(e,"api_error_code"),code:(0,i.Z)(e,"code"),message:(0,i.Z)(e,"message")??"",data:(0,i.Z)(e,"data")??{}})}).finally(()=>{s.complete?.()})};o?this.isLimitedLogin()?d({type:"connect"}):(0,_.J)({network:e,networkData:t,callbacks:{success:e=>d({type:"connect",data:e}),error:s.error,complete:s.complete,onRedirect:s.onRedirect},i18n:l,requestContext:this.requestContext}):d({type:"disconnect"})}}function m(){let e=(0,l.I0)(),t=(0,d.B)(),o=(0,r.Z)();return(0,s.useMemo)(()=>new h({invalidateResource:(t,o)=>e((0,u.jB)(t,o)),requestContext:t,viewer:o}),[e,t,o])}},442971:function(e,t,o){o.d(t,{Z:()=>u});var s=o(966502),l=o(4533),a=o(470967),i=o(34550),n=o(247387),r=o(575820),c=o(900946);let _="undefined"!=typeof window,d=_?`${window.location.origin}/oauth/line/redirect`:"";function u(e,t){let o;if(!_)return void t.error?.({message:"Window is undefined"});let u=function(e=5){let t="abcdefghijklmnopqrstuvwxyz1234567890";return Array(e).fill("").map(()=>t[Math.floor(Math.random()*t.length)]).join("")}(10),h=async e=>{if(!e.isTrusted)return;let n=e instanceof MessageEvent?(({origin:e,data:t})=>t&&e===window.location.origin?String(t):null)(e):(({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==l.MM)return null;let o=(0,i.M0)().getItem(l.MM);return(0,i.M0)().removeItem(l.MM),o})(e),_=(0,r.mB)(n);if(_.state&&_.code&&_.state===u){t.fetching?.(),o&&!o.closed&&o.close();try{let e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(a.U2(s.fS))}`},method:"POST",body:(0,c.Z)({code:_.code,redirect_uri:d})}),{id_token:o,access_token:l}=await e.json();o&&l?t.success({line_id_token:o,line_access_token:l}):t.error?.({message:"No tokens returned"})}catch(e){t.error?.(e)}finally{o&&!o.closed&&o.close(),window.removeEventListener("message",h),window.removeEventListener("storage",h),t.complete?.()}}};window.addEventListener("message",h),window.addEventListener("storage",h),o=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${n.zal}&redirect_uri=${encodeURIComponent(d)}&state=${u}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},764302:function(e,t,o){o.d(t,{Z:()=>i,t:()=>n});var s=o(27399),l=o(681698);let a=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"];function i({network:e,data:t,requestContext:o,forceGoogle:i}){if(a.includes(e))return s.Z.create("UserSocialNetworkResource",{network:e,data:t}).callCreate();if("amazon_storefront"===e)return Promise.resolve({resource_response:{data:t}});let n=`/v3/connect/${e}/`,r=((e,t,o,s)=>{let l;switch(e){case"facebook":let{facebookToken:a}=o;l=t?{facebook_id:t.id,facebook_token:a}:Object.freeze({});break;case"gplus":l=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({}),s&&(l={...l,force:!0});break;case"line":l=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:l=Object.freeze({})}return l})(e,t,o,i);return(0,l.Z)({url:n,method:"PUT",data:r})}function n(e){switch(e){case"facebook":return 68;case"gplus":return 208;case"line":return 12277;default:return}}},659856:function(e,t,o){o.d(t,{l:()=>n,Z:()=>r});var s=o(667294),l=o(24246),a=o(216975),i=o(496883);let n=8,r=()=>{let e=(0,l.Z)(),t=(0,a.Wc)(e.bt("Слишком короткий пароль. Он должен содержать не менее {{minPasswordLength}} символов.", "Your password is too short! You need {{minPasswordLength}}+ characters.", "passwordValidation.minLength", undefined, true),{minPasswordLength:"6"}),r=(0,a.Wc)(e.bt("Слишком короткий пароль. Он должен содержать не менее {{minPasswordLength}} символов.", "Your password is too short! You need {{minPasswordLength}}+ characters.", "passwordValidation.minLength", undefined, true),{minPasswordLength:n.toString()}),c=e.bt("Пароль не должен совпадать с именем пользователя.", "Please make your username and password different.", "passwordValidation.passwordEqualsToUsername", undefined, true),_=e.bt("Выберите более сложный пароль.", "Please make a stronger password.", "passwordValidation.strongerPassword", undefined, true),d=e.bt("Используйте только сочетания букв, цифр и специальных символов (например: ?, !, $).", "Use only a mix of letters, numbers and special characters (for example: ?, !, $).", "passwordValidation.onlyASCII", undefined, true);return(0,s.useCallback)(({existingPassword:e,username:s})=>{let l;return e?[(0,i.oR)({message:d}),(0,i.aH)({message:t}),(0,i.Gy)({min:6,minErrorString:t})]:[(0,i.oR)({message:d}),(0,i.aH)({message:r}),(l={shortPassStr:r,samePasswordStr:c,blackPassStr:_,minPasswordLength:n,strongPasswordErrorMsg:_,username:s},async()=>{let{NewPassword:e}=await Promise.all([o.e("91062"),o.e("32792")]).then(o.bind(o,54605));return e(l)})]},[d,t,r,c,_])}},568432:function(e,t,o){o.r(t),o.d(t,{default:()=>I});var s=o(686659),l=o(667294),a=o(20256),i=o(4533),n=o(230201),r=o(465784),c=o(924591),_=o(935059),d=o(24246),u=o(216975),h=o(501010),m=o(661376),p=o(34550),g=o(577356),x=o(893957),f=o(27399),w=o(236269),P=o(33259),b=o(424868),v=o(437578),y=o(554092),z=o(659856),A=o(363815),j=o(214171),k=o(785893);function C({handleComplete:e,updateStep:t,component:o,emailUpdate:i,emailStep:r}){(0,l.useEffect)(()=>{(0,s.Z)("CreatePasswordStep","/app/www/AlternativeAuthCollection/CreatePasswordStep.tsx")},[]);let h=(0,d.Z)(),{showToast:m}=(0,g.dI)(),p=(0,z.Z)(),C=(0,_.Z)(),E=C.isAuth?C.username:void 0,Z=C.isAuth?C.email:"",{logContextEvent:S}=(0,n.u)(),[G,T]=(0,l.useState)(Z),[M,L]=(0,l.useState)(""),[U,I]=(0,l.useState)(""),[D,B]=(0,l.useState)(""),[O,R]=(0,l.useState)([]),[Y,H]=(0,l.useState)([]),W=(0,P.t)(),X=({state:e,message:t})=>{m(({hideToast:o})=>(0,k.jsx)(c.Z,{onHide:o,text:t,type:e}))},$=async e=>{e&&(0,A.ZP)(e.trim())?L(""):(0,A.ZP)(e.trim())||L(h.bt("Адрес электронной почты недействителен", "Not a valid email", "email_error1", undefined, true)),T(e.trim())},q=(0,l.useCallback)(async()=>{let e=[],t=[];""!==U&&(e=(await (0,j.$s)(U,E??"",p)).errors),""!==D&&""!==U&&(t=(0,j.IG)(U,D,h).errors),R(e),H(t)},[h,U,D,E]);(0,x.Z)(()=>{S({event_type:15393,component:o,element:14306,aux_data:{reason:r?"step":"other"}})}),(0,l.useEffect)(()=>{q()},[U,D,q]);let F=async(s,l)=>{s.preventDefault();let{isModalOpen:a,closeModal:i}=W;try{S({event_type:15396,component:o,element:14306,aux_data:{step:"password"}}),await (0,v.Z)({new:U,new_confirm:D,passcode:l}),S({event_type:15395,component:o,element:14306,aux_data:{step:"password"}}),X({state:"success",message:h.bt("Пароль обновлен", "Password updated", "password_updated", undefined, true)}),r?t("invalidEmail"):t("dismiss"),r||e()}catch(n){let{setErrorMessage:e,setModalPropsAndOpen:t}=W,l=(0,w.Z)(n,"api_error_code");l===b.RR?(e((0,w.Z)(n,"message")??""),S({event_type:15397,component:o,element:14306,aux_data:{fail_reason:"parental",step:"password"}})):l===b.mX?t({handlePasscodeSent:e=>{F(s,e)}}):(a&&i(),S({event_type:15397,component:o,element:14306,aux_data:{fail_reason:l,step:"password"}}),X({state:"error",message:(0,w.Z)(n,"message")??""}))}},V=async e=>{if(e.preventDefault(),G===Z)return void L(h.bt("Укажите активный адрес электронной почты", "Please enter an active email", "email_error", undefined, true));try{S({event_type:15396,component:o,element:14304,aux_data:{step:"password"}}),await f.Z.create("UserSettingsResource",{email:G,email_bounced:!1,surface_tag:y.i.FIX_EMAIL_PROMPT}).callUpdate({showError:!1}),S({event_type:15395,component:o,element:14304,aux_data:{step:"password"}}),X({state:"success",message:h.bt("Электронный адрес изменен", "Email updated", "email_updated", undefined, true)}),F(e)}catch(e){X({state:"error",message:e instanceof Error?e.message:""}),e instanceof Error&&"api_error_code"in e&&"httpStatus"in e&&S({event_type:15397,component:o,element:14304,aux_data:{step:"password",fail_reason:91===e.api_error_code&&490===e.httpStatus?"email_dup":e.api_error_code}})}},N=(0,k.jsx)(a.xu,{padding:2,width:"100%",children:(0,k.jsx)(a.nv,{autoComplete:"email",errorMessage:M,id:"email_update_field",onChange:({value:e})=>{$(e)},size:"lg",value:G})});return(0,k.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",paddingY:2,children:[(0,k.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:368,children:[(0,k.jsx)(a.X6,{align:"center",size:"400",children:h.bt("Создание пароля", "Create password", "create_password.header", undefined, true)}),!i&&(0,k.jsxs)(a.xu,{marginStart:3,children:[(0,k.jsx)(a.xu,{direction:"row",display:"flex",paddingY:2,width:"100%"}),(0,k.jsxs)(a.xv,{children:[h.bt("Введите пароль для ", "Enter password for ", "create_password.helper_text", undefined, true),(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.nk)(h.bt("{{userEmail}}", "{{userEmail}}", "User email in create password prompt", undefined, true),{userEmail:Z})})]})]})]}),(0,k.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",paddingY:2,children:[i&&N,(0,k.jsx)(a.xu,{padding:2,width:"100%",children:(0,k.jsx)(a.nv,{autoComplete:"new-password",errorMessage:O[0],id:"password_edit",name:"new_password",onChange:({value:e})=>{I(e)},placeholder:h.bt("Пароль", "Password", "new_password.input_placeholder", undefined, true),size:"lg",type:"password",value:U})}),(0,k.jsx)(a.xu,{padding:2,width:"100%",children:(0,k.jsx)(a.nv,{autoComplete:"new-password",errorMessage:Y[0],id:"password_confirm",name:"confrim_new_password",onChange:({value:e})=>{B(e)},placeholder:h.bt("Введите пароль повторно", "Re-enter Password", "repeat_password.input_placeholder", undefined, true),size:"lg",type:"password",value:D})}),(0,k.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:-2,marginTop:2,children:(0,k.jsx)(a.zx,{color:i?0===O.length&&0===Y.length&&U.length>0&&D.length>0&&G.length>0&&0===M.length?"red":"gray":0===O.length&&0===Y.length&&U.length>0&&D.length>0?"red":"gray",disabled:i?!(0===O.length&&0===Y.length&&U.length>0&&D.length>0&&G.length>0&&0===M.length):!(0===O.length&&0===Y.length&&U.length>0&&D.length>0),onClick:({event:e})=>{i?V(e):F(e),S({event_type:15392,component:o,element:76,aux_data:{step:"password"}})},size:"lg",text:h.bt("Готово", "Done", "create_password_modal.create_password_button", undefined, true)})})]})]})}var E=o(739405);function Z({showToastOnComplete:e,componentType:t,allowNoChange:o,emailBounced:i,trigger:r}){(0,l.useEffect)(()=>{(0,s.Z)("EmailCollectionStep","/app/www/AlternativeAuthCollection/EmailCollectionStep.tsx")},[]);let c=(0,_.Z)(),u=(0,d.Z)(),[h,m]=(0,l.useState)(""),[p,g]=(0,l.useState)(""),[P,b]=(0,l.useState)(!0),v=(0,E.HG)(),{logContextEvent:z}=(0,n.u)();(0,x.Z)(()=>{z({event_type:15393,component:t,element:14304,aux_data:{step:"email",reason:r??"other"}})});let j=async()=>{try{await f.Z.create("UserSettingsResource",{email:h,email_bounced:!1,surface_tag:y.i.FIX_EMAIL_PROMPT}).callUpdate({showError:!1}),z({event_type:15395,component:t,element:14304,aux_data:{step:"email",reason:r??""}}),e()}catch(e){b(!0),91===(0,w.Z)(e,"api_error_code")&&409===(0,w.Z)(e,"httpStatus")?(g(u.bt("Этот электронный адрес уже используется", "The email is already taken", "email_update_request.error_message.duplicate_email", undefined, true)),z({event_type:15397,component:t,element:14304,aux_data:{fail_reason:"email_dup",reason:r??"other"}})):(g((0,w.Z)(e,"message")??""),z({event_type:15397,component:t,element:14304,aux_data:{fail_reason:(0,w.Z)(e,"api_error_code"),reason:r??"other"}}))}};return(0,k.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,k.jsx)(a.xu,{maxWidth:v?326:void 0,padding:2,width:"100%",children:(0,k.jsx)(a.nv,{errorMessage:p,id:"updated email",onChange:({value:e})=>{z({event_type:15398,component:t,element:14304,aux_data:{reason:r??"other"}}),m(e.trim()),e&&e.trim()!==(c.isAuth?c.email:"")&&(0,A.ZP)(e.trim())?(g(""),b(!1)):(0,A.ZP)(e.trim())?(g(""),o?b(!1):b(!0)):(g(u.bt("Адрес электронной почты недействителен.", "Not a valid email.", "mweb.fullpage.email_update_error", undefined, true)),b(!0))},size:v?"md":"lg",type:"email",value:h})}),(0,k.jsx)(a.xu,{marginTop:3,children:(0,k.jsx)(a.zx,{color:P?"gray":"red",disabled:P,onClick:()=>{j(),z({event_type:15392,component:t,element:12018,aux_data:{step:"email",reason:r??"other",source:i?"bounce":"valid"}})},size:"lg",text:"pwd_b"===r?u.bt("Изменить эл. адрес", "Update email", "bounced_email_save", undefined, true):u.bt("Сохранить", "Save", "save_email", undefined, true)})})]})}function S({componentType:e,setCurrentStep:t,handleComplete:o,googleConnectEmail:i}){(0,l.useEffect)(()=>{(0,s.Z)("GmailUpdateConfirmStep","/app/www/AlternativeAuthCollection/GmailUpdateConfirmStep.tsx")},[]);let r=(0,_.Z)(),{logContextEvent:h}=(0,n.u)(),m=(0,d.Z)(),{showToast:p}=(0,g.dI)(),x=({state:e,message:t})=>{p(({hideToast:o})=>(0,k.jsx)(c.Z,{onHide:o,text:t,type:e}))},P=async()=>{try{await f.Z.create("UserSettingsResource",{email:i,email_bounced:!1,surface_tag:y.i.FIX_EMAIL_PROMPT}).callUpdate({showError:!1}),h({event_type:15395,component:e,element:14304,aux_data:{step:"gmailUpdate"}}),x({state:"success",message:m.bt("Адрес электронной почты изменен!", "Email updated!", "link_google.confirm.email.success.toast1", undefined, true)}),t("dismiss"),o()}catch(o){91===(0,w.Z)(o,"api_error_code")&&409===(0,w.Z)(o,"httpStatus")?(h({event_type:15397,component:e,element:14304,aux_data:{fail_reason:"email_dup",step:"gmailUpdate"}}),x({state:"error",message:m.bt("Этот электронный адрес уже используется", "The email is already taken", "email_update_request.error_message.duplicate_email1", undefined, true)}),t("editEmail")):(h({event_type:15397,component:e,element:14304,aux_data:{fail_reason:(0,w.Z)(o,"api_error_code"),step:"gmailUpdate"}}),x({state:"error",message:(0,w.Z)(o,"message")??""}))}};return i?(0,k.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingX:6,children:[(0,k.jsx)(a.X6,{align:"center",size:"400",children:m.bt("Подтверждение адреса электронной почты", "Confirm your email", "confirm_email.header", undefined, true)}),(0,k.jsx)(a.xu,{marginBottom:1,maxWidth:375,paddingY:4,children:(0,k.jsxs)(a.xv,{align:"center",children:[m.bt("Хотите изменить адрес электронной почты для Pinterest на ", "Do you want to update your Pinterest email to ", "subtext for confirm email update to gmail", undefined, true),(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.nk)(m.bt("{{googleConnectEmail}} ?", "{{googleConnectEmail}} ?", "update_to_gmail.subtext", undefined, true),{googleConnectEmail:i})})]})}),(0,k.jsx)(a.zx,{color:"red",onClick:()=>{P(),h({event_type:15392,component:e,element:126,aux_data:{step:"gmailUpdate"}})},size:"lg",text:m.bt("Да, обновить", "Yes, update", "button.text1.update_email_button", undefined, true)}),(0,k.jsx)(a.xu,{paddingY:1}),(0,k.jsx)(a.iP,{onTap:()=>{h({event_type:15392,component:e,element:76,aux_data:{step:"gmailUpdate"}}),t("editEmail")},children:(0,k.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,k.jsx)(a.xv,{size:"100",weight:"bold",children:m.bt("Использовать другой адрес электронной почты", "Use a different email", "button.text2.confirm_email_button", undefined, true)})})})]}):(0,k.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingX:6,children:[(0,k.jsx)(a.X6,{align:"center",size:"400",children:m.bt("Подтверждение адреса электронной почты", "Confirm your email", "confirm_email.header", undefined, true)}),(0,k.jsx)(a.xu,{marginBottom:1,maxWidth:375,paddingY:4,children:(0,k.jsxs)(a.xv,{align:"center",children:[m.bt("Хотите изменить текущий адрес электронной почты для Pinterest ", "Do you want to update your current Pinterest email ", "subtext for confirm email1", undefined, true),(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.nk)(m.bt("{{userEmail}}", "{{userEmail}}", "confirm_email.subtext", undefined, true),{userEmail:r.isAuth?r.email:""})}),m.bt(" на адрес электронной почты для входа в Google?", " to your Google login email?", "subtext for confirm email2", undefined, true)]})}),(0,k.jsx)(a.zx,{color:"red",onClick:()=>{t("editEmail"),h({event_type:15392,component:e,element:126,aux_data:{step:"confirmEmail"}})},size:"lg",text:m.bt("Изменить эл. адрес", "Update email", "button.text.update_email_button", undefined, true)}),(0,k.jsx)(a.xu,{paddingY:1}),(0,k.jsx)(a.iP,{onTap:()=>{h({event_type:15392,component:e,element:76,aux_data:{step:"confirmEmail"}}),x({state:"success",message:m.bt("Адрес электронной почты подтвержден!", "Email confirmed!", "link_google.confirm.email.success.toast", undefined, true)}),t("dismiss"),o()},children:(0,k.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,k.jsx)(a.xv,{size:"100",weight:"bold",children:m.bt("Нет, использовать текущий адрес эл. почты", "No, use current email", "button.text.confirm_email_button", undefined, true)})})})]})}var G=o(254977),T=o(808022);function M({handleComplete:e,emailUpdate:t,updateStep:o,isGooglePrimary:i,component:r,setModalDismissibleAfterDuplicate:_,setGoogleConnectEmail:u,setDuplicateUsername:h,setConflictEmail:m}){(0,l.useEffect)(()=>{(0,s.Z)("LinkGoogleStep","/app/www/AlternativeAuthCollection/LinkGoogleStep.tsx")},[]);let p=(0,d.Z)(),{logContextEvent:x}=(0,n.u)(),{showToast:f}=(0,g.dI)(),w=(0,E.HG)(),P=(0,T.k)(),v=({state:e,message:t})=>{f(({hideToast:o})=>(0,k.jsx)(c.Z,{onHide:o,text:t,type:e}))},y=()=>()=>{P.handleConnect({network:"gplus",connect:!0,callback:{success:s=>{v({state:"success",message:p.bt("Вход через Google сохранен.", "Google login saved!", "Googleconnect.link.success.toast", undefined, true)}),u(s.resource_response.data.idp_email),x({event_type:15395,component:r,element:208}),t?o("confirmEmail"):(o("dismiss"),e())},error:e=>{if(e&&e.api_error_code===b.pH){if(w){let{force_recommended:t,conflicting_username:s,conflicting_email:l}=e.data;h?.(s),m?.(l),o(t?"moveGoogleStep":"moveGoogleSecondary")}else v({state:"error",message:p.bt("Этот адрес электронной почты уже связан с аккаунтом Pinterest. Укажите другой адрес", "This email is already linked to a Pinterest account. Try another one", "google_link.already_in_use.error_toast", undefined, true)}),_?.(!0);x({event_type:15397,component:r,element:208,aux_data:{fail_reason:"google_dup"}})}else e&&(v({state:"error",message:p.bt("Не удалось подключиться к Google. Повторите попытку", "Unable to connect to Google. Please try again", "google_link.connection_fail.error_toast", undefined, true)}),x({event_type:15397,component:r,element:208,aux_data:{fail_reason:e.api_error_code}}))},complete:()=>{}},i18n:p}),x({event_type:15392,component:r,element:208,aux_data:{source:"link_google_flow"}})};return(0,k.jsx)(a.xu,{height:"48px",marginBottom:i?8:-2,paddingY:2,children:i?(0,k.jsx)(G.Z,{onClick:y,textOption:"alternativeAuth"}):(0,k.jsx)(a.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",children:(0,k.jsxs)(a.kC,{alignItems:"stretch",direction:"row",gap:1,justifyContent:"center",children:[(0,k.jsx)(a.xu,{display:"inlineBlock",children:(0,k.jsx)(a.xv,{size:"100",children:p.bt("Предпочитаете другой способ? ", "Prefer another way? ", "google_link.text_for_ask_google_link", undefined, true)})}),(0,k.jsx)(a.iP,{onTap:y(),children:(0,k.jsx)(a.xu,{display:"inlineBlock",children:(0,k.jsx)(a.xv,{size:"100",weight:"bold",children:p.bt("Привязать аккаунт к Google", "Link account to Google", "google_link.text_for_open_google_link", undefined, true)})})})]})})})}let L=({currentUsername:e,component:t,duplicateUsername:o,conflictEmail:i,isMoveGooglePrimary:r,setCurrentStep:_,showToastOnComplete:h})=>{(0,l.useEffect)(()=>{(0,s.Z)("MoveGoogleLoginStep","/app/www/AlternativeAuthCollection/MoveGoogleLoginStep.tsx")},[]);let m=(0,d.Z)(),{logContextEvent:p}=(0,n.u)(),{showToast:f}=(0,g.dI)(),w=(0,T.k)(),P=r?15930:15931;return(0,x.Z)(()=>{p({event_type:15393,component:t,element:P})}),(0,k.jsxs)(a.xu,{children:[(0,k.jsx)(a.xu,{marginTop:-8,paddingX:4,paddingY:2,children:(0,k.jsx)(a.X6,{align:"center",size:"400",children:r?m.bt("Переместить данные для входа через Google?", "Move Google login?", "googleconnect.move_google_link_primary_heading", undefined, true):m.bt("Создайте пароль", "Please create a password", "googleconnect.move_google_link_secondary_heading", undefined, true)})}),(0,k.jsx)(a.xu,{marginTop:2,maxWidth:380,paddingY:2,children:r?(0,k.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",children:[(0,k.jsx)(a.xv,{align:"center",children:m.bt("Ваш аккаунт Google связан с другим аккаунтом Pinterest", "Your Google account is linked to another Pinterest account", "googleconnect.move_google_login_subtext_1", undefined, true)}),(0,k.jsx)(a.xv,{align:"center",children:(0,u.nk)(m.bt("Отвязать аккаунт Google от аккаунта {{duplicateUsername}} и привязать его к {{currentUsername}}? Вы больше не сможете входить в аккаунт {{duplicateUsername}} с помощью этого аккаунта Google.", "Do you want to unlink your Google account from {{duplicateUsername}} and link it to {{currentUsername}} instead? You will no longer be able to access {{duplicateUsername}} with this Google account.", "googleconnect.move_google_login_subtext_2", undefined, true),{duplicateUsername:(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:o}),currentUsername:(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:e})})}),i&&(0,k.jsx)(a.xv,{align:"center",children:(0,u.nk)(m.bt("Адрес электронной почты будет изменен на {{conflictEmail}}.", "This will also update your email to {{conflictEmail}}.", "googleconnect.move_google_login_subtext_3", undefined, true),{conflictEmail:(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:i})})})]}):(0,k.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",children:[(0,k.jsx)(a.xv,{align:"center",children:m.bt("Ваш аккаунт Google связан с другим аккаунтом Pinterest", "Your Google account is linked to another Pinterest account", "googleconnect.move_google_login_subtext_1", undefined, true)}),(0,k.jsx)(a.xv,{align:"center",children:m.bt("Чтобы сохранить доступ, создайте пароль для этого аккаунта или отвяжите аккаунт Google от второго аккаунта Pinterest и привяжите его к этому аккаунту.", "To avoid disruption, you can either create a password for this account or move the Google account login from the other Pinterest account to this one.", "googleconnect.move_google_login_secondary_subtext_2", undefined, true)})]})}),(0,k.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:2,paddingY:2,children:r?(0,k.jsx)(a.zx,{accessibilityLabel:m.bt("Переместить данные для входа через Google", "Move Google login", "move_google_login_button", undefined, true),color:"white",onClick:()=>{p({event_type:15392,component:15167,element:15930}),w.handleConnect({network:"gplus",connect:!0,callback:{success:()=>{h(),p({event_type:16246,component:t,element:P})},error:e=>{p({event_type:16247,component:t,element:P,aux_data:{fail_reason:(e&&(e.api_error_code===b.zt?"not_linked":e.api_error_code))??""}}),e.message&&(({state:e,message:t})=>{f(({hideToast:o})=>(0,k.jsx)(c.Z,{onHide:o,text:t,type:e}))})({state:"error",message:e.message})},complete:()=>{}},i18n:m,forceGoogle:!0}),p({event_type:15392,component:t,element:P})},size:"lg",text:m.bt("Переместить данные для входа через Google", "Move Google login", "move_google_login_modal.create_password_button_text", undefined, true)}):(0,k.jsx)(a.zx,{accessibilityLabel:"create password",color:"white",onClick:()=>{p({event_type:15392,component:t,element:126,aux_data:{step:"mgs"}}),_("password")},size:"lg",text:m.bt("Создать пароль", "Create password", "create_password_modal.create_password_button", undefined, true)})}),(0,k.jsx)(a.xu,{marginBottom:2,paddingY:2,children:r?(0,k.jsx)(a.iP,{onTap:()=>{p({event_type:15392,component:t,element:1208,aux_data:{step:"mgp"}}),_("moveGoogleSecondary")},children:(0,k.jsx)(a.xv,{align:"center",size:"100",underline:!0,children:m.bt("Нет, создать пароль", "No, create password", "move_google_login_modal.create_password_secondary_text", undefined, true)})}):(0,k.jsx)(a.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",children:(0,k.jsxs)(a.kC,{alignItems:"stretch",direction:"row",gap:1,justifyContent:"center",children:[(0,k.jsx)(a.xv,{align:"center",size:"100",children:m.bt("Предпочитаете другой способ?", "Prefer another way?", "move_google_login_modal.mgl_secondary_text", undefined, true)}),(0,k.jsx)(a.iP,{onTap:()=>{p({event_type:15392,component:15167,element:15931}),_("moveGoogleStep")},children:(0,k.jsx)(a.xv,{align:"center",size:"100",underline:!0,children:m.bt("Переместить данные для входа через Google", "Move Google login", "move_google_login_modal.create_password_secondary_text", undefined, true)})})]})})})]})},U=({children:e,handleDismiss:t,displayOptions:o,logContextEvent:s,modalDismissibleAfterDuplicate:l,i18n:n})=>{let{isBlocking:c,isDesktop:_,isGooglePrimary:d,hasBackButton:u,currentStep:h,setCurrentStep:m}=o,g=u?(0,k.jsx)(a.hU,{accessibilityLabel:n.bt("Кнопка «Назад» модального окна", "Back button on modal", "dismiss button accessibilityLabel", undefined, true),bgColor:"transparent",icon:"arrow-back",onClick:()=>{s({event_type:15392,component:d?14959:14960,element:34,aux_data:{step:h}}),m("editEmail"===h?"confirmEmail":"select")},size:"sm"}):(0,k.jsx)(a.hU,{accessibilityLabel:n.bt("Кнопка закрытия модального окна", "Dismiss modal button", "dismiss button accessibilityLabel", undefined, true),bgColor:"transparent",icon:"cancel",onClick:()=>{s({event_type:15394,component:d?14959:14960,element:73,aux_data:{step:h}}),m("dismiss"),t()},size:"sm"});return(0,k.jsx)(a.mh,{children:(0,k.jsx)(r.ZP,{accessibilityModalLabel:n.bt("Модальное окно ввода пароля", "Password Prompt Modal", "modal_name.auth_collection_password", undefined, true),align:"center",isOpen:!0,onDismiss:()=>{c||(s({event_type:15392,component:d?14959:14960,element:14305,aux_data:{step:h}}),t(),m("dismiss"))},size:_?450:void 0,children:(0,k.jsxs)(a.xu,{alignItems:"center",color:["select","moveGoogleStep","moveGoogleSecondary"].includes(h)?"warningWeak":void 0,direction:"column",display:"flex",justifyContent:"center",padding:_?6:8,children:[c&&!u?l?(0,k.jsx)(a.xu,{alignContent:"start",display:"flex",justifyContent:!_||u?"start":"end",marginBottom:4*!_,marginStart:-2,marginTop:_?-2:-4,width:"100%",children:(0,k.jsx)(a.hU,{accessibilityLabel:n.bt("Кнопка закрытия модального окна", "Dismiss modal button", "dismiss button accessibilityLabel", undefined, true),bgColor:"transparent",icon:"cancel",onClick:()=>{s({event_type:15394,component:d?14959:14960,element:73,aux_data:{step:"duplicate_dismiss"}}),p.ZP.setItem(i.fJ,"true"),m("dismiss"),t()},size:"sm"})}):(0,k.jsx)(a.xu,{padding:2}):(0,k.jsx)(a.xu,{alignContent:"start",display:"flex",justifyContent:!_||u?"start":"end",marginBottom:4*!_,marginStart:-2,marginTop:_?-2:-4,width:"100%",children:g}),"moveGoogleStep"!==h&&"moveGoogleSecondary"!==h&&(0,k.jsx)(a.JO,{accessibilityLabel:n.bt("Модальное окно с логотипом значка", "Icon logo on modal", "Warning logo", undefined, true),color:"select"===h?"warning":"primary",icon:"select"===h?"workflow-status-warning":"pinterest",size:32}),(0,k.jsx)(a.xu,{paddingY:2}),e]})})})};function I({headerText:e,subheaderText:t,isBlocking:o,isDesktop:r,isGooglePrimary:f,handleComplete:w,handleDismiss:P}){(0,l.useEffect)(()=>{(0,s.Z)("GoogleWithPasswordModal","/app/www/AlternativeAuthCollection/GoogleWithPasswordModal.tsx")},[]);let{logContextEvent:b}=(0,n.u)(),[v,y]=(0,l.useState)("select"),[z,A]=(0,l.useState)(!1),[j,E]=(0,l.useState)(""),[G,T]=(0,l.useState)(""),[I,D]=(0,l.useState)(void 0),B=(0,d.Z)(),{showToast:O}=(0,g.dI)(),{checkExperiment:R}=(0,h.Z)(),Y=f?14959:14960,H=p.ZP.getItem(i.fJ),W=(0,_.Z)(),X=(0,m.Z)({name:"UserSettingsResource",noCache:!0}).data?.email_bounced,$=!r&&R("mweb_alternative_auth_collection_fb_dep_copy").anyEnabled||r&&R("dweb_alternative_auth_collection_fb_dep_copy").anyEnabled,q=$?B.bt("Обновите данные для входа", "Update your login", "header.password_collection_screen.post_rollout", undefined, true):e,F=f?(0,u.nk)(B.bt("Вход через Facebook {{boldText}}. Чтобы избежать сбоев, подключите свой аккаунт к Google", "Facebook login has been {{boldText}}. To avoid disruption, link your account to Google instead", "google_connect_modal.post_rollout.subheader", undefined, true),{boldText:(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:B.bt("больше не поддерживается", "discontinued", "google_connect_modal.post_rollout.subheader_bold", undefined, true)})}):(0,u.nk)(B.bt("Вход через Facebook {{boldText}}. Чтобы избежать сбоев, создайте пароль, чтобы вернуться в аккаунт", "Facebook login has been {{boldText}}. To avoid disruption, create a password to get back into your account", "password_create_modal.post_rollout.subheader", undefined, true),{boldText:(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:B.bt("больше не поддерживается", "discontinued", "google_connect_modal.post_rollout.subheader_bold", undefined, true)})}),V=$?F:t;(0,x.Z)(()=>{b({event_type:15393,component:Y})});let N=({state:e,message:t})=>{O(({hideToast:o})=>(0,k.jsx)(c.Z,{onHide:o,text:t,type:e}))};switch(v){case"select":return(0,k.jsxs)(U,{displayOptions:{isDesktop:r,setCurrentStep:y,currentStep:v,isGooglePrimary:f,isBlocking:o},handleDismiss:P,i18n:B,logContextEvent:b,modalDismissibleAfterDuplicate:z,children:[e&&(0,k.jsx)(a.X6,{align:"center",size:"400",children:H?B.bt("Создайте пароль", "Please create password", "header.password_collection_screen", undefined, true):q}),t&&(" "!==V?(0,k.jsx)(a.xu,{marginTop:2,maxWidth:380,paddingY:2,children:(0,k.jsx)(a.xv,{align:"center",children:H?B.bt("В будущем вы можете потерять доступ к своему аккаунту Pinterest. Добавьте пароль, чтобы сохранить доступ", "You may lose access to your Pinterest account in the future. Add a password to avoid disruption", "subheader for password collection screen", undefined, true):V})}):(0,k.jsx)(a.xu,{padding:1})),f&&!H?(0,k.jsx)(M,{component:Y,emailUpdate:!0,handleComplete:w,isGooglePrimary:!0,setConflictEmail:D,setDuplicateUsername:T,setGoogleConnectEmail:E,setModalDismissibleAfterDuplicate:A,updateStep:y}):(0,k.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingY:2,width:r?"75%":void 0,children:(0,k.jsx)(a.zx,{accessibilityLabel:"create password",color:"white",onClick:()=>{b({event_type:15392,component:14960,element:126}),y("password")},size:"lg",text:B.bt("Создать пароль", "Create password", "create_password_modal.create_password_button", undefined, true)})}),f&&!H?(0,k.jsx)(a.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:2*!!r,children:(0,k.jsxs)(a.kC,{alignItems:"stretch",direction:"row",gap:1,justifyContent:"center",children:[(0,k.jsx)(a.xv,{size:"100",children:B.bt("Предпочитаете другой способ? ", "Prefer another way? ", "google_link.text_for_ask_create_password", undefined, true)}),(0,k.jsx)(a.iP,{onTap:()=>{y("password"),b({event_type:15392,component:Y,element:1208})},children:(0,k.jsx)(a.kC,{children:(0,k.jsx)(a.xv,{size:"100",weight:"bold",children:B.bt("Создание пароля", "Create password", "google_link.text_for_open_password_create_page", undefined, true)})})})]})}):(0,k.jsx)(M,{component:14960,emailUpdate:!0,handleComplete:w,isGooglePrimary:!1,setConflictEmail:D,setDuplicateUsername:T,setGoogleConnectEmail:E,updateStep:y})]});case"password":return(0,k.jsx)(U,{displayOptions:{isDesktop:r,setCurrentStep:y,currentStep:v,isGooglePrimary:f,isBlocking:o,hasBackButton:!0},handleDismiss:P,i18n:B,logContextEvent:b,children:(0,k.jsx)(C,{component:Y,emailStep:X??!1,handleComplete:w,updateStep:y})});case"confirmEmail":return(0,k.jsx)(U,{displayOptions:{isDesktop:r,setCurrentStep:y,currentStep:v,isGooglePrimary:f,isBlocking:X??!1},handleDismiss:P,i18n:B,logContextEvent:b,children:(0,k.jsx)(S,{componentType:Y,googleConnectEmail:j,handleComplete:w,setCurrentStep:y})});case"editEmail":return(0,k.jsxs)(U,{displayOptions:{isDesktop:r,setCurrentStep:y,currentStep:v,isGooglePrimary:f,isBlocking:X??!1,hasBackButton:!0},handleDismiss:P,i18n:B,logContextEvent:b,children:[(0,k.jsx)(a.xu,{marginTop:-2,paddingX:4,paddingY:4,children:(0,k.jsx)(a.X6,{align:"center",size:"400",children:B.bt("Введите адрес электронной почты, который вы хотите использовать для аккаунта Pinterest", "Enter the email you want to use for your Pinterest account", "googleconnect.email_update_heading", undefined, true)})}),(0,k.jsx)(a.xu,{marginBottom:4,width:"100%",children:(0,k.jsx)(Z,{allowNoChange:!0,componentType:Y,emailBounced:X,showToastOnComplete:()=>{y("dismiss"),N({state:"success",message:B.bt("Адрес электронной почты изменен!", "Email updated!", "Googleconnect.link.modal.email.success.toast", undefined, true)}),w()}})})]});case"invalidEmail":return(0,k.jsxs)(U,{displayOptions:{isDesktop:r,setCurrentStep:y,currentStep:v,isGooglePrimary:f,isBlocking:!0,hasBackButton:!1},handleDismiss:P,i18n:B,logContextEvent:b,children:[(0,k.jsx)(a.xu,{marginTop:-2,paddingX:4,paddingY:4,children:(0,k.jsx)(a.X6,{align:"center",size:"400",children:B.bt("Недействительный адрес электронной почты", "Invalid email", "password.bounced_email_update_heading", undefined, true)})}),(0,k.jsx)(a.xu,{marginBottom:2,maxWidth:380,children:(0,k.jsxs)(a.xv,{align:"center",children:[B.bt("Ваш адрес электронной почты ", "Your email ", "subtext for bounced email update", undefined, true),(0,k.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.nk)(B.bt("{{userEmail}} ", "{{userEmail}} ", "subtext for bounced email update", undefined, true),{userEmail:W.isAuth?W.email:""})}),B.bt("недействителен. Обновите его, чтобы защитить аккаунт", "is invalid. Update to secure your account", "subtext for bounced email update", undefined, true)]})}),(0,k.jsx)(a.xu,{marginBottom:4,width:"100%",children:(0,k.jsx)(Z,{allowNoChange:!1,componentType:Y,emailBounced:X,showToastOnComplete:()=>{y("dismiss"),N({state:"success",message:B.bt("Адрес электронной почты изменен!", "Email updated!", "password.bounced_email_update.success.toast", undefined, true)}),w()},trigger:"pwd_b"})})]});case"moveGoogleStep":case"moveGoogleSecondary":return(0,k.jsx)(U,{displayOptions:{isDesktop:r,setCurrentStep:y,currentStep:v,isGooglePrimary:f,isBlocking:o,hasBackButton:!1},handleDismiss:P,i18n:B,logContextEvent:b,children:(0,k.jsx)(L,{component:Y,conflictEmail:I,currentUsername:W.isAuth?W.username:"",duplicateUsername:G,isMoveGooglePrimary:"moveGoogleStep"===v,setCurrentStep:y,showToastOnComplete:()=>{y("dismiss"),N({state:"success",message:B.bt("Данные для входа с помощью Google добавлены в ваш аккаунт.", "You have successfully added Google login to your account.", "move_google_login.success.toast", undefined, true)}),w()}})});default:return null}}},214171:function(e,t,o){o.d(t,{$s:()=>i,IG:()=>n,np:()=>a});var s=o(496883);let l=async(e,t)=>({errors:[].concat(...await Promise.all(e.map(async e=>{let o=e(t);return o instanceof Promise?(await o)(t).errors:o.errors})))}),a=e=>(0,s.aH)({message:e.bt("Обязательное поле", "Required", "Validation error when a required field is missing", undefined, true)});function i(e,t,o){return l(o({username:t}),e)}function n(e,t,o){return{errors:[a(o),(0,s.sG)({targetValue:e,message:o.bt("Пароли не совпадают", "Passwords don’t match", " - ", undefined, true)})].reduce((e,o)=>e.concat(o(t).errors),[])}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/6608.ru_RU-aa17c44d2ab9e7bb.mjs.map