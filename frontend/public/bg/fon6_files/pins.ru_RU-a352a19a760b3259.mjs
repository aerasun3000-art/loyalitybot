(self.modernJsonp=self.modernJsonp||[]).push([["80492"],{494843:function(e,s,i){i.d(s,{Z:()=>r});let r={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},834964:function(e,s,i){i.d(s,{Z:()=>C});var r=i(686659),n=i(667294),t=i(935059),o=i(739405),l=i(312048),a=i(20256),P=i(417681),u=i(866986),f=i(24246),c=i(18964),p=i(785893);function d({ownProfile:e}){(0,n.useEffect)(()=>{(0,r.Z)("ProfilePinsHeader","/app/common/react/components/profile/ProfilePins/ProfilePinsHeader/ProfilePinsHeader.tsx")},[]);let s=(0,f.Z)(),i=(0,p.jsx)(u.Z,{}),t=(0,p.jsx)(P.Z,{});return(0,p.jsx)(c.Z,{buttonsLeft:[],buttonsRight:e?[i,t]:[],minHeight:48,shouldStick:!0,children:(0,p.jsx)(a.X6,{accessibilityLevel:1,size:"400",children:s.bt("Все пины", "All Pins", "profilePinsHeader.heading", undefined, true)})})}var h=i(938605),m=i(470205),_=i(331534),x=i(920343),Z=i(329894);function w({user:e}){(0,n.useEffect)(()=>{(0,r.Z)("ProfilePinsPage","/app/common/react/components/profile/ProfilePins/ProfilePinsPage.tsx")},[]);let s=(0,t.Z)(),i=(0,x.Z)({user:e,viewer:s});return(0,Z.G)(e.username,74),(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(m.Z,{name:"ProfilePinsHeader",children:(0,p.jsx)(d,{ownProfile:i})}),(0,p.jsx)(m.Z,{name:"AllPins",children:(0,p.jsx)(a.xu,{"data-test-id":"profile-pins-grid",children:(0,p.jsx)(h.ZP,{emptyState:(0,p.jsx)(_.Z,{fullName:e.full_name,isOwnProfile:i}),isOwnProfile:i,showNativePins:!0,surface:i?"UserProfilePinGrid":"OtherProfilePinGrid",user:e,username:e.username})})})]})}var j=i(171039);function g(){(0,n.useEffect)(()=>{(0,r.Z)("ProfilePinsPageAuthDesktop","/app/www/ProfilePinsPage/ProfilePinsPageAuthDesktop.tsx")},[]);let e=(0,l.s0)(),s=(0,j.Z)();if(!s)return null;if(!s.isLoaded||!s.data)return s.error&&404===s.error.httpStatus&&e("/?show_error=true",{replace:!0}),null;let i=s.data;return(0,p.jsx)(w,{user:i})}var A=i(581722),S=i(720459),v=i(216975),b=i(774838),E=i(890678),O=i(112658),R=i(603284),D=i(550759),H=i(812573),I=i(683642),L=i(4710),N=i(798385),z=i(956701),F=i(520803);let k={shortform:!1,shortform_maximum_fraction_digits:1};class y extends n.PureComponent{componentWillUnmount(){this.props.setProfilePinsRefreshed()}render(){let{match:e,user:s,viewerId:i,isProfilePinsStale:r,resourceRef:t,isFetching:o,fetchMore:l}=this.props;if(!s||!s.id)return(0,p.jsx)(H.ZP,{children:null});let{username:P}=e.params,u=s&&s.id===i,f=(s.pin_count??0)>0;return(0,p.jsx)(H.ZP,{children:P?(0,p.jsx)(R.Z,{objectIdStr:s.id,viewParameter:74,viewType:4,children:(0,p.jsx)(O.Z,{component:210,objectId:s.id,view:4,viewParameter:u?3106:3107,children:(0,p.jsxs)(a.xu,{children:[f&&(0,p.jsx)(a.xu,{marginBottom:1,children:(0,p.jsx)(a.xv,{color:"subtle",size:"100",weight:"bold",children:(0,v.nk)(this.props.i18n.nbt(["{{ numPins }} пин", "{{ numPins }} пина", "{{ numPins }} пинов"], s.pin_count ?? 0, "number of pins user has", true),{numPins:this.props.prettyNumberFormat(this.props.locale,s.pin_count??0,k)})})}),(0,p.jsx)(m.Z,{name:"SafeSuspense_ProfilePinsFeed",children:(0,p.jsx)(n.Suspense,{fallback:(0,p.jsx)(D.Z,{}),children:(0,p.jsx)(L.Z,{fetchMore:l,isFetching:o,isOwnProfile:u,isProfilePinsStale:!!r,resourceRef:t,username:P})})})]})})}):null})}}function G(){(0,n.useEffect)(()=>{(0,r.Z)("ProfilePinsPageDefault","/app/www/ProfilePinsPage/ProfilePinsPageDefault.tsx")},[]);let e=(0,A.I0)(),s=(0,l.TH)(),i=(0,F.Z)(),o=(0,A.v9)(e=>e.session.isProfilePinsStale),a=(0,N.Z)()[i.params.username??""],P=(0,t.Z)(),{isAuth:u}=P,c=u?P.id:"",d=(0,f.Z)(),{locale:h}=(0,b.B)(),m=(0,S.Z)(),_=(0,l.s0)(),x=!!(u&&a?.username===P.username),Z=!x&&!!a?.is_private_profile,{ref:w,isFetching:j,fetchMore:g}=(0,E.Z)({name:"UserPinsResource",options:(0,I.Z)({isAuthenticated:u,isOwnProfile:x,username:a?.username}),noCache:!x||o});return Z&&_("/",{replace:!0}),(0,p.jsx)(y,{fetchMore:g,i18n:d,isFetching:j,isProfilePinsStale:o,locale:h,location:s,match:i,prettyNumberFormat:m,resourceRef:w,setProfilePinsRefreshed:()=>e((0,z.O0)()),user:a,viewerId:c})}let C=function(){(0,n.useEffect)(()=>{(0,r.Z)("ProfilePinsPage","/app/www/pages/ProfilePinsPage.tsx")},[]);let e=(0,o.HG)(),s=(0,t.Z)(),i=s&&s.isAuth;return e&&i?(0,p.jsx)(g,{}):(0,p.jsx)(G,{})}},256106:function(e,s,i){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/[username]/pins",function(){return i(834964).Z}])}},function(e){e.O(0,["11592","11893","17874","20817","25418","29403","32467","3460","36529","39142","39366","39590","47037","47798","53547","56849","59396","60886","65570","77697","87566","93210","9752"],function(){return e(e.s=256106)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]/pins.ru_RU-a352a19a760b3259.mjs.map