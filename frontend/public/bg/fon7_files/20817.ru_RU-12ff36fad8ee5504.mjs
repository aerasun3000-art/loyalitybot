(self.modernJsonp=self.modernJsonp||[]).push([["20817"],{492774:function(e,n,t){var i,a,l,r;t.r(n),t.d(n,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},i,r,a,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};o.hash="160b60f499ce33660e2c11915eed4d09";let s=o},786897:function(e,n,t){var i,a,l,r;t.r(n),t.d(n,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:a=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:r=[l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},l,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};o.hash="3e837db15a9e9f5a0377c7ab62c7401e";let s=o},97812:function(e,n,t){var i;t.r(n),t.d(n,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};a.hash="756d8d8edca35eac0a0500359bf60618";let l=a},271255:function(e,n,t){t.d(n,{Z:()=>o});var i=t(686659),a=t(667294),l=t(20256),r=t(785893);let o=({text:e})=>((0,a.useEffect)(()=>{(0,i.Z)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}))},568736:function(e,n,t){function i(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:n,title:t}){let i=t.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${n}/`:`/discover/article/${i}/${n}/`}t.d(n,{x:()=>a,y:()=>i})},28031:function(e,n,t){t.d(n,{Z:()=>s});var i=t(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function l(){return window.innerWidth}function r(){return window.innerHeight}function o(){return null}function s(){let e=(0,i.useSyncExternalStore)(a,r,o),n=(0,i.useSyncExternalStore)(a,l,o);return null!==e&&null!==n?{height:e,width:n}:null}},654380:function(e,n,t){t.d(n,{HI:()=>r,f8:()=>s,hm:()=>o,sH:()=>l});var i=t(20256),a=t(785893);let l=({children:e})=>(0,a.jsx)(i.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),r=({children:e})=>(0,a.jsx)(i.xu,{padding:2,children:e}),o=({children:e})=>(0,a.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),s=({children:e})=>(0,a.jsx)(i.xu,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e})},90325:function(e,n,t){t.d(n,{Ec:()=>d,IA:()=>f,LX:()=>c,Mf:()=>h,SF:()=>o,_e:()=>s,h_:()=>b,l0:()=>r,ml:()=>l,pQ:()=>w,q4:()=>a,zn:()=>i});let i=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,l=2/3,r=1/3,o="36px",s="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24",3:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},m={1:"italics",0:"normal"},g={1:"bold",0:"normal"},h=({color:e,font_style:n,font_weight:t,horizontal_alignment:i,size:a},l)=>({color:e,fontStyle:m[n??0],fontWeight:g[t??1],horizontalAlignment:u[i??0],fontSize:p[l][a??0]+"px"}),f=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d,x={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"default"},_=x[8],v={1:"red",2:"gray",3:"transparent",4:"blue",5:"light",6:"dark"},y=v[2],w=e=>{if(e){if(e.button_style&&e.button_style in v)return v[e.button_style]||y;if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return v[1]||y;else if("#0074e8"===e.button_background_color.toLowerCase())return v[4]||y}}return y},b=(e,n)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in x)return x[e.title_text_customization?.text_color]||_;if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return x[7]||_;else if("#ffffff"===e.title_text_customization.color)return x[8]||_}}if(n)if("white"===n)return x[8]||_;else return x[7]||_;return _}},70625:function(e,n,t){t.d(n,{Z:()=>i});let i=(0,t(667294).createContext)("undefined"!=typeof window?window:null)},574991:function(e,n,t){t.d(n,{J:()=>i,Z:()=>a});let i=-1;function a(e){switch(e){case i:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},327638:function(e,n,t){t.d(n,{Z:()=>o});var i=t(686659),a=t(667294),l=t(20256),r=t(785893);function o(){return(0,a.useEffect)(()=>{(0,i.Z)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,r.jsx)(l.xu,{display:"visuallyHidden",children:", "})}},293646:function(e,n,t){t.d(n,{Z:()=>o});var i=t(667294);let a=new Map,l=null,r=e=>{e.forEach(e=>{let n=a.get(e.target);n&&n(e)})};function o({onVisibilityChanged:e,trackFullVisible:n,rootMargin:t}){let o=(0,i.useRef)(null),s=!1,d=()=>{let n;o.current instanceof HTMLElement&&(n=o.current,a.has(n))&&s&&(e(!1),s=!1)},c=(0,i.useCallback)(t=>{o.current instanceof HTMLElement&&((e,n="-64px 0px 0px 0px",t)=>{let i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:n,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(r,i),a.set(e,t),l.observe(e)})(o.current,t,t=>{if(!a.has(o.current))return;let i=n?t.intersectionRatio>=1:t.intersectionRatio>=.5,l=n?0===t.intersectionRatio:!i;!s&&i?(s=t.intersectionRatio>0||t.isIntersecting)&&e(!0):s&&l&&d()})},[o.current]);return(0,i.useEffect)(()=>(c(t),()=>{if(o.current instanceof HTMLElement){var e;d(),e=o.current,l.unobserve(e),a.delete(e)}}),[c]),o}},983963:function(e,n,t){t.d(n,{Z:()=>o});var i=t(686659),a=t(667294),l=t(20256),r=t(785893);let o=({icon:e,iconLabel:n,message:t,url:o,onTouch:s})=>{(0,a.useEffect)(()=>{(0,i.Z)("EmptyState","/app/www/EmptyState.tsx")},[]);let d=(0,r.jsxs)(l.xu,{alignItems:e?"center":void 0,color:"selected",display:e?"flex":"inlineBlock",justifyContent:e?"between":void 0,padding:2,rounding:2,children:[(0,r.jsx)(l.xu,{marginEnd:2*!!e,children:(0,r.jsx)(l.xv,{color:"inverse",overflow:"normal",weight:"bold",children:t})}),e&&n&&(0,r.jsx)(l.xu,{flex:"none",children:(0,r.jsx)(l.JO,{accessibilityLabel:n,color:"inverse",icon:e,size:32})})]});return(0,r.jsx)(l.xu,{paddingX:2,children:o?(0,r.jsx)(l.Tg,{href:o,onTap:({event:e})=>s?.(e),rounding:2,tapStyle:"none",children:d}):d})}},471310:function(e,n,t){t.d(n,{Z:()=>d});var i=t(686659),a=t(667294),l=t(20256),r=t(230201),o=t(24246),s=t(785893);function d({auxData:e,enabled:n,onPull:t,refreshing:d,viewParameter:c}){(0,a.useEffect)(()=>{(0,i.Z)("PullToRefresh","/app/www/Homefeed/PullMenu/PullToRefresh.tsx")},[]);let u=(0,o.Z)(),{logContextEvent:p}=(0,r.u)(),m=4079===c,{position:g,startYRefCurrent:h,pullDistance:f}=function({enabled:e,onSelect:n,refreshing:t}){let i=(0,a.useRef)(null),[l,r]=(0,a.useState)(0),[o,s]=(0,a.useState)(!1),d=t?0:l/250,c=d>0,u=()=>{s(!1),r(0)};return(0,a.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!t&&(i.current=e.touches[0].clientY)},a=e=>{if(i.current){let n=(e.touches[0].clientY-i.current)*.5;n>0&&(r(n),e.preventDefault())}},o=()=>{i.current&&(s(!0),n({pullDistance:l,position:d,resetState:u}),i.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",a,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",o)}}},[e,n,l,t,d]),{pullDistance:l,hasStartPulling:c,position:d,startYRefCurrent:i.current,PULL_MENU_DISTANCE:250,isExecuted:o}}({enabled:n,onSelect:n=>{let{pullDistance:i,resetState:a}=n;i>=120&&(p({view_type:1,event_type:158,view_parameter:m?4079:92,aux_data:m?e:{}}),t()),a()},refreshing:d}),x=Math.min(g,1),_=u.bt("Потяните вниз, чтобы обновить", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,s.jsx)(l.xu,{children:n&&(0,s.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:x,transition:null===h?"all .3s ease-out":void 0}},display:"flex",height:120*g,justifyContent:"center",children:(0,s.jsx)(l.JO,{accessibilityLabel:_,icon:h&&f<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},989045:function(e,n,t){t.d(n,{Z:()=>s});var i=t(686659),a=t(667294),l=t(20256),r=t(739405),o=t(785893);let s=()=>{(0,a.useEffect)(()=>{(0,i.Z)("InitialFeedFetch","/app/www/InitialFeedFetch.tsx")},[]);let e=(0,r.HG)();return(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},4710:function(e,n,t){t.d(n,{Z:()=>w});var i=t(686659),a=t(667294),l=t(20256),r=t(104999),o=t(935059),s=t(24246),d=t(619481),c=t(661376),u=t(112658),p=t(893957),m=t(983963),g=t(285676),h=t(683642),f=t(645479),x=t(838855),_=t(633101),v=t(785893);let y=({isOwnProfile:e})=>{let n=(0,s.Z)();return(0,v.jsx)(l.xu,{paddingY:4,children:e?(0,v.jsx)(m.Z,{icon:"arrow-circle-forward",iconLabel:n.bt("Перейти к своей ленте", "Go to home feed", "profile.pins.redirectButtonLabel", undefined, true),message:n.bt("Вы пока не сохранили ни одной идеи. Найдите интересные идеи...", "You haven't saved any ideas yet. Find ideas you love...", "you have no pins", undefined, true),url:"/"}):(0,v.jsx)(m.Z,{message:n.bt("Этот пользователь пока не сохранил ни одной идеи.", "This Pinner hasn't saved any ideas yet.", "user has no boards and pins", undefined, true)})})};function w({isOwnProfile:e,isProfilePinsStale:n,username:t,isRelatedPins:l=!1,resourceRef:s,isFetching:m,fetchMore:w,userAvatarImageUrl:b}){(0,a.useEffect)(()=>{(0,i.Z)("ProfilePinsFeed","/app/www/ProfilePinsPage/ProfilePinsFeed.tsx")},[]);let j=(0,r.Z)(),{isAuth:k}=(0,o.Z)(),C=(0,c.Z)(s?null:{name:"UserPinsResource",options:(0,h.Z)({isAuthenticated:k,isOwnProfile:e,username:t}),noCache:!e||n}),S=(0,d.Z)(s??{name:"DisabledResource",optionsKey:""}),P=s?S.data:C.data,Z=(0,a.useMemo)(()=>({loadNext:w??(()=>{}),hasNext:(s?S:C).isAtEnd,isLoadingNext:m??!1,refetch:()=>void 0}),[w,m,C,s,S]);(0,p.Z)(()=>{l&&j({event_type:13,view_type:4,view_parameter:e?3106:3107,component:14081})});let F=()=>(0,v.jsx)(x.Z,{emptyState:(0,v.jsx)(y,{isOwnProfile:e}),feedItems:P??[],feedKey:`profile-pins:${t}`,pagination:Z,renderFeedItem:(n,t)=>"pin"===n.type?(0,v.jsx)(f.Z,{children:(0,v.jsx)(g.Z,{componentType:0,duploQueryRef:null,pinId:n.id,slotIndex:t,trackingParams:n.tracking_params,trafficSource:"user_pins",userAvatarImageUrl:b,viewParameter:e?3106:3107,viewType:4})},n.id):(0,v.jsx)(_.Z,{slotIndex:t,storyId:n.id??"",viewParameter:e?3106:3107,viewType:4}),serverRender:!0});return l?(0,v.jsx)(u.Z,{component:14081,view:4,viewParameter:e?3106:3107,children:F()}):F()}},645479:function(e,n,t){t.d(n,{Z:()=>d});var i=t(686659),a=t(667294),l=t(49254),r=t(310758),o=t(785893);let s=new Set(["pin-card-hover-overlay","pin-card-hover-overlay-open-legend-wrapper"]);function d({children:e,headerHeightModifier:n}){(0,a.useEffect)(()=>{(0,i.Z)("ScrollPinToTopToFeedOnTap","/app/www/ScrollPinToTopToFeedOnTap.tsx")},[]);let t=(0,l.t)();return(0,o.jsx)(r.Z,{dataTestId:"scroll-pin-to-top-to-feed-on-tap",onTouch:e=>{let{target:i}=e;if(i instanceof HTMLElement&&("IMG"===i.tagName||s.has(i.getAttribute("data-test-id")??""))){let e=i.getBoundingClientRect().top+window.scrollY-t-(n??0);window.scrollTo(window.scrollX,e)}},pressState:"none",children:e})}},838855:function(e,n,t){t.d(n,{G:()=>v,Z:()=>y});var i=t(686659),a=t(667294),l=t(20256),r=t(261954),o=t(309947),s=t(806513),d=t(906127),c=t(70625),u=t(739405),p=t(893957),m=t(596663),g=t(471310),h=t(989045),f=t(759302),x=t(589247),_=t(785893);let v=25;function y({align:e,customLayoutType:n,getColumnSpanConfig:t,getResponsiveModuleConfigForSecondItem:v,emptyState:y,feedItems:w,feedKey:b,maxColumns:j,minColumns:k,pagination:{hasNext:C,isLoadingNext:S,loadNext:P,refetch:Z},pullToRefresh:F,renderFeedItem:I,serverRender:z,isLoadingStateEnabled:T,isLoadingAccessibilityLabel:A,isLoadedAccessibilityLabel:L,layout:B,forceShowLoadingState:K}){(0,a.useEffect)(()=>{(0,i.Z)("SimpleFeed","/app/www/SimpleFeed.tsx")},[]);let E=(0,u.HG)(),{experimentalColumnWidth:M,experimentalGutter:U}=(0,o.Z)(),[$,D]=(0,a.useState)(!1),R=1===j?window.innerWidth:void 0,H="userSearch"===n?window.innerWidth-16:200,G=S&&0===w.length&&!$&&!T,O="desktopFlashlight"===n||"ideaPage"===n&&E?-2:s.qG,W=k??2;return"userSearch"===n&&(W=1),(0,p.Z)(()=>(window.addEventListener("online",P),()=>window.removeEventListener("online",P))),(0,_.jsxs)(l.xu,{"data-test-id":"MobileFeed",children:[(0,_.jsx)(g.Z,{enabled:!!F,onPull:()=>{Z(),D(!0)},refreshing:$}),(0,_.jsxs)(l.xu,{"data-test-id":"grid",marginEnd:O,marginStart:O,opacity:$?.5:1,children:[(0,_.jsx)(d.Z,{isAtEndOfFeed:!C,isPlaceholderGrid:T&&S&&!w.length,itemCount:w.length,children:w.length?(0,_.jsx)(l.xu,{"data-test-id":"feed",marginTop:(0,m.kk)({isDesktop:E}),children:(0,_.jsx)(c.Z.Consumer,{children:i=>(0,_.jsx)(a.Fragment,{children:(0,_.jsx)(x.Z,{children:(0,_.jsx)(r.default,{_getResponsiveModuleConfigForSecondItem:v,align:e||("ideaPage"===n?"start":void 0),cacheKey:b,columnWidth:E?M??s.yF:R??H,getColumnSpanConfig:t,gutterWidth:E?U??4*s.jC:void 0,id:z?b:void 0,isFetching:K??S,isLoadedAccessibilityLabel:L??"",isLoadingAccessibilityLabel:A??"",isLoadingStateEnabled:K??!!T,items:w,layout:B??void 0,loadItems:P,maxColumns:j,minCols:W,optOutFluidGridExperiment:null!=j,renderItem:({data:e,itemIdx:n})=>I(e,n),scrollContainerRef:i,serverRender:z})})})})}):S?(0,_.jsx)(h.Z,{}):y??null}),G&&(0,_.jsx)(l.xu,{column:12,paddingY:2,children:(0,_.jsx)(f.Z,{partialViewportWidth:"desktopFlashlight"===n})})]})]})}},589247:function(e,n,t){t.d(n,{Z:()=>d});var i=t(686659),a=t(667294),l=t(935059),r=t(739405),o=t(153040),s=t(785893);let d=({children:e})=>{(0,a.useEffect)(()=>{(0,i.Z)("UnauthContextMenuControllerWrapper","/app/www/UnauthContextMenuControllerWrapper.tsx")},[]);let n=(0,r.HG)();return!(0,l.Z)().isAuth&&n?(0,s.jsx)(o.x,{children:e}):e}},603284:function(e,n,t){t.d(n,{Z:()=>c});var i=t(686659),a=t(667294),l=t(746868),r=t(360033),o=t(495773),s=t(785893);class d extends a.Component{componentDidMount(){let{setCurrentPageData:e,viewData:n,viewParameter:t,viewType:i}=this.props;e({viewData:n,viewParameter:t,viewType:i})}componentDidUpdate(e){let{setCurrentPageData:n,viewData:t,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&(0,r.ZP)(t,e.viewData)||n({viewData:t,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:n,component:t,objectIdStr:i,viewData:a,viewParameter:l,viewType:r,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.Z,{auxData:e,clientTrackingParams:d,component:t,objectIdStr:i,viewData:a,viewParameter:l,viewType:r,children:n})}}function c(e){(0,a.useEffect)(()=>{(0,i.Z)("PageView","/app/www/analytics/PageView.tsx")},[]);let{setViewContextData:n,clearViewContextData:t}=(0,l.A$)();return(0,s.jsx)(d,{...e,clearCurrentPageData:t,setCurrentPageData:n})}},143677:function(e,n,t){t.d(n,{Z:()=>T});var i,a=t(686659),l=t(667294);t(167912);var r=t(20256),o=t(104999),s=t(935059),d=t(183e3),c=t(24246),u=t(995514),p=t(720459),m=t(216975),g=t(774838),h=t(865043),f=t(327638),x=t(380938),_=t(739405),v=t(474885),y=t(319226),w=t(914253),b=t(785893);function j({boardId:e}){(0,l.useEffect)(()=>{(0,a.Z)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let n=(0,s.Z)(),t=(0,_.HG)(),i=(0,w.gC)()(e),o=function(e){let n=(0,s.Z)(),t=(0,_.HG)()&&n&&n.isAuth,i=(0,w.gC)()(e);return(0,l.useMemo)(()=>{if(!i)return[];let{owner:e,collaborating_users:a}=i,[l,r,o]=[new Set,new Set,new Set];for(let t of[...e?[e]:[],...a||[]])t.id===e?.id?l.add(t):t.id===(n.isAuth?n.id:void 0)?r.add(t):o.add(t);return[...l,...r,...o].map(e=>({name:(t?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[t,i,n])}(e);if(!i)return null;let{collaborator_count:d=0}=i,c=t&&n&&n.isAuth?23:16,u=c/3*((o.length>2?3:o.length)*2+1),p=d>=o.length?d-o.length:0,m=[...o,...Array(p=p>99?100:p).fill({name:"",src:""})];return(0,b.jsxs)(r.xu,{height:c,marginStart:2,minWidth:u,width:u,children:[(0,b.jsx)(f.Z,{}),(0,b.jsx)(y.HE,{collaborators:m})]})}var k=t(464094),C=t(748261),S=t(338065),P=t(69841),Z=t(798385),F=t(305375);let I=(void 0!==i||(i=t(492774)).hash&&"160b60f499ce33660e2c11915eed4d09"!==i.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),z=({children:e,isOwnProfile:n,lineClamp:t})=>(0,_.HG)()?(0,b.jsx)(r.X6,{accessibilityLevel:2,lineClamp:n?1:t,size:n?"400":"300",children:e}):(0,b.jsx)(r.xv,{lineClamp:n?1:t,size:n?void 0:"200",weight:"bold",children:e});function T({auxData:e,archivedDate:n,boardId:t,boardUrl:i,canEdit:y,numberOfCollaborators:w,containerBackgroundColor:T,coverPhoto:A,display:L,followButtonDisabled:B=!1,followedByMe:K,fullSizeDrawer:E,sensitivityScreen:M,handleInviteResponse:U,hideMeta:$,hideSecretBoardIcon:D=!1,id:R,invite:H,imagesLego:G=[],isActive:O,isAttributionHeightUnfixed:W,isAuthenticated:N,isBoardInviteAccepted:V,isCollaborative:Y,isCollaborator:q,isCollaboratorsAttributionVisible:X=!1,isFeaturedBoardsModule:J=!1,isHomePageBoards:Q,isOwner:ee,isProtected:en,isSecret:et,lastModifiedDate:ei,layout:ea,lineClamp:el=2,locale:er,metaMarginTop:eo=0,metaMarginBottom:es=0,metaPaddingY:ed=2,name:ec,numCols:eu,onEditClick:ep,onFollow:em,onUnfollow:eg,pinCount:eh=0,sectionCount:ef,slotIndex:ex,showFollowButton:e_,showBoardCollaborators:ev=!0,showTitleOnly:ey,trackingParams:ew,boardKey:eb,viewObjectIdStr:ej,viewParameter:ek,viewType:eC}){(0,l.useEffect)(()=>{(0,a.Z)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let eS=(0,c.Z)(),eP=(0,u.Z)(),eZ=(0,p.Z)(),eF=(0,o.Z)(),eI=(0,_.HG)(),{isRTL:ez}=(0,g.B)(),eT=(0,s.Z)(),{username:eA}=(0,F.Z)(),eL=(0,Z.Z)(),eB=eL[eA??""]?.is_gco_account,eK=(0,d.Z)(I,eb),{featuredBoardMetadata:eE}=eK||{},{curator:eM,isSponsoredContent:eU}=eE||{},e$=J&&eU,eD=eI&&N,eR="square"===ea?k.M0:k.z9,eH="responsive"!==L&&(eD||J)?eR:"100%",eG=eT.isAuth&&eT.username===eA,eO=e=>{N||(0,h.NC)("press_follow_board"),em&&em(e)},eW=e=>{N||(0,h.NC)("press_unfollow_board"),eg&&eg(e)},eN=G.map(e=>({url:e.url,name:ec})),eV=!!eK?.owner&&!y&&e_,eY=eK?.owner?.isVerifiedMerchant,eq=eK?.owner?.verifiedIdentity?.verified,eX=Y&&!J;eG||(eX&&=!!eA&&!eB);let eJ=!ee&&!q&&!!M?.show_warning,eQ={board_id:R,reason:M?.reason},e0=!eG&&!ey&&(!eA||X||eB),e1=eD?void 0:k.s0+(eV?k.o2:0);eG||(e1=eI?void 0:(e0?k.AC:k.Y_)+(eV?k.o2:0));let e2=eV&&"responsive"!==L?`max(calc(25vh + 10px), calc(210px + ${5*!eG}vh))`:"100%";return(0,l.useEffect)(()=>{eJ&&eF({event_type:13,component:13861,view_type:215,aux_data:eQ})},[]),(0,b.jsx)(P.fS,{auxData:{board_id:R,board_pin_count:eh??0,board_section_count:ef??0,grid_index:ex||0,...e},impressionData:{imageURL:A?.url},loggingId:R,slotIndex:ex||0,trackingParams:ew,viewData:{view_object_id_str:ej},viewParameter:ek,viewType:eC,children:({impressionTrackerRef:e})=>(0,b.jsxs)(r.xu,{ref:e,"data-test-id":`boardCard-${ec}`,height:n&&!eI?"100%":e2,position:"relative",width:eH,children:[(0,b.jsx)(r.zd,{rounding:4,children:(0,b.jsx)(C.Z,{boardKey:eK,canEdit:y,containerBackgroundColor:T,coverPhoto:A,coverPinKey:eK?.coverPin,fullSize:E,hideSecretBoardIcon:D,images:eN,isActive:O,isHomePageBoards:Q,isProtected:en,isSecret:et,layout:ea,onEditClick:ep,renderAsImage:!0,showSensitivityScreen:eJ})}),!$&&(0,b.jsx)(l.Fragment,{children:H?(0,b.jsxs)(l.Fragment,{children:[(0,b.jsxs)(r.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,b.jsxs)(r.xu,{width:"100%",children:[(0,b.jsx)(r.rU,{href:i??"",children:(0,b.jsx)(r.xu,{marginBottom:1,marginTop:0,children:(0,b.jsx)(z,{isOwnProfile:eG,lineClamp:el,children:ec})})}),V?(0,b.jsx)(r.xv,{lineClamp:1,size:"200",children:eS.bt("Вы присоединились.", "You’ve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,b.jsx)(r.xv,{size:"200",children:function(e,n){let{full_name:t,username:i}=e,a=(0,b.jsx)(r.rU,{display:"inlineBlock",href:`/${i}`,underline:"hover",children:t},"linkToUser");return(0,m.nk)(n.bt("{{ linkToUser }} приглашает вас на эту доску", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:a})}(H.invited_by_user,eS)})]}),ev&&(0,b.jsx)(j,{boardId:t})]}),V?(0,b.jsx)(r.xu,{direction:"row",display:"flex",paddingX:2,children:(0,b.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(r.ZP,{fullWidth:!0,href:i??"",size:"lg",text:eS.bt("Просмотреть доску", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,b.jsxs)(r.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,b.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(r.zx,{fullWidth:!0,onClick:()=>{U?.(!1)},size:"lg",text:eS.bt("Отклонить", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,b.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,b.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:()=>{U?.(!0)},size:"lg",text:eS.bt("Принять", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]}):(0,b.jsxs)(r.xu,{height:W?void 0:e1,marginBottom:es,marginTop:eo,paddingX:2,paddingY:ed,children:[(0,b.jsxs)(r.xu,{alignItems:eG?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,b.jsx)(z,{isOwnProfile:eG,lineClamp:el,children:ec}),eX&&ev&&(0,b.jsx)(j,{boardId:t})]}),e0&&(0,b.jsx)(r.xu,{marginTop:1,children:e$?(0,b.jsx)(v.Z,{numberOfCollaborators:0,ownerFullName:eM?.fullName??"",ownerIsVerifiedIdentity:!!eM?.verifiedIdentity?.verified,ownerIsVerifiedMerchant:!!eM?.isVerifiedMerchant,showBoardCollaborators:!1}):(0,b.jsx)(v.Z,{numberOfCollaborators:w,ownerFullName:eK?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eq,ownerIsVerifiedMerchant:!!eY,showBoardCollaborators:ev})}),!ey&&(0,b.jsxs)(r.xu,{alignItems:eI?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,b.jsx)(r.kC.Item,{flex:"none",children:(0,b.jsxs)(r.xv,{color:eG?void 0:"subtle",lineClamp:1,size:"100",children:[(0,b.jsx)(f.Z,{}),(0,m.nk)(eS.nbt(["{{ count }} пин", "{{ count }} пина", "{{ count }} пинов"], eh, "profile.ProfilePage.board.BoardCard.pinsCount", true),{count:eZ(er,eh,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!ef&&(0,b.jsxs)(r.xv,{color:eG?void 0:"subtle",lineClamp:1,size:"100",children:[(0,b.jsx)(x.Z,{ariaHidden:!0,size:"100"}),(0,b.jsx)(f.Z,{}),(0,m.nk)(eS.nbt(["{{ count }} раздел", "{{ count }} раздела", "{{ count }} разделов"], ef, "profile.ProfilePage.board.BoardCard.sectionsCount", true),{count:ef})]}),!eG&&(0,b.jsx)(r.xv,{color:"subtle",size:"100",children:(0,b.jsx)(x.Z,{ariaHidden:!0,size:"100"})}),(0,b.jsx)(r.kC.Item,{flex:ef?"none":"grow",children:(0,b.jsx)(r.xu,{display:"flex",marginEnd:2*!!ez,marginStart:eG?2:void 0,children:(0,b.jsxs)(r.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,b.jsx)(f.Z,{}),eP(ei,!0)]})})})]}),n&&!eI&&(0,b.jsxs)(r.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,b.jsx)(f.Z,{}),eS.bt("Архивированная", "Archived", "profile.ProfilePage.BoardCard.ArchivedText", undefined, true)]}),eV&&(0,b.jsx)(r.xu,{column:2===eu?12:void 0,flex:"none",marginTop:2===eu?3:void 0,children:(0,b.jsx)(S.Z,{disabled:!!eK?.owner?.blockedByMe||B,followEventType:26,id:R,isFollowed:K,onFollow:eO,onUnfollow:eW,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ek,viewType:eC})})]})})]})})}},662911:function(e,n,t){t.r(n),t.d(n,{default:()=>k});var i,a=t(686659),l=t(667294),r=t(581722);t(167912);var o=t(20256),s=t(104999),d=t(935059),c=t(183e3),u=t(774838),p=t(865043),m=t(736328),g=t(739405),h=t(143677),f=t(422913),x=t(214451),_=t(701572),v=t(914253),y=t(785893);let w=(void 0!==i||(i=t(786897)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==i.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),b=["thumbnail","imageOnly"],j=({isUsingMask:e,setIsHovered:n,children:t})=>{let i=(0,g.HG)();return e&&i?(0,y.jsx)(o.xu,{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:t}):(0,y.jsx)(l.Fragment,{children:t})};function k({auxData:e,boardKey:n,component:t,containerBackgroundColor:i,display:k="responsive",forwardedRef:C,fullSize:S,hideSecretBoardIcon:P=!1,isAttributionHeightUnfixed:Z=!1,isCollaboratorsAttributionVisible:F=!1,isFeaturedBoardsModule:I=!1,isHomePageBoards:z,noPaddings:T=!1,showFollowButton:A=!0,isUsingMask:L=!1,showPinCount:B=!0,slotIndex:K,type:E,viewObjectIdStr:M,viewParameter:U,viewType:$,trackInteractionObjectProp:D,isFromProfileGrid:R=!1,metaMarginTop:H=2,metaMarginBottom:G=0,metaPaddingY:O=0}){(0,l.useEffect)(()=>{(0,a.Z)("BoardRep","/app/www/board/BoardRep.tsx")},[]);let W=(0,d.Z)(),N=W&&W.isAuth,V=(0,r.I0)(),{locale:Y}=(0,u.B)(),q=(0,m.Z)(),X=(0,c.Z)(w,n),J=(0,v.gC)(),Q=X?.entityId?J(X.entityId):null,ee=(0,f.Z)(X),en=(0,s.Z)(),et=(0,g.HG)(),[ei,ea]=(0,l.useState)(!1);if(!X)return null;let{collaboratingUsers:el,owner:er,privacy:eo,shouldShowBoardCollaborators:es}=X,ed=W.isAuth?W.id:"",ec=er?.entityId===ed,eu=[];el?.__typename==="UserCollaboratingUsersConnectionContainer"?eu=el.connection?.edges?.map(e=>e?.node?.entityId)??[]:Q?.collaborating_users&&(eu=Q.collaborating_users.map(e=>e.id));let ep=eu.includes(ed)||ec;if("secret"===eo&&!ep)return null;let em=!N&&!(R&&X.hasCustomCover)&&!!X.images236x?.[0]?.url,eg="grid"===E||"thumbnail"===E?2:4,eh=em?X.images236x?.[0]?.url:ee(eg),ef=X.coverPin??Q?.cover_pin,ex=(ef?.crop&&ef?.size&&{x:ef?.crop[0]??0,y:ef?.crop[1]??0,width:ef?.size[0]??0,height:ef?.size[0]??0})??{x:0,y:0,width:0,height:0},e_={isCustom:!em&&(X.hasCustomCover||void 0),url:eh,position:ex},ev=X.pinThumbnailUrls??Q?.pin_thumbnail_urls,ey=(0,x.Jx)(X.images170x,ev?.filter(e=>null!==e)??void 0,eh).map(({url:e})=>({name:(0,x.po)(e),url:e})),ew=[44,49,4182].includes(U)||[3,442,625].includes($),eb=X?.sensitivityScreen?{reason:X.sensitivityScreen?.reason,showWarning:X.sensitivityScreen?.showWarning}:void 0,ej=X.pinCount??Q?.pin_count??0,ek=X.sectionCount??Q?.section_count??0,eC=(0,y.jsx)(h.Z,{archivedDate:X.archivedByMeAt??Q?.archived_by_me_at,auxData:e,boardId:X.entityId,boardKey:X,canEdit:!!X.boardAccess&&X.boardAccess.includes("write"),containerBackgroundColor:i,coverPhoto:e_,display:k,followedByMe:!!(Q?.followed_by_me??X.followedByMe),fullSizeDrawer:S,hideMeta:b.includes(E),hideSecretBoardIcon:P,id:X.entityId,imagesLego:ey,isActive:ei,isAttributionHeightUnfixed:Z,isAuthenticated:N,isCollaborative:!!X.isCollaborative,isCollaborator:!!ep,isCollaboratorsAttributionVisible:F,isFeaturedBoardsModule:I,isHomePageBoards:z,isOwner:ec,isProtected:"protected"===X.privacy||Q?.privacy==="protected",isSecret:"secret"===X.privacy||Q?.privacy==="secret",lastModifiedDate:X.boardOrderModifiedAt??Q?.board_order_modified_at??"",layout:et?"square":void 0,locale:Y,metaMarginBottom:G,metaMarginTop:H,metaPaddingY:O,name:X.name??(Q?.name||""),numberOfCollaborators:eu.length,numCols:eg,onFollow:e=>V((0,_.Z)(e,en)),onUnfollow:e=>V((0,_.f)(e,en)),pinCount:B&&ej?ej:void 0,sectionCount:ek??0,sensitivityScreen:eb,showBoardCollaborators:!1!==es,showFollowButton:A,showTitleOnly:"imageTitle"===E,slotIndex:K,viewerId:ed,viewObjectIdStr:M,viewParameter:U,viewType:$}),eS=X.url||Q?.url;return!b.includes(E)&&eS?(0,y.jsx)(o.Tg,{dataTestId:"board-rep-tap-area-link",href:N?eS:eS.toLowerCase(),onTap:()=>{if(ew&&en({aux_data:{board_id:X.entityId,board_pin_count:ej,board_section_count:ek,story_type:e?.story_type},component:t??1,element:36,event_type:102,view_parameter:49===U?ec?3106:3107:U,view_data:{view_object_id_str:M}}),!N){if((0,p.NC)("click_go_to_board"),D)return void q(D);q({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,y.jsx)(o.xu,{ref:C,paddingY:T?0:et?2:3,children:(0,y.jsx)(j,{isUsingMask:L,setIsHovered:ea,children:eC})})}):eC}},474885:function(e,n,t){t.d(n,{Z:()=>p});var i=t(686659),a=t(667294),l=t(20256),r=t(271255),o=t(24246),s=t(720459),d=t(774838),c=t(785893);let u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function p({ownerFullName:e,ownerIsVerifiedMerchant:n,ownerIsVerifiedIdentity:t,numberOfCollaborators:p,size:m="xs",showBoardCollaborators:g=!0}){(0,a.useEffect)(()=>{(0,i.Z)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let h=(0,o.Z)(),{locale:f}=(0,d.B)(),x=(0,s.Z)();return(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[m].height,children:[(0,c.jsx)(l.xe,{lineClamp:1,size:u[m].text,children:(0,c.jsx)(r.Z,{text:e})}),(n||t)&&(0,c.jsx)(l.xu,{flex:"none",marginStart:1,children:n?(0,c.jsx)(l.kw,{accessibilityLabel:h.bt("Значок подтвержденного продавца", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"info",icon:"compact-check-circle-fill",size:u[m].icon}):(0,c.jsx)(l.kw,{accessibilityLabel:h.bt("Значок полученного подтверждения личности", "Identity verification badge icon", "identityVerification.badge.icon", undefined, true),color:"error",icon:"compact-check-circle-fill",size:u[m].icon})}),g&&p>0&&(0,c.jsx)(l.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,c.jsx)(l.xe,{size:u[m].text,children:"+ "+x(f,p,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},422913:function(e,n,t){t.d(n,{Z:()=>o}),t(167912);var i,a=t(183e3),l=t(914253);let r=(void 0!==i||(i=t(97812)).hash&&"756d8d8edca35eac0a0500359bf60618"!==i.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),o=e=>{let n=(0,a.Z)(r,e),t=(0,l.gC)(),i=n?.entityId?t(n.entityId):null,o=n?.imageCoverUrl??i?.image_cover_url,s=n?.coverImageSpec_216x146??i?.cover_images?.spec_216x146,d=n?.coverImageSpec_222x??i?.cover_images?.spec_222x,c=n?.coverImageSpec_400x300??i?.cover_images?.spec_400x300;return e=>{let t=n?.imageCoverHdUrl||n?.imageCoverUrl;if(t)return t;let i=c?.url??d?.url??s?.url??"";return e&&e>2&&i?i:o||""}}},214451:function(e,n,t){t.d(n,{Bw:()=>o,Jx:()=>r,po:()=>i});let i=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),l=e=>{if(!e)return()=>!0;let n=i(e);return e=>"string"==typeof e?i(e)!==n:i(e.url??"")!==n},r=(e,n,t)=>e?e.filter(l(t)):n?n.filter(l(t)).map(a):[],o=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},596663:function(e,n,t){t.d(n,{G9:()=>r,SY:()=>s,kk:()=>l,mb:()=>d,s:()=>o});var i=t(806513),a=t(684570);let l=({isDesktop:e})=>{let n=(0,a.Z)({isDesktop:e});return n?-n:0},r=-2,o=({trafficSource:e,deviceType:n,experimentalGutter:t})=>{let a=t??4*i.jC;return"desktop"===n?a:"board"===e?4:void 0},s=({deviceType:e,customMWebColumnWidth:n,experimentalColumnWidth:t})=>{let a=t??i.yF;return"desktop"===e?a:n||200},d=({gutterWidth:e,itemWidth:n,className:t,minColumns:a=i.yc,maxColumns:l=i.g5})=>{let r=n+e;return Array.from({length:l+1-a},(e,n)=>n+a).map(n=>({minWidth:n===a?0:n*r,maxWidth:n===l?null:(n+1)*r-1,styles:`
      .${t} {
        max-width: ${n*r-e}px;
      }
      `})).map(({minWidth:e,maxWidth:n,styles:t})=>`
    @media (min-width: ${e}px) ${n?`and (max-width: ${n}px)`:""} {
      ${t}
    }
  `).join("")}},759302:function(e,n,t){t.d(n,{Z:()=>h});var i=t(686659),a=t(667294),l=t(20256),r=t(806513),o=t(59111),s=t(739405),d=t(838751),c=t(785893);let u="PinGridSkeletonLoader__tall",p="PinGridSkeletonLoader__short",m=({size:e})=>(0,c.jsx)(l.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===e?u:p})}),g=({children:e})=>(0,c.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),h=({partialViewportWidth:e})=>{(0,a.useEffect)(()=>{(0,i.Z)("PinGridSkeletonLoader","/app/www/loader/PinGridSkeletonLoader.tsx")},[]);let n="desktop"===(0,s.ZP)(),t=n?r.yF:r.tG;return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(o.Z,{unsafeCSS:[{name:u,height:250},{name:p,height:150}].map(({name:e,height:n})=>(0,d.Z)({name:e,width:t,height:n})).join("")}),(0,c.jsx)(l.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:r.qG,marginStart:r.qG,children:n?(0,c.jsxs)(l.kC,{direction:"row",gap:{row:r.jC,column:0},children:[(0,c.jsx)(g,{children:(0,c.jsx)(m,{size:"tall"})}),(0,c.jsx)(g,{children:(0,c.jsx)(m,{size:"short"})}),(0,c.jsx)(g,{children:(0,c.jsx)(m,{size:"tall"})}),!e&&(0,c.jsx)(g,{children:(0,c.jsx)(m,{size:"short"})})]}):(0,c.jsxs)(l.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,c.jsxs)(g,{children:[(0,c.jsx)(m,{size:"tall"}),(0,c.jsx)(m,{size:"short"}),(0,c.jsx)(m,{size:"tall"})]}),(0,c.jsxs)(g,{children:[(0,c.jsx)(m,{size:"short"}),(0,c.jsx)(m,{size:"tall"}),(0,c.jsx)(m,{size:"short"}),(0,c.jsx)(m,{size:"tall"})]})]})})]})}},838751:function(e,n,t){t.d(n,{Z:()=>i});let i=({name:e,width:n,height:t})=>{let i=`${n}${"number"==typeof n?"px":""}`,a=`${t}${"number"==typeof t?"px":""}`,l="number"==typeof n?n:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${l} ${a};
  width: ${i};
  height: ${a};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${l}px 0;
  }
  100% {
      background-position: ${l}px 0;
  }
}
`}},701572:function(e,n,t){t.d(n,{Z:()=>l,f:()=>r});var i=t(681698),a=t(160587);function l(e,n){return async t=>{t((0,a.md)(e,!0));try{await (0,i.Z)({url:`/v3/boards/${e}/follow/`,method:"PUT"}),n({event_type:26,object_id_str:e})}catch(n){t((0,a.md)(e,!1))}}}function r(e,n){return async t=>{t((0,a.md)(e,!1));try{await (0,i.Z)({url:`/v3/boards/${e}/follow/`,method:"DELETE"}),n({event_type:27,object_id_str:e})}catch(n){t((0,a.md)(e,!0))}}}},496516:function(e,n,t){t.d(n,{Z:()=>i});function i(e,n){let{group:t}=e("dweb_scroll_pin_to_top_on_tap");return"enabled_all"===t||"employees"===t||t===`enabled_${n}`}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/20817.ru_RU-12ff36fad8ee5504.mjs.map