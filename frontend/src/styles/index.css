@tailwind base;
@tailwind components;
@tailwind utilities;

/* Telegram Web App + Sakura палитра — переменные */
:root {
  --tg-theme-bg-color: #ffffff;
  --tg-theme-text-color: #000000;
  --tg-theme-hint-color: #999999;
  --tg-theme-link-color: #6D3C52;
  --tg-theme-button-color: #6D3C52;
  --tg-theme-button-text-color: #ffffff;
  --tg-theme-secondary-bg-color: #FAF7F5;

  /* Sakura palette — RGB channels for opacity support */
  --sakura-bg: 250 247 245;
  --sakura-light: 254 245 243;
  --sakura-cream: 255 248 245;
  --sakura-surface: 250 220 213;
  --sakura-border: 118 93 103;
  --sakura-accent: 109 60 82;
  --sakura-mid: 75 33 56;
  --sakura-deep: 27 12 26;
  --sakura-dark: 45 34 47;
  --sakura-gold: 184 134 11;
  --sakura-gold-light: 245 230 200;
  --sakura-muted: 107 91 110;
}

.dark {
  --tg-theme-bg-color: #1B0C1A;
  --tg-theme-text-color: #ffffff;
  --tg-theme-hint-color: #A090A3;
  --tg-theme-link-color: #D4899B;
  --tg-theme-button-color: #D4899B;
  --tg-theme-button-text-color: #ffffff;
  --tg-theme-secondary-bg-color: #2D222F;

  /* Sakura palette — dark mode RGB */
  --sakura-bg: 27 21 32;
  --sakura-light: 30 24 34;
  --sakura-cream: 26 18 24;
  --sakura-surface: 45 34 47;
  --sakura-border: 90 74 82;
  --sakura-accent: 212 137 155;
  --sakura-mid: 196 122 144;
  --sakura-deep: 245 230 232;
  --sakura-dark: 232 213 216;
  --sakura-gold: 212 168 50;
  --sakura-gold-light: 61 46 26;
  --sakura-muted: 160 144 163;
}

body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--tg-theme-bg-color);
  color: var(--tg-theme-text-color);
  overflow-x: hidden;
}

#root {
  min-height: 100vh;
  width: 100%;
}

/* Убираем стандартные стили браузера */
* {
  box-sizing: border-box;
}

/* Плавная прокрутка */
html {
  scroll-behavior: smooth;
}

/* Dark mode: переопределение стандартных цветов */
@layer base {
  .dark {
    color-scheme: dark;
  }
}

/* Компоненты Telegram */
@layer components {
  .tg-button {
    @apply bg-tg-button text-tg-button-text rounded-lg px-4 py-3 font-medium
           hover:opacity-90 active:opacity-80 transition-opacity;
  }

  .tg-button-secondary {
    @apply bg-tg-secondary-bg text-tg-text rounded-lg px-4 py-3 font-medium
           hover:opacity-90 active:opacity-80 transition-opacity;
  }

  .tg-card {
    @apply bg-tg-secondary-bg rounded-2xl p-4 shadow-sm;
  }

  .tg-input {
    @apply w-full bg-tg-secondary-bg text-tg-text rounded-lg px-4 py-3
           border-2 border-transparent focus:border-tg-button outline-none
           transition-colors;
  }
}

/* Кнопки — 3 варианта */
@layer components {
  .btn-primary {
    @apply bg-sakura-accent text-white rounded-xl px-4 py-3 font-medium
           hover:bg-sakura-mid active:scale-95 transition-all;
  }

  .btn-secondary {
    @apply bg-sakura-surface text-sakura-deep rounded-xl px-4 py-3 font-medium
           border border-sakura-border/30 hover:bg-sakura-surface/80 active:scale-95 transition-all;
  }

  .btn-ghost {
    @apply bg-transparent text-sakura-deep rounded-xl px-4 py-3 font-medium
           hover:bg-sakura-surface/50 active:scale-95 transition-all;
  }

  /* Sakura search bar */
  .search-bar-sakura {
    @apply w-full bg-sakura-light rounded-xl px-4 py-3 text-sakura-deep
           placeholder-sakura-muted border-0 focus:outline-none focus:ring-2
           focus:ring-sakura-accent/20 transition-all;
  }
}

/* Анимированный градиент */
.bg-animated-gradient {
  background: linear-gradient(270deg, rgb(var(--sakura-accent)), rgb(var(--sakura-mid)), rgb(var(--sakura-surface)));
  background-size: 600% 600%;
  animation: gradient-shift 8s ease infinite;
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Плавное появление */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.fade-in-up {
  animation: fadeInUp 0.3s ease-out forwards;
  opacity: 0;
}

/* Задержки для каскадного появления */
.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.2s; }
.delay-300 { animation-delay: 0.3s; }
.delay-400 { animation-delay: 0.4s; }
.delay-500 { animation-delay: 0.5s; }

/* Модалки — fade overlay + scale content */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95) translateY(8px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out forwards;
}

.animate-scale-in {
  animation: scaleIn 0.25s ease-out forwards;
}

/* Toast анимации */
@keyframes slideDown {
  from { opacity: 0; transform: translateY(-12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
  from { opacity: 1; transform: translateY(0); }
  to { opacity: 0; transform: translateY(-12px); }
}

.animate-slide-down {
  animation: slideDown 0.25s ease-out forwards;
}

.animate-slide-up {
  animation: slideUp 0.2s ease-in forwards;
}
